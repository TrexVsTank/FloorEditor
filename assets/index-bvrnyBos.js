(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Dh(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const qe={},To=[],ps=()=>{},oE=()=>!1,Rc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$h=e=>e.startsWith("onUpdate:"),On=Object.assign,Uh=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},aE=Object.prototype.hasOwnProperty,Ue=(e,t)=>aE.call(e,t),Wt=Array.isArray,ko=e=>za(e)==="[object Map]",Pc=e=>za(e)==="[object Set]",Qg=e=>za(e)==="[object Date]",ne=e=>typeof e=="function",xn=e=>typeof e=="string",ys=e=>typeof e=="symbol",Xe=e=>e!==null&&typeof e=="object",jy=e=>(Xe(e)||ne(e))&&ne(e.then)&&ne(e.catch),Ky=Object.prototype.toString,za=e=>Ky.call(e),lE=e=>za(e).slice(8,-1),Zy=e=>za(e)==="[object Object]",Fh=e=>xn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xa=Dh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},cE=/-(\w)/g,Vr=Oc(e=>e.replace(cE,(t,n)=>n?n.toUpperCase():"")),uE=/\B([A-Z])/g,yi=Oc(e=>e.replace(uE,"-$1").toLowerCase()),Ic=Oc(e=>e.charAt(0).toUpperCase()+e.slice(1)),bf=Oc(e=>e?`on${Ic(e)}`:""),ui=(e,t)=>!Object.is(e,t),nc=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Qy=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},fc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},fE=e=>{const t=xn(e)?Number(e):NaN;return isNaN(t)?e:t};let Jg;const Lc=()=>Jg||(Jg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qa(e){if(Wt(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=xn(r)?gE(r):qa(r);if(s)for(const o in s)t[o]=s[o]}return t}else if(xn(e)||Xe(e))return e}const hE=/;(?![^(]*\))/g,dE=/:([^]+)/,pE=/\/\*[^]*?\*\//g;function gE(e){const t={};return e.replace(pE,"").split(hE).forEach(n=>{if(n){const r=n.split(dE);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function or(e){let t="";if(xn(e))t=e;else if(Wt(e))for(let n=0;n<e.length;n++){const r=or(e[n]);r&&(t+=r+" ")}else if(Xe(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const mE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yE=Dh(mE);function Jy(e){return!!e||e===""}function vE(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Nc(e[r],t[r]);return n}function Nc(e,t){if(e===t)return!0;let n=Qg(e),r=Qg(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ys(e),r=ys(t),n||r)return e===t;if(n=Wt(e),r=Wt(t),n||r)return n&&r?vE(e,t):!1;if(n=Xe(e),r=Xe(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,o=Object.keys(t).length;if(s!==o)return!1;for(const l in e){const c=e.hasOwnProperty(l),u=t.hasOwnProperty(l);if(c&&!u||!c&&u||!Nc(e[l],t[l]))return!1}}return String(e)===String(t)}function bE(e,t){return e.findIndex(n=>Nc(n,t))}const t0=e=>!!(e&&e.__v_isRef===!0),ae=e=>xn(e)?e:e==null?"":Wt(e)||Xe(e)&&(e.toString===Ky||!ne(e.toString))?t0(e)?ae(e.value):JSON.stringify(e,e0,2):String(e),e0=(e,t)=>t0(t)?e0(e,t.value):ko(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],o)=>(n[xf(r,o)+" =>"]=s,n),{})}:Pc(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>xf(n))}:ys(t)?xf(t):Xe(t)&&!Wt(t)&&!Zy(t)?String(t):t,xf=(e,t="")=>{var n;return ys(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Yn;class n0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Yn,!t&&Yn&&(this.index=(Yn.scopes||(Yn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Yn;try{return Yn=this,t()}finally{Yn=n}}}on(){Yn=this}off(){Yn=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function r0(e){return new n0(e)}function s0(){return Yn}function xE(e,t=!1){Yn&&Yn.cleanups.push(e)}let Ze;const wf=new WeakSet;class i0{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Yn&&Yn.active&&Yn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,wf.has(this)&&(wf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||a0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tm(this),l0(this);const t=Ze,n=Kr;Ze=this,Kr=!0;try{return this.fn()}finally{c0(this),Ze=t,Kr=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Hh(t);this.deps=this.depsTail=void 0,tm(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?wf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Jf(this)&&this.run()}get dirty(){return Jf(this)}}let o0=0,wa,_a;function a0(e,t=!1){if(e.flags|=8,t){e.next=_a,_a=e;return}e.next=wa,wa=e}function Vh(){o0++}function Bh(){if(--o0>0)return;if(_a){let t=_a;for(_a=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;wa;){let t=wa;for(wa=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function l0(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function c0(e){let t,n=e.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Hh(r),wE(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}e.deps=t,e.depsTail=n}function Jf(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(u0(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function u0(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ma))return;e.globalVersion=Ma;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Jf(e)){e.flags&=-3;return}const n=Ze,r=Kr;Ze=e,Kr=!0;try{l0(e);const s=e.fn(e._value);(t.version===0||ui(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ze=n,Kr=r,c0(e),e.flags&=-3}}function Hh(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Hh(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function wE(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Kr=!0;const f0=[];function vi(){f0.push(Kr),Kr=!1}function bi(){const e=f0.pop();Kr=e===void 0?!0:e}function tm(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ze;Ze=void 0;try{t()}finally{Ze=n}}}let Ma=0;class _E{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wh{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Ze||!Kr||Ze===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ze)n=this.activeLink=new _E(Ze,this),Ze.deps?(n.prevDep=Ze.depsTail,Ze.depsTail.nextDep=n,Ze.depsTail=n):Ze.deps=Ze.depsTail=n,h0(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ze.depsTail,n.nextDep=void 0,Ze.depsTail.nextDep=n,Ze.depsTail=n,Ze.deps===n&&(Ze.deps=r)}return n}trigger(t){this.version++,Ma++,this.notify(t)}notify(t){Vh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Bh()}}}function h0(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)h0(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const hc=new WeakMap,zi=Symbol(""),th=Symbol(""),Ra=Symbol("");function Fn(e,t,n){if(Kr&&Ze){let r=hc.get(e);r||hc.set(e,r=new Map);let s=r.get(n);s||(r.set(n,s=new Wh),s.map=r,s.key=n),s.track()}}function Ls(e,t,n,r,s,o){const l=hc.get(e);if(!l){Ma++;return}const c=u=>{u&&u.trigger()};if(Vh(),t==="clear")l.forEach(c);else{const u=Wt(e),h=u&&Fh(n);if(u&&n==="length"){const d=Number(r);l.forEach((p,m)=>{(m==="length"||m===Ra||!ys(m)&&m>=d)&&c(p)})}else switch((n!==void 0||l.has(void 0))&&c(l.get(n)),h&&c(l.get(Ra)),t){case"add":u?h&&c(l.get("length")):(c(l.get(zi)),ko(e)&&c(l.get(th)));break;case"delete":u||(c(l.get(zi)),ko(e)&&c(l.get(th)));break;case"set":ko(e)&&c(l.get(zi));break}}Bh()}function SE(e,t){const n=hc.get(e);return n&&n.get(t)}function yo(e){const t=Re(e);return t===e?t:(Fn(t,"iterate",Ra),Ur(e)?t:t.map(Vn))}function Dc(e){return Fn(e=Re(e),"iterate",Ra),e}const CE={__proto__:null,[Symbol.iterator](){return _f(this,Symbol.iterator,Vn)},concat(...e){return yo(this).concat(...e.map(t=>Wt(t)?yo(t):t))},entries(){return _f(this,"entries",e=>(e[1]=Vn(e[1]),e))},every(e,t){return ks(this,"every",e,t,void 0,arguments)},filter(e,t){return ks(this,"filter",e,t,n=>n.map(Vn),arguments)},find(e,t){return ks(this,"find",e,t,Vn,arguments)},findIndex(e,t){return ks(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ks(this,"findLast",e,t,Vn,arguments)},findLastIndex(e,t){return ks(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ks(this,"forEach",e,t,void 0,arguments)},includes(...e){return Sf(this,"includes",e)},indexOf(...e){return Sf(this,"indexOf",e)},join(e){return yo(this).join(e)},lastIndexOf(...e){return Sf(this,"lastIndexOf",e)},map(e,t){return ks(this,"map",e,t,void 0,arguments)},pop(){return sa(this,"pop")},push(...e){return sa(this,"push",e)},reduce(e,...t){return em(this,"reduce",e,t)},reduceRight(e,...t){return em(this,"reduceRight",e,t)},shift(){return sa(this,"shift")},some(e,t){return ks(this,"some",e,t,void 0,arguments)},splice(...e){return sa(this,"splice",e)},toReversed(){return yo(this).toReversed()},toSorted(e){return yo(this).toSorted(e)},toSpliced(...e){return yo(this).toSpliced(...e)},unshift(...e){return sa(this,"unshift",e)},values(){return _f(this,"values",Vn)}};function _f(e,t,n){const r=Dc(e),s=r[t]();return r!==e&&!Ur(e)&&(s._next=s.next,s.next=()=>{const o=s._next();return o.value&&(o.value=n(o.value)),o}),s}const EE=Array.prototype;function ks(e,t,n,r,s,o){const l=Dc(e),c=l!==e&&!Ur(e),u=l[t];if(u!==EE[t]){const p=u.apply(e,o);return c?Vn(p):p}let h=n;l!==e&&(c?h=function(p,m){return n.call(this,Vn(p),m,e)}:n.length>2&&(h=function(p,m){return n.call(this,p,m,e)}));const d=u.call(l,h,r);return c&&s?s(d):d}function em(e,t,n,r){const s=Dc(e);let o=n;return s!==e&&(Ur(e)?n.length>3&&(o=function(l,c,u){return n.call(this,l,c,u,e)}):o=function(l,c,u){return n.call(this,l,Vn(c),u,e)}),s[t](o,...r)}function Sf(e,t,n){const r=Re(e);Fn(r,"iterate",Ra);const s=r[t](...n);return(s===-1||s===!1)&&Gh(n[0])?(n[0]=Re(n[0]),r[t](...n)):s}function sa(e,t,n=[]){vi(),Vh();const r=Re(e)[t].apply(e,n);return Bh(),bi(),r}const AE=Dh("__proto__,__v_isRef,__isVue"),d0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ys));function TE(e){ys(e)||(e=String(e));const t=Re(this);return Fn(t,"has",e),t.hasOwnProperty(e)}class p0{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const s=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(s?o?$E:v0:o?y0:m0).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const l=Wt(t);if(!s){let u;if(l&&(u=CE[n]))return u;if(n==="hasOwnProperty")return TE}const c=Reflect.get(t,n,pn(t)?t:r);return(ys(n)?d0.has(n):AE(n))||(s||Fn(t,"get",n),o)?c:pn(c)?l&&Fh(n)?c:c.value:Xe(c)?s?x0(c):tr(c):c}}class g0 extends p0{constructor(t=!1){super(!1,t)}set(t,n,r,s){let o=t[n];if(!this._isShallow){const u=ji(o);if(!Ur(r)&&!ji(r)&&(o=Re(o),r=Re(r)),!Wt(t)&&pn(o)&&!pn(r))return u?!1:(o.value=r,!0)}const l=Wt(t)&&Fh(n)?Number(n)<t.length:Ue(t,n),c=Reflect.set(t,n,r,pn(t)?t:s);return t===Re(s)&&(l?ui(r,o)&&Ls(t,"set",n,r):Ls(t,"add",n,r)),c}deleteProperty(t,n){const r=Ue(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ls(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!ys(n)||!d0.has(n))&&Fn(t,"has",n),r}ownKeys(t){return Fn(t,"iterate",Wt(t)?"length":zi),Reflect.ownKeys(t)}}class kE extends p0{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ME=new g0,RE=new kE,PE=new g0(!0);const eh=e=>e,ql=e=>Reflect.getPrototypeOf(e);function OE(e,t,n){return function(...r){const s=this.__v_raw,o=Re(s),l=ko(o),c=e==="entries"||e===Symbol.iterator&&l,u=e==="keys"&&l,h=s[e](...r),d=n?eh:t?nh:Vn;return!t&&Fn(o,"iterate",u?th:zi),{next(){const{value:p,done:m}=h.next();return m?{value:p,done:m}:{value:c?[d(p[0]),d(p[1])]:d(p),done:m}},[Symbol.iterator](){return this}}}}function Gl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function IE(e,t){const n={get(s){const o=this.__v_raw,l=Re(o),c=Re(s);e||(ui(s,c)&&Fn(l,"get",s),Fn(l,"get",c));const{has:u}=ql(l),h=t?eh:e?nh:Vn;if(u.call(l,s))return h(o.get(s));if(u.call(l,c))return h(o.get(c));o!==l&&o.get(s)},get size(){const s=this.__v_raw;return!e&&Fn(Re(s),"iterate",zi),Reflect.get(s,"size",s)},has(s){const o=this.__v_raw,l=Re(o),c=Re(s);return e||(ui(s,c)&&Fn(l,"has",s),Fn(l,"has",c)),s===c?o.has(s):o.has(s)||o.has(c)},forEach(s,o){const l=this,c=l.__v_raw,u=Re(c),h=t?eh:e?nh:Vn;return!e&&Fn(u,"iterate",zi),c.forEach((d,p)=>s.call(o,h(d),h(p),l))}};return On(n,e?{add:Gl("add"),set:Gl("set"),delete:Gl("delete"),clear:Gl("clear")}:{add(s){!t&&!Ur(s)&&!ji(s)&&(s=Re(s));const o=Re(this);return ql(o).has.call(o,s)||(o.add(s),Ls(o,"add",s,s)),this},set(s,o){!t&&!Ur(o)&&!ji(o)&&(o=Re(o));const l=Re(this),{has:c,get:u}=ql(l);let h=c.call(l,s);h||(s=Re(s),h=c.call(l,s));const d=u.call(l,s);return l.set(s,o),h?ui(o,d)&&Ls(l,"set",s,o):Ls(l,"add",s,o),this},delete(s){const o=Re(this),{has:l,get:c}=ql(o);let u=l.call(o,s);u||(s=Re(s),u=l.call(o,s)),c&&c.call(o,s);const h=o.delete(s);return u&&Ls(o,"delete",s,void 0),h},clear(){const s=Re(this),o=s.size!==0,l=s.clear();return o&&Ls(s,"clear",void 0,void 0),l}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=OE(s,e,t)}),n}function zh(e,t){const n=IE(e,t);return(r,s,o)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Ue(n,s)&&s in r?n:r,s,o)}const LE={get:zh(!1,!1)},NE={get:zh(!1,!0)},DE={get:zh(!0,!1)};const m0=new WeakMap,y0=new WeakMap,v0=new WeakMap,$E=new WeakMap;function UE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function FE(e){return e.__v_skip||!Object.isExtensible(e)?0:UE(lE(e))}function tr(e){return ji(e)?e:qh(e,!1,ME,LE,m0)}function b0(e){return qh(e,!1,PE,NE,y0)}function x0(e){return qh(e,!0,RE,DE,v0)}function qh(e,t,n,r,s){if(!Xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const l=FE(e);if(l===0)return e;const c=new Proxy(e,l===2?r:n);return s.set(e,c),c}function fi(e){return ji(e)?fi(e.__v_raw):!!(e&&e.__v_isReactive)}function ji(e){return!!(e&&e.__v_isReadonly)}function Ur(e){return!!(e&&e.__v_isShallow)}function Gh(e){return e?!!e.__v_raw:!1}function Re(e){const t=e&&e.__v_raw;return t?Re(t):e}function Xh(e){return!Ue(e,"__v_skip")&&Object.isExtensible(e)&&Qy(e,"__v_skip",!0),e}const Vn=e=>Xe(e)?tr(e):e,nh=e=>Xe(e)?x0(e):e;function pn(e){return e?e.__v_isRef===!0:!1}function kt(e){return w0(e,!1)}function VE(e){return w0(e,!0)}function w0(e,t){return pn(e)?e:new BE(e,t)}class BE{constructor(t,n){this.dep=new Wh,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Re(t),this._value=n?t:Vn(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ur(t)||ji(t);t=r?t:Re(t),ui(t,n)&&(this._rawValue=t,this._value=r?t:Vn(t),this.dep.trigger())}}function F(e){return pn(e)?e.value:e}const HE={get:(e,t,n)=>t==="__v_raw"?e:F(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return pn(s)&&!pn(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function _0(e){return fi(e)?e:new Proxy(e,HE)}function WE(e){const t=Wt(e)?new Array(e.length):{};for(const n in e)t[n]=qE(e,n);return t}class zE{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return SE(Re(this._object),this._key)}}function qE(e,t,n){const r=e[t];return pn(r)?r:new zE(e,t,n)}class GE{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Wh(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ma-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Ze!==this)return a0(this,!0),!0}get value(){const t=this.dep.track();return u0(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function XE(e,t,n=!1){let r,s;return ne(e)?r=e:(r=e.get,s=e.set),new GE(r,s,n)}const Xl={},dc=new WeakMap;let $i;function YE(e,t=!1,n=$i){if(n){let r=dc.get(n);r||dc.set(n,r=[]),r.push(e)}}function jE(e,t,n=qe){const{immediate:r,deep:s,once:o,scheduler:l,augmentJob:c,call:u}=n,h=D=>s?D:Ur(D)||s===!1||s===0?Ns(D,1):Ns(D);let d,p,m,y,x=!1,C=!1;if(pn(e)?(p=()=>e.value,x=Ur(e)):fi(e)?(p=()=>h(e),x=!0):Wt(e)?(C=!0,x=e.some(D=>fi(D)||Ur(D)),p=()=>e.map(D=>{if(pn(D))return D.value;if(fi(D))return h(D);if(ne(D))return u?u(D,2):D()})):ne(e)?t?p=u?()=>u(e,2):e:p=()=>{if(m){vi();try{m()}finally{bi()}}const D=$i;$i=d;try{return u?u(e,3,[y]):e(y)}finally{$i=D}}:p=ps,t&&s){const D=p,q=s===!0?1/0:s;p=()=>Ns(D(),q)}const S=s0(),M=()=>{d.stop(),S&&S.active&&Uh(S.effects,d)};if(o&&t){const D=t;t=(...q)=>{D(...q),M()}}let $=C?new Array(e.length).fill(Xl):Xl;const I=D=>{if(!(!(d.flags&1)||!d.dirty&&!D))if(t){const q=d.run();if(s||x||(C?q.some((Q,W)=>ui(Q,$[W])):ui(q,$))){m&&m();const Q=$i;$i=d;try{const W=[q,$===Xl?void 0:C&&$[0]===Xl?[]:$,y];u?u(t,3,W):t(...W),$=q}finally{$i=Q}}}else d.run()};return c&&c(I),d=new i0(p),d.scheduler=l?()=>l(I,!1):I,y=D=>YE(D,!1,d),m=d.onStop=()=>{const D=dc.get(d);if(D){if(u)u(D,4);else for(const q of D)q();dc.delete(d)}},t?r?I(!0):$=d.run():l?l(I.bind(null,!0),!0):d.run(),M.pause=d.pause.bind(d),M.resume=d.resume.bind(d),M.stop=M,M}function Ns(e,t=1/0,n){if(t<=0||!Xe(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,pn(e))Ns(e.value,t,n);else if(Wt(e))for(let r=0;r<e.length;r++)Ns(e[r],t,n);else if(Pc(e)||ko(e))e.forEach(r=>{Ns(r,t,n)});else if(Zy(e)){for(const r in e)Ns(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ns(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ga(e,t,n,r){try{return r?e(...r):e()}catch(s){$c(s,t,n)}}function Jr(e,t,n,r){if(ne(e)){const s=Ga(e,t,n,r);return s&&jy(s)&&s.catch(o=>{$c(o,t,n)}),s}if(Wt(e)){const s=[];for(let o=0;o<e.length;o++)s.push(Jr(e[o],t,n,r));return s}}function $c(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:l}=t&&t.appContext.config||qe;if(t){let c=t.parent;const u=t.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const d=c.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,u,h)===!1)return}c=c.parent}if(o){vi(),Ga(o,null,10,[e,u,h]),bi();return}}KE(e,n,s,r,l)}function KE(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}const jn=[];let fs=-1;const Mo=[];let ri=null,_o=0;const S0=Promise.resolve();let pc=null;function qi(e){const t=pc||S0;return e?t.then(this?e.bind(this):e):t}function ZE(e){let t=fs+1,n=jn.length;for(;t<n;){const r=t+n>>>1,s=jn[r],o=Pa(s);o<e||o===e&&s.flags&2?t=r+1:n=r}return t}function Yh(e){if(!(e.flags&1)){const t=Pa(e),n=jn[jn.length-1];!n||!(e.flags&2)&&t>=Pa(n)?jn.push(e):jn.splice(ZE(t),0,e),e.flags|=1,C0()}}function C0(){pc||(pc=S0.then(A0))}function QE(e){Wt(e)?Mo.push(...e):ri&&e.id===-1?ri.splice(_o+1,0,e):e.flags&1||(Mo.push(e),e.flags|=1),C0()}function nm(e,t,n=fs+1){for(;n<jn.length;n++){const r=jn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;jn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function E0(e){if(Mo.length){const t=[...new Set(Mo)].sort((n,r)=>Pa(n)-Pa(r));if(Mo.length=0,ri){ri.push(...t);return}for(ri=t,_o=0;_o<ri.length;_o++){const n=ri[_o];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ri=null,_o=0}}const Pa=e=>e.id==null?e.flags&2?-1:1/0:e.id;function A0(e){try{for(fs=0;fs<jn.length;fs++){const t=jn[fs];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Ga(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;fs<jn.length;fs++){const t=jn[fs];t&&(t.flags&=-2)}fs=-1,jn.length=0,E0(),pc=null,(jn.length||Mo.length)&&A0()}}let Jn=null,T0=null;function gc(e){const t=Jn;return Jn=e,T0=e&&e.type.__scopeId||null,t}function jr(e,t=Jn,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&dm(-1);const o=gc(t);let l;try{l=e(...s)}finally{gc(o),r._d&&dm(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function He(e,t){if(Jn===null)return e;const n=Hc(Jn),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,l,c,u=qe]=t[s];o&&(ne(o)&&(o={mounted:o,updated:o}),o.deep&&Ns(l),r.push({dir:o,instance:n,value:l,oldValue:void 0,arg:c,modifiers:u}))}return e}function Ri(e,t,n,r){const s=e.dirs,o=t&&t.dirs;for(let l=0;l<s.length;l++){const c=s[l];o&&(c.oldValue=o[l].value);let u=c.dir[r];u&&(vi(),Jr(u,n,8,[e.el,c,e,t]),bi())}}const JE=Symbol("_vte"),k0=e=>e.__isTeleport,si=Symbol("_leaveCb"),Yl=Symbol("_enterCb");function tA(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Hn(()=>{e.isMounted=!0}),jh(()=>{e.isUnmounting=!0}),e}const Nr=[Function,Array],M0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nr,onEnter:Nr,onAfterEnter:Nr,onEnterCancelled:Nr,onBeforeLeave:Nr,onLeave:Nr,onAfterLeave:Nr,onLeaveCancelled:Nr,onBeforeAppear:Nr,onAppear:Nr,onAfterAppear:Nr,onAppearCancelled:Nr},R0=e=>{const t=e.subTree;return t.component?R0(t.component):t},eA={name:"BaseTransition",props:M0,setup(e,{slots:t}){const n=JA(),r=tA();return()=>{const s=t.default&&I0(t.default(),!0);if(!s||!s.length)return;const o=P0(s),l=Re(e),{mode:c}=l;if(r.isLeaving)return Cf(o);const u=rm(o);if(!u)return Cf(o);let h=rh(u,l,r,n,p=>h=p);u.type!==ir&&Oa(u,h);let d=n.subTree&&rm(n.subTree);if(d&&d.type!==ir&&!Bi(u,d)&&R0(n).type!==ir){let p=rh(d,l,r,n);if(Oa(d,p),c==="out-in"&&u.type!==ir)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete p.afterLeave,d=void 0},Cf(o);c==="in-out"&&u.type!==ir?p.delayLeave=(m,y,x)=>{const C=O0(r,d);C[String(d.key)]=d,m[si]=()=>{y(),m[si]=void 0,delete h.delayedLeave,d=void 0},h.delayedLeave=()=>{x(),delete h.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return o}}};function P0(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==ir){t=n;break}}return t}const nA=eA;function O0(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function rh(e,t,n,r,s){const{appear:o,mode:l,persisted:c=!1,onBeforeEnter:u,onEnter:h,onAfterEnter:d,onEnterCancelled:p,onBeforeLeave:m,onLeave:y,onAfterLeave:x,onLeaveCancelled:C,onBeforeAppear:S,onAppear:M,onAfterAppear:$,onAppearCancelled:I}=t,D=String(e.key),q=O0(n,e),Q=(ut,_t)=>{ut&&Jr(ut,r,9,_t)},W=(ut,_t)=>{const wt=_t[1];Q(ut,_t),Wt(ut)?ut.every(ft=>ft.length<=1)&&wt():ut.length<=1&&wt()},vt={mode:l,persisted:c,beforeEnter(ut){let _t=u;if(!n.isMounted)if(o)_t=S||u;else return;ut[si]&&ut[si](!0);const wt=q[D];wt&&Bi(e,wt)&&wt.el[si]&&wt.el[si](),Q(_t,[ut])},enter(ut){let _t=h,wt=d,ft=p;if(!n.isMounted)if(o)_t=M||h,wt=$||d,ft=I||p;else return;let Ot=!1;const Lt=ut[Yl]=St=>{Ot||(Ot=!0,St?Q(ft,[ut]):Q(wt,[ut]),vt.delayedLeave&&vt.delayedLeave(),ut[Yl]=void 0)};_t?W(_t,[ut,Lt]):Lt()},leave(ut,_t){const wt=String(e.key);if(ut[Yl]&&ut[Yl](!0),n.isUnmounting)return _t();Q(m,[ut]);let ft=!1;const Ot=ut[si]=Lt=>{ft||(ft=!0,_t(),Lt?Q(C,[ut]):Q(x,[ut]),ut[si]=void 0,q[wt]===e&&delete q[wt])};q[wt]=e,y?W(y,[ut,Ot]):Ot()},clone(ut){const _t=rh(ut,t,n,r,s);return s&&s(_t),_t}};return vt}function Cf(e){if(Uc(e))return e=di(e),e.children=null,e}function rm(e){if(!Uc(e))return k0(e.type)&&e.children?P0(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&ne(n.default))return n.default()}}function Oa(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Oa(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function I0(e,t=!1,n){let r=[],s=0;for(let o=0;o<e.length;o++){let l=e[o];const c=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===Ge?(l.patchFlag&128&&s++,r=r.concat(I0(l.children,t,c))):(t||l.type!==ir)&&r.push(c!=null?di(l,{key:c}):l)}if(s>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function L0(e,t){return ne(e)?On({name:e.name},t,{setup:e}):e}function N0(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function mc(e,t,n,r,s=!1){if(Wt(e)){e.forEach((x,C)=>mc(x,t&&(Wt(t)?t[C]:t),n,r,s));return}if(Sa(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&mc(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?Hc(r.component):r.el,l=s?null:o,{i:c,r:u}=e,h=t&&t.r,d=c.refs===qe?c.refs={}:c.refs,p=c.setupState,m=Re(p),y=p===qe?()=>!1:x=>Ue(m,x);if(h!=null&&h!==u&&(xn(h)?(d[h]=null,y(h)&&(p[h]=null)):pn(h)&&(h.value=null)),ne(u))Ga(u,c,12,[l,d]);else{const x=xn(u),C=pn(u);if(x||C){const S=()=>{if(e.f){const M=x?y(u)?p[u]:d[u]:u.value;s?Wt(M)&&Uh(M,o):Wt(M)?M.includes(o)||M.push(o):x?(d[u]=[o],y(u)&&(p[u]=d[u])):(u.value=[o],e.k&&(d[e.k]=u.value))}else x?(d[u]=l,y(u)&&(p[u]=l)):C&&(u.value=l,e.k&&(d[e.k]=l))};l?(S.id=-1,br(S,n)):S()}}}Lc().requestIdleCallback;Lc().cancelIdleCallback;const Sa=e=>!!e.type.__asyncLoader,Uc=e=>e.type.__isKeepAlive;function rA(e,t){D0(e,"a",t)}function sA(e,t){D0(e,"da",t)}function D0(e,t,n=Pn){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Fc(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Uc(s.parent.vnode)&&iA(r,t,n,s),s=s.parent}}function iA(e,t,n,r){const s=Fc(t,e,r,!0);Xa(()=>{Uh(r[t],s)},n)}function Fc(e,t,n=Pn,r=!1){if(n){const s=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...l)=>{vi();const c=Ya(n),u=Jr(t,n,e,l);return c(),bi(),u});return r?s.unshift(o):s.push(o),o}}const Vs=e=>(t,n=Pn)=>{(!La||e==="sp")&&Fc(e,(...r)=>t(...r),n)},oA=Vs("bm"),Hn=Vs("m"),aA=Vs("bu"),lA=Vs("u"),jh=Vs("bum"),Xa=Vs("um"),cA=Vs("sp"),uA=Vs("rtg"),fA=Vs("rtc");function hA(e,t=Pn){Fc("ec",e,t)}const dA="components";function to(e,t){return gA(dA,e,!0,t)||e}const pA=Symbol.for("v-ndc");function gA(e,t,n=!0,r=!1){const s=Jn||Pn;if(s){const o=s.type;{const c=sT(o,!1);if(c&&(c===t||c===Vr(t)||c===Ic(Vr(t))))return o}const l=sm(s[e]||o[e],t)||sm(s.appContext[e],t);return!l&&r?o:l}}function sm(e,t){return e&&(e[t]||e[Vr(t)]||e[Ic(Vr(t))])}function Zr(e,t,n,r){let s;const o=n,l=Wt(e);if(l||xn(e)){const c=l&&fi(e);let u=!1;c&&(u=!Ur(e),e=Dc(e)),s=new Array(e.length);for(let h=0,d=e.length;h<d;h++)s[h]=t(u?Vn(e[h]):e[h],h,void 0,o)}else if(typeof e=="number"){s=new Array(e);for(let c=0;c<e;c++)s[c]=t(c+1,c,void 0,o)}else if(Xe(e))if(e[Symbol.iterator])s=Array.from(e,(c,u)=>t(c,u,void 0,o));else{const c=Object.keys(e);s=new Array(c.length);for(let u=0,h=c.length;u<h;u++){const d=c[u];s[u]=t(e[d],d,u,o)}}else s=[];return s}const sh=e=>e?n1(e)?Hc(e):sh(e.parent):null,Ca=On(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sh(e.parent),$root:e=>sh(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>U0(e),$forceUpdate:e=>e.f||(e.f=()=>{Yh(e.update)}),$nextTick:e=>e.n||(e.n=qi.bind(e.proxy)),$watch:e=>UA.bind(e)}),Ef=(e,t)=>e!==qe&&!e.__isScriptSetup&&Ue(e,t),mA={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:o,accessCache:l,type:c,appContext:u}=e;let h;if(t[0]!=="$"){const y=l[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return o[t]}else{if(Ef(r,t))return l[t]=1,r[t];if(s!==qe&&Ue(s,t))return l[t]=2,s[t];if((h=e.propsOptions[0])&&Ue(h,t))return l[t]=3,o[t];if(n!==qe&&Ue(n,t))return l[t]=4,n[t];ih&&(l[t]=0)}}const d=Ca[t];let p,m;if(d)return t==="$attrs"&&Fn(e.attrs,"get",""),d(e);if((p=c.__cssModules)&&(p=p[t]))return p;if(n!==qe&&Ue(n,t))return l[t]=4,n[t];if(m=u.config.globalProperties,Ue(m,t))return m[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return Ef(s,t)?(s[t]=n,!0):r!==qe&&Ue(r,t)?(r[t]=n,!0):Ue(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},l){let c;return!!n[l]||e!==qe&&Ue(e,l)||Ef(t,l)||(c=o[0])&&Ue(c,l)||Ue(r,l)||Ue(Ca,l)||Ue(s.config.globalProperties,l)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ue(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function im(e){return Wt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ih=!0;function yA(e){const t=U0(e),n=e.proxy,r=e.ctx;ih=!1,t.beforeCreate&&om(t.beforeCreate,e,"bc");const{data:s,computed:o,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:m,beforeUpdate:y,updated:x,activated:C,deactivated:S,beforeDestroy:M,beforeUnmount:$,destroyed:I,unmounted:D,render:q,renderTracked:Q,renderTriggered:W,errorCaptured:vt,serverPrefetch:ut,expose:_t,inheritAttrs:wt,components:ft,directives:Ot,filters:Lt}=t;if(h&&vA(h,r,null),l)for(const ct in l){const at=l[ct];ne(at)&&(r[ct]=at.bind(n))}if(s){const ct=s.call(n,n);Xe(ct)&&(e.data=tr(ct))}if(ih=!0,o)for(const ct in o){const at=o[ct],Qt=ne(at)?at.bind(n,n):ne(at.get)?at.get.bind(n,n):ps,jt=!ne(at)&&ne(at.set)?at.set.bind(n):ps,zt=se({get:Qt,set:jt});Object.defineProperty(r,ct,{enumerable:!0,configurable:!0,get:()=>zt.value,set:Kt=>zt.value=Kt})}if(c)for(const ct in c)$0(c[ct],r,n,ct);if(u){const ct=ne(u)?u.call(n):u;Reflect.ownKeys(ct).forEach(at=>{rc(at,ct[at])})}d&&om(d,e,"c");function Ct(ct,at){Wt(at)?at.forEach(Qt=>ct(Qt.bind(n))):at&&ct(at.bind(n))}if(Ct(oA,p),Ct(Hn,m),Ct(aA,y),Ct(lA,x),Ct(rA,C),Ct(sA,S),Ct(hA,vt),Ct(fA,Q),Ct(uA,W),Ct(jh,$),Ct(Xa,D),Ct(cA,ut),Wt(_t))if(_t.length){const ct=e.exposed||(e.exposed={});_t.forEach(at=>{Object.defineProperty(ct,at,{get:()=>n[at],set:Qt=>n[at]=Qt})})}else e.exposed||(e.exposed={});q&&e.render===ps&&(e.render=q),wt!=null&&(e.inheritAttrs=wt),ft&&(e.components=ft),Ot&&(e.directives=Ot),ut&&N0(e)}function vA(e,t,n=ps){Wt(e)&&(e=oh(e));for(const r in e){const s=e[r];let o;Xe(s)?"default"in s?o=Fr(s.from||r,s.default,!0):o=Fr(s.from||r):o=Fr(s),pn(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):t[r]=o}}function om(e,t,n){Jr(Wt(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function $0(e,t,n,r){let s=r.includes(".")?Z0(n,r):()=>n[r];if(xn(e)){const o=t[e];ne(o)&&gs(s,o)}else if(ne(e))gs(s,e.bind(n));else if(Xe(e))if(Wt(e))e.forEach(o=>$0(o,t,n,r));else{const o=ne(e.handler)?e.handler.bind(n):t[e.handler];ne(o)&&gs(s,o,e)}}function U0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:o,config:{optionMergeStrategies:l}}=e.appContext,c=o.get(t);let u;return c?u=c:!s.length&&!n&&!r?u=t:(u={},s.length&&s.forEach(h=>yc(u,h,l,!0)),yc(u,t,l)),Xe(t)&&o.set(t,u),u}function yc(e,t,n,r=!1){const{mixins:s,extends:o}=t;o&&yc(e,o,n,!0),s&&s.forEach(l=>yc(e,l,n,!0));for(const l in t)if(!(r&&l==="expose")){const c=bA[l]||n&&n[l];e[l]=c?c(e[l],t[l]):t[l]}return e}const bA={data:am,props:lm,emits:lm,methods:pa,computed:pa,beforeCreate:Xn,created:Xn,beforeMount:Xn,mounted:Xn,beforeUpdate:Xn,updated:Xn,beforeDestroy:Xn,beforeUnmount:Xn,destroyed:Xn,unmounted:Xn,activated:Xn,deactivated:Xn,errorCaptured:Xn,serverPrefetch:Xn,components:pa,directives:pa,watch:wA,provide:am,inject:xA};function am(e,t){return t?e?function(){return On(ne(e)?e.call(this,this):e,ne(t)?t.call(this,this):t)}:t:e}function xA(e,t){return pa(oh(e),oh(t))}function oh(e){if(Wt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Xn(e,t){return e?[...new Set([].concat(e,t))]:t}function pa(e,t){return e?On(Object.create(null),e,t):t}function lm(e,t){return e?Wt(e)&&Wt(t)?[...new Set([...e,...t])]:On(Object.create(null),im(e),im(t??{})):t}function wA(e,t){if(!e)return t;if(!t)return e;const n=On(Object.create(null),e);for(const r in t)n[r]=Xn(e[r],t[r]);return n}function F0(){return{app:null,config:{isNativeTag:oE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _A=0;function SA(e,t){return function(r,s=null){ne(r)||(r=On({},r)),s!=null&&!Xe(s)&&(s=null);const o=F0(),l=new WeakSet,c=[];let u=!1;const h=o.app={_uid:_A++,_component:r,_props:s,_container:null,_context:o,_instance:null,version:oT,get config(){return o.config},set config(d){},use(d,...p){return l.has(d)||(d&&ne(d.install)?(l.add(d),d.install(h,...p)):ne(d)&&(l.add(d),d(h,...p))),h},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),h},component(d,p){return p?(o.components[d]=p,h):o.components[d]},directive(d,p){return p?(o.directives[d]=p,h):o.directives[d]},mount(d,p,m){if(!u){const y=h._ceVNode||Ce(r,s);return y.appContext=o,m===!0?m="svg":m===!1&&(m=void 0),e(y,d,m),u=!0,h._container=d,d.__vue_app__=h,Hc(y.component)}},onUnmount(d){c.push(d)},unmount(){u&&(Jr(c,h._instance,16),e(null,h._container),delete h._container.__vue_app__)},provide(d,p){return o.provides[d]=p,h},runWithContext(d){const p=Gi;Gi=h;try{return d()}finally{Gi=p}}};return h}}let Gi=null;function rc(e,t){if(Pn){let n=Pn.provides;const r=Pn.parent&&Pn.parent.provides;r===n&&(n=Pn.provides=Object.create(r)),n[e]=t}}function Fr(e,t,n=!1){const r=Pn||Jn;if(r||Gi){const s=Gi?Gi._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ne(t)?t.call(r&&r.proxy):t}}function CA(){return!!(Pn||Jn||Gi)}const V0={},B0=()=>Object.create(V0),H0=e=>Object.getPrototypeOf(e)===V0;function EA(e,t,n,r=!1){const s={},o=B0();e.propsDefaults=Object.create(null),W0(e,t,s,o);for(const l in e.propsOptions[0])l in s||(s[l]=void 0);n?e.props=r?s:b0(s):e.type.props?e.props=s:e.props=o,e.attrs=o}function AA(e,t,n,r){const{props:s,attrs:o,vnode:{patchFlag:l}}=e,c=Re(s),[u]=e.propsOptions;let h=!1;if((r||l>0)&&!(l&16)){if(l&8){const d=e.vnode.dynamicProps;for(let p=0;p<d.length;p++){let m=d[p];if(Vc(e.emitsOptions,m))continue;const y=t[m];if(u)if(Ue(o,m))y!==o[m]&&(o[m]=y,h=!0);else{const x=Vr(m);s[x]=ah(u,c,x,y,e,!1)}else y!==o[m]&&(o[m]=y,h=!0)}}}else{W0(e,t,s,o)&&(h=!0);let d;for(const p in c)(!t||!Ue(t,p)&&((d=yi(p))===p||!Ue(t,d)))&&(u?n&&(n[p]!==void 0||n[d]!==void 0)&&(s[p]=ah(u,c,p,void 0,e,!0)):delete s[p]);if(o!==c)for(const p in o)(!t||!Ue(t,p))&&(delete o[p],h=!0)}h&&Ls(e.attrs,"set","")}function W0(e,t,n,r){const[s,o]=e.propsOptions;let l=!1,c;if(t)for(let u in t){if(xa(u))continue;const h=t[u];let d;s&&Ue(s,d=Vr(u))?!o||!o.includes(d)?n[d]=h:(c||(c={}))[d]=h:Vc(e.emitsOptions,u)||(!(u in r)||h!==r[u])&&(r[u]=h,l=!0)}if(o){const u=Re(n),h=c||qe;for(let d=0;d<o.length;d++){const p=o[d];n[p]=ah(s,u,p,h[p],e,!Ue(h,p))}}return l}function ah(e,t,n,r,s,o){const l=e[n];if(l!=null){const c=Ue(l,"default");if(c&&r===void 0){const u=l.default;if(l.type!==Function&&!l.skipFactory&&ne(u)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const d=Ya(s);r=h[n]=u.call(null,t),d()}}else r=u;s.ce&&s.ce._setProp(n,r)}l[0]&&(o&&!c?r=!1:l[1]&&(r===""||r===yi(n))&&(r=!0))}return r}const TA=new WeakMap;function z0(e,t,n=!1){const r=n?TA:t.propsCache,s=r.get(e);if(s)return s;const o=e.props,l={},c=[];let u=!1;if(!ne(e)){const d=p=>{u=!0;const[m,y]=z0(p,t,!0);On(l,m),y&&c.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!u)return Xe(e)&&r.set(e,To),To;if(Wt(o))for(let d=0;d<o.length;d++){const p=Vr(o[d]);cm(p)&&(l[p]=qe)}else if(o)for(const d in o){const p=Vr(d);if(cm(p)){const m=o[d],y=l[p]=Wt(m)||ne(m)?{type:m}:On({},m),x=y.type;let C=!1,S=!0;if(Wt(x))for(let M=0;M<x.length;++M){const $=x[M],I=ne($)&&$.name;if(I==="Boolean"){C=!0;break}else I==="String"&&(S=!1)}else C=ne(x)&&x.name==="Boolean";y[0]=C,y[1]=S,(C||Ue(y,"default"))&&c.push(p)}}const h=[l,c];return Xe(e)&&r.set(e,h),h}function cm(e){return e[0]!=="$"&&!xa(e)}const q0=e=>e[0]==="_"||e==="$stable",Kh=e=>Wt(e)?e.map(hs):[hs(e)],kA=(e,t,n)=>{if(t._n)return t;const r=jr((...s)=>Kh(t(...s)),n);return r._c=!1,r},G0=(e,t,n)=>{const r=e._ctx;for(const s in e){if(q0(s))continue;const o=e[s];if(ne(o))t[s]=kA(s,o,r);else if(o!=null){const l=Kh(o);t[s]=()=>l}}},X0=(e,t)=>{const n=Kh(t);e.slots.default=()=>n},Y0=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},MA=(e,t,n)=>{const r=e.slots=B0();if(e.vnode.shapeFlag&32){const s=t._;s?(Y0(r,t,n),n&&Qy(r,"_",s,!0)):G0(t,r)}else t&&X0(e,t)},RA=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,l=qe;if(r.shapeFlag&32){const c=t._;c?n&&c===1?o=!1:Y0(s,t,n):(o=!t.$stable,G0(t,s)),l=t}else t&&(X0(e,t),l={default:1});if(o)for(const c in s)!q0(c)&&l[c]==null&&delete s[c]},br=qA;function PA(e){return OA(e)}function OA(e,t){const n=Lc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:o,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:p,nextSibling:m,setScopeId:y=ps,insertStaticContent:x}=e,C=(A,R,N,Y=null,tt=null,T=null,k=void 0,j=null,B=!!R.dynamicChildren)=>{if(A===R)return;A&&!Bi(A,R)&&(Y=K(A),Kt(A,tt,T,!0),A=null),R.patchFlag===-2&&(B=!1,R.dynamicChildren=null);const{type:H,ref:et,shapeFlag:rt}=R;switch(H){case Bc:S(A,R,N,Y);break;case ir:M(A,R,N,Y);break;case sc:A==null&&$(R,N,Y,k);break;case Ge:ft(A,R,N,Y,tt,T,k,j,B);break;default:rt&1?q(A,R,N,Y,tt,T,k,j,B):rt&6?Ot(A,R,N,Y,tt,T,k,j,B):(rt&64||rt&128)&&H.process(A,R,N,Y,tt,T,k,j,B,Tt)}et!=null&&tt&&mc(et,A&&A.ref,T,R||A,!R)},S=(A,R,N,Y)=>{if(A==null)r(R.el=c(R.children),N,Y);else{const tt=R.el=A.el;R.children!==A.children&&h(tt,R.children)}},M=(A,R,N,Y)=>{A==null?r(R.el=u(R.children||""),N,Y):R.el=A.el},$=(A,R,N,Y)=>{[A.el,A.anchor]=x(A.children,R,N,Y,A.el,A.anchor)},I=({el:A,anchor:R},N,Y)=>{let tt;for(;A&&A!==R;)tt=m(A),r(A,N,Y),A=tt;r(R,N,Y)},D=({el:A,anchor:R})=>{let N;for(;A&&A!==R;)N=m(A),s(A),A=N;s(R)},q=(A,R,N,Y,tt,T,k,j,B)=>{R.type==="svg"?k="svg":R.type==="math"&&(k="mathml"),A==null?Q(R,N,Y,tt,T,k,j,B):ut(A,R,tt,T,k,j,B)},Q=(A,R,N,Y,tt,T,k,j)=>{let B,H;const{props:et,shapeFlag:rt,transition:yt,dirs:Mt}=A;if(B=A.el=l(A.type,T,et&&et.is,et),rt&8?d(B,A.children):rt&16&&vt(A.children,B,null,Y,tt,Af(A,T),k,j),Mt&&Ri(A,null,Y,"created"),W(B,A,A.scopeId,k,Y),et){for(const Bt in et)Bt!=="value"&&!xa(Bt)&&o(B,Bt,null,et[Bt],T,Y);"value"in et&&o(B,"value",null,et.value,T),(H=et.onVnodeBeforeMount)&&cs(H,Y,A)}Mt&&Ri(A,null,Y,"beforeMount");const Ut=IA(tt,yt);Ut&&yt.beforeEnter(B),r(B,R,N),((H=et&&et.onVnodeMounted)||Ut||Mt)&&br(()=>{H&&cs(H,Y,A),Ut&&yt.enter(B),Mt&&Ri(A,null,Y,"mounted")},tt)},W=(A,R,N,Y,tt)=>{if(N&&y(A,N),Y)for(let T=0;T<Y.length;T++)y(A,Y[T]);if(tt){let T=tt.subTree;if(R===T||J0(T.type)&&(T.ssContent===R||T.ssFallback===R)){const k=tt.vnode;W(A,k,k.scopeId,k.slotScopeIds,tt.parent)}}},vt=(A,R,N,Y,tt,T,k,j,B=0)=>{for(let H=B;H<A.length;H++){const et=A[H]=j?ii(A[H]):hs(A[H]);C(null,et,R,N,Y,tt,T,k,j)}},ut=(A,R,N,Y,tt,T,k)=>{const j=R.el=A.el;let{patchFlag:B,dynamicChildren:H,dirs:et}=R;B|=A.patchFlag&16;const rt=A.props||qe,yt=R.props||qe;let Mt;if(N&&Pi(N,!1),(Mt=yt.onVnodeBeforeUpdate)&&cs(Mt,N,R,A),et&&Ri(R,A,N,"beforeUpdate"),N&&Pi(N,!0),(rt.innerHTML&&yt.innerHTML==null||rt.textContent&&yt.textContent==null)&&d(j,""),H?_t(A.dynamicChildren,H,j,N,Y,Af(R,tt),T):k||at(A,R,j,null,N,Y,Af(R,tt),T,!1),B>0){if(B&16)wt(j,rt,yt,N,tt);else if(B&2&&rt.class!==yt.class&&o(j,"class",null,yt.class,tt),B&4&&o(j,"style",rt.style,yt.style,tt),B&8){const Ut=R.dynamicProps;for(let Bt=0;Bt<Ut.length;Bt++){const qt=Ut[Bt],Te=rt[qt],ke=yt[qt];(ke!==Te||qt==="value")&&o(j,qt,Te,ke,tt,N)}}B&1&&A.children!==R.children&&d(j,R.children)}else!k&&H==null&&wt(j,rt,yt,N,tt);((Mt=yt.onVnodeUpdated)||et)&&br(()=>{Mt&&cs(Mt,N,R,A),et&&Ri(R,A,N,"updated")},Y)},_t=(A,R,N,Y,tt,T,k)=>{for(let j=0;j<R.length;j++){const B=A[j],H=R[j],et=B.el&&(B.type===Ge||!Bi(B,H)||B.shapeFlag&70)?p(B.el):N;C(B,H,et,null,Y,tt,T,k,!0)}},wt=(A,R,N,Y,tt)=>{if(R!==N){if(R!==qe)for(const T in R)!xa(T)&&!(T in N)&&o(A,T,R[T],null,tt,Y);for(const T in N){if(xa(T))continue;const k=N[T],j=R[T];k!==j&&T!=="value"&&o(A,T,j,k,tt,Y)}"value"in N&&o(A,"value",R.value,N.value,tt)}},ft=(A,R,N,Y,tt,T,k,j,B)=>{const H=R.el=A?A.el:c(""),et=R.anchor=A?A.anchor:c("");let{patchFlag:rt,dynamicChildren:yt,slotScopeIds:Mt}=R;Mt&&(j=j?j.concat(Mt):Mt),A==null?(r(H,N,Y),r(et,N,Y),vt(R.children||[],N,et,tt,T,k,j,B)):rt>0&&rt&64&&yt&&A.dynamicChildren?(_t(A.dynamicChildren,yt,N,tt,T,k,j),(R.key!=null||tt&&R===tt.subTree)&&j0(A,R,!0)):at(A,R,N,et,tt,T,k,j,B)},Ot=(A,R,N,Y,tt,T,k,j,B)=>{R.slotScopeIds=j,A==null?R.shapeFlag&512?tt.ctx.activate(R,N,Y,k,B):Lt(R,N,Y,tt,T,k,B):St(A,R,B)},Lt=(A,R,N,Y,tt,T,k)=>{const j=A.component=QA(A,Y,tt);if(Uc(A)&&(j.ctx.renderer=Tt),tT(j,!1,k),j.asyncDep){if(tt&&tt.registerDep(j,Ct,k),!A.el){const B=j.subTree=Ce(ir);M(null,B,R,N)}}else Ct(j,A,R,N,tt,T,k)},St=(A,R,N)=>{const Y=R.component=A.component;if(WA(A,R,N))if(Y.asyncDep&&!Y.asyncResolved){ct(Y,R,N);return}else Y.next=R,Y.update();else R.el=A.el,Y.vnode=R},Ct=(A,R,N,Y,tt,T,k)=>{const j=()=>{if(A.isMounted){let{next:rt,bu:yt,u:Mt,parent:Ut,vnode:Bt}=A;{const Zt=K0(A);if(Zt){rt&&(rt.el=Bt.el,ct(A,rt,k)),Zt.asyncDep.then(()=>{A.isUnmounted||j()});return}}let qt=rt,Te;Pi(A,!1),rt?(rt.el=Bt.el,ct(A,rt,k)):rt=Bt,yt&&nc(yt),(Te=rt.props&&rt.props.onVnodeBeforeUpdate)&&cs(Te,Ut,rt,Bt),Pi(A,!0);const ke=fm(A),Jt=A.subTree;A.subTree=ke,C(Jt,ke,p(Jt.el),K(Jt),A,tt,T),rt.el=ke.el,qt===null&&zA(A,ke.el),Mt&&br(Mt,tt),(Te=rt.props&&rt.props.onVnodeUpdated)&&br(()=>cs(Te,Ut,rt,Bt),tt)}else{let rt;const{el:yt,props:Mt}=R,{bm:Ut,m:Bt,parent:qt,root:Te,type:ke}=A,Jt=Sa(R);Pi(A,!1),Ut&&nc(Ut),!Jt&&(rt=Mt&&Mt.onVnodeBeforeMount)&&cs(rt,qt,R),Pi(A,!0);{Te.ce&&Te.ce._injectChildStyle(ke);const Zt=A.subTree=fm(A);C(null,Zt,N,Y,A,tt,T),R.el=Zt.el}if(Bt&&br(Bt,tt),!Jt&&(rt=Mt&&Mt.onVnodeMounted)){const Zt=R;br(()=>cs(rt,qt,Zt),tt)}(R.shapeFlag&256||qt&&Sa(qt.vnode)&&qt.vnode.shapeFlag&256)&&A.a&&br(A.a,tt),A.isMounted=!0,R=N=Y=null}};A.scope.on();const B=A.effect=new i0(j);A.scope.off();const H=A.update=B.run.bind(B),et=A.job=B.runIfDirty.bind(B);et.i=A,et.id=A.uid,B.scheduler=()=>Yh(et),Pi(A,!0),H()},ct=(A,R,N)=>{R.component=A;const Y=A.vnode.props;A.vnode=R,A.next=null,AA(A,R.props,Y,N),RA(A,R.children,N),vi(),nm(A),bi()},at=(A,R,N,Y,tt,T,k,j,B=!1)=>{const H=A&&A.children,et=A?A.shapeFlag:0,rt=R.children,{patchFlag:yt,shapeFlag:Mt}=R;if(yt>0){if(yt&128){jt(H,rt,N,Y,tt,T,k,j,B);return}else if(yt&256){Qt(H,rt,N,Y,tt,T,k,j,B);return}}Mt&8?(et&16&&me(H,tt,T),rt!==H&&d(N,rt)):et&16?Mt&16?jt(H,rt,N,Y,tt,T,k,j,B):me(H,tt,T,!0):(et&8&&d(N,""),Mt&16&&vt(rt,N,Y,tt,T,k,j,B))},Qt=(A,R,N,Y,tt,T,k,j,B)=>{A=A||To,R=R||To;const H=A.length,et=R.length,rt=Math.min(H,et);let yt;for(yt=0;yt<rt;yt++){const Mt=R[yt]=B?ii(R[yt]):hs(R[yt]);C(A[yt],Mt,N,null,tt,T,k,j,B)}H>et?me(A,tt,T,!0,!1,rt):vt(R,N,Y,tt,T,k,j,B,rt)},jt=(A,R,N,Y,tt,T,k,j,B)=>{let H=0;const et=R.length;let rt=A.length-1,yt=et-1;for(;H<=rt&&H<=yt;){const Mt=A[H],Ut=R[H]=B?ii(R[H]):hs(R[H]);if(Bi(Mt,Ut))C(Mt,Ut,N,null,tt,T,k,j,B);else break;H++}for(;H<=rt&&H<=yt;){const Mt=A[rt],Ut=R[yt]=B?ii(R[yt]):hs(R[yt]);if(Bi(Mt,Ut))C(Mt,Ut,N,null,tt,T,k,j,B);else break;rt--,yt--}if(H>rt){if(H<=yt){const Mt=yt+1,Ut=Mt<et?R[Mt].el:Y;for(;H<=yt;)C(null,R[H]=B?ii(R[H]):hs(R[H]),N,Ut,tt,T,k,j,B),H++}}else if(H>yt)for(;H<=rt;)Kt(A[H],tt,T,!0),H++;else{const Mt=H,Ut=H,Bt=new Map;for(H=Ut;H<=yt;H++){const Ie=R[H]=B?ii(R[H]):hs(R[H]);Ie.key!=null&&Bt.set(Ie.key,H)}let qt,Te=0;const ke=yt-Ut+1;let Jt=!1,Zt=0;const We=new Array(ke);for(H=0;H<ke;H++)We[H]=0;for(H=Mt;H<=rt;H++){const Ie=A[H];if(Te>=ke){Kt(Ie,tt,T,!0);continue}let _e;if(Ie.key!=null)_e=Bt.get(Ie.key);else for(qt=Ut;qt<=yt;qt++)if(We[qt-Ut]===0&&Bi(Ie,R[qt])){_e=qt;break}_e===void 0?Kt(Ie,tt,T,!0):(We[_e-Ut]=H+1,_e>=Zt?Zt=_e:Jt=!0,C(Ie,R[_e],N,null,tt,T,k,j,B),Te++)}const hn=Jt?LA(We):To;for(qt=hn.length-1,H=ke-1;H>=0;H--){const Ie=Ut+H,_e=R[Ie],mn=Ie+1<et?R[Ie+1].el:Y;We[H]===0?C(null,_e,N,mn,tt,T,k,j,B):Jt&&(qt<0||H!==hn[qt]?zt(_e,N,mn,2):qt--)}}},zt=(A,R,N,Y,tt=null)=>{const{el:T,type:k,transition:j,children:B,shapeFlag:H}=A;if(H&6){zt(A.component.subTree,R,N,Y);return}if(H&128){A.suspense.move(R,N,Y);return}if(H&64){k.move(A,R,N,Tt);return}if(k===Ge){r(T,R,N);for(let rt=0;rt<B.length;rt++)zt(B[rt],R,N,Y);r(A.anchor,R,N);return}if(k===sc){I(A,R,N);return}if(Y!==2&&H&1&&j)if(Y===0)j.beforeEnter(T),r(T,R,N),br(()=>j.enter(T),tt);else{const{leave:rt,delayLeave:yt,afterLeave:Mt}=j,Ut=()=>r(T,R,N),Bt=()=>{rt(T,()=>{Ut(),Mt&&Mt()})};yt?yt(T,Ut,Bt):Bt()}else r(T,R,N)},Kt=(A,R,N,Y=!1,tt=!1)=>{const{type:T,props:k,ref:j,children:B,dynamicChildren:H,shapeFlag:et,patchFlag:rt,dirs:yt,cacheIndex:Mt}=A;if(rt===-2&&(tt=!1),j!=null&&mc(j,null,N,A,!0),Mt!=null&&(R.renderCache[Mt]=void 0),et&256){R.ctx.deactivate(A);return}const Ut=et&1&&yt,Bt=!Sa(A);let qt;if(Bt&&(qt=k&&k.onVnodeBeforeUnmount)&&cs(qt,R,A),et&6)$t(A.component,N,Y);else{if(et&128){A.suspense.unmount(N,Y);return}Ut&&Ri(A,null,R,"beforeUnmount"),et&64?A.type.remove(A,R,N,Tt,Y):H&&!H.hasOnce&&(T!==Ge||rt>0&&rt&64)?me(H,R,N,!1,!0):(T===Ge&&rt&384||!tt&&et&16)&&me(B,R,N),Y&&nt(A)}(Bt&&(qt=k&&k.onVnodeUnmounted)||Ut)&&br(()=>{qt&&cs(qt,R,A),Ut&&Ri(A,null,R,"unmounted")},N)},nt=A=>{const{type:R,el:N,anchor:Y,transition:tt}=A;if(R===Ge){At(N,Y);return}if(R===sc){D(A);return}const T=()=>{s(N),tt&&!tt.persisted&&tt.afterLeave&&tt.afterLeave()};if(A.shapeFlag&1&&tt&&!tt.persisted){const{leave:k,delayLeave:j}=tt,B=()=>k(N,T);j?j(A.el,T,B):B()}else T()},At=(A,R)=>{let N;for(;A!==R;)N=m(A),s(A),A=N;s(R)},$t=(A,R,N)=>{const{bum:Y,scope:tt,job:T,subTree:k,um:j,m:B,a:H}=A;um(B),um(H),Y&&nc(Y),tt.stop(),T&&(T.flags|=8,Kt(k,A,R,N)),j&&br(j,R),br(()=>{A.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},me=(A,R,N,Y=!1,tt=!1,T=0)=>{for(let k=T;k<A.length;k++)Kt(A[k],R,N,Y,tt)},K=A=>{if(A.shapeFlag&6)return K(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();const R=m(A.anchor||A.el),N=R&&R[JE];return N?m(N):R};let pt=!1;const ht=(A,R,N)=>{A==null?R._vnode&&Kt(R._vnode,null,null,!0):C(R._vnode||null,A,R,null,null,null,N),R._vnode=A,pt||(pt=!0,nm(),E0(),pt=!1)},Tt={p:C,um:Kt,m:zt,r:nt,mt:Lt,mc:vt,pc:at,pbc:_t,n:K,o:e};return{render:ht,hydrate:void 0,createApp:SA(ht)}}function Af({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Pi({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function IA(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function j0(e,t,n=!1){const r=e.children,s=t.children;if(Wt(r)&&Wt(s))for(let o=0;o<r.length;o++){const l=r[o];let c=s[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=s[o]=ii(s[o]),c.el=l.el),!n&&c.patchFlag!==-2&&j0(l,c)),c.type===Bc&&(c.el=l.el)}}function LA(e){const t=e.slice(),n=[0];let r,s,o,l,c;const u=e.length;for(r=0;r<u;r++){const h=e[r];if(h!==0){if(s=n[n.length-1],e[s]<h){t[r]=s,n.push(r);continue}for(o=0,l=n.length-1;o<l;)c=o+l>>1,e[n[c]]<h?o=c+1:l=c;h<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=t[l];return n}function K0(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:K0(t)}function um(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const NA=Symbol.for("v-scx"),DA=()=>Fr(NA);function $A(e,t){return Zh(e,null,t)}function gs(e,t,n){return Zh(e,t,n)}function Zh(e,t,n=qe){const{immediate:r,deep:s,flush:o,once:l}=n,c=On({},n),u=t&&r||!t&&o!=="post";let h;if(La){if(o==="sync"){const y=DA();h=y.__watcherHandles||(y.__watcherHandles=[])}else if(!u){const y=()=>{};return y.stop=ps,y.resume=ps,y.pause=ps,y}}const d=Pn;c.call=(y,x,C)=>Jr(y,d,x,C);let p=!1;o==="post"?c.scheduler=y=>{br(y,d&&d.suspense)}:o!=="sync"&&(p=!0,c.scheduler=(y,x)=>{x?y():Yh(y)}),c.augmentJob=y=>{t&&(y.flags|=4),p&&(y.flags|=2,d&&(y.id=d.uid,y.i=d))};const m=jE(e,t,c);return La&&(h?h.push(m):u&&m()),m}function UA(e,t,n){const r=this.proxy,s=xn(e)?e.includes(".")?Z0(r,e):()=>r[e]:e.bind(r,r);let o;ne(t)?o=t:(o=t.handler,n=t);const l=Ya(this),c=Zh(s,o.bind(r),n);return l(),c}function Z0(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const FA=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Vr(t)}Modifiers`]||e[`${yi(t)}Modifiers`];function VA(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||qe;let s=n;const o=t.startsWith("update:"),l=o&&FA(r,t.slice(7));l&&(l.trim&&(s=n.map(d=>xn(d)?d.trim():d)),l.number&&(s=n.map(fc)));let c,u=r[c=bf(t)]||r[c=bf(Vr(t))];!u&&o&&(u=r[c=bf(yi(t))]),u&&Jr(u,e,6,s);const h=r[c+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Jr(h,e,6,s)}}function Q0(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const o=e.emits;let l={},c=!1;if(!ne(e)){const u=h=>{const d=Q0(h,t,!0);d&&(c=!0,On(l,d))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!o&&!c?(Xe(e)&&r.set(e,null),null):(Wt(o)?o.forEach(u=>l[u]=null):On(l,o),Xe(e)&&r.set(e,l),l)}function Vc(e,t){return!e||!Rc(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ue(e,t[0].toLowerCase()+t.slice(1))||Ue(e,yi(t))||Ue(e,t))}function fm(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[o],slots:l,attrs:c,emit:u,render:h,renderCache:d,props:p,data:m,setupState:y,ctx:x,inheritAttrs:C}=e,S=gc(e);let M,$;try{if(n.shapeFlag&4){const D=s||r,q=D;M=hs(h.call(q,D,d,p,y,m,x)),$=c}else{const D=t;M=hs(D.length>1?D(p,{attrs:c,slots:l,emit:u}):D(p,null)),$=t.props?c:BA(c)}}catch(D){Ea.length=0,$c(D,e,1),M=Ce(ir)}let I=M;if($&&C!==!1){const D=Object.keys($),{shapeFlag:q}=I;D.length&&q&7&&(o&&D.some($h)&&($=HA($,o)),I=di(I,$,!1,!0))}return n.dirs&&(I=di(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&Oa(I,n.transition),M=I,gc(S),M}const BA=e=>{let t;for(const n in e)(n==="class"||n==="style"||Rc(n))&&((t||(t={}))[n]=e[n]);return t},HA=(e,t)=>{const n={};for(const r in e)(!$h(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function WA(e,t,n){const{props:r,children:s,component:o}=e,{props:l,children:c,patchFlag:u}=t,h=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?hm(r,l,h):!!l;if(u&8){const d=t.dynamicProps;for(let p=0;p<d.length;p++){const m=d[p];if(l[m]!==r[m]&&!Vc(h,m))return!0}}}else return(s||c)&&(!c||!c.$stable)?!0:r===l?!1:r?l?hm(r,l,h):!0:!!l;return!1}function hm(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const o=r[s];if(t[o]!==e[o]&&!Vc(n,o))return!0}return!1}function zA({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const J0=e=>e.__isSuspense;function qA(e,t){t&&t.pendingBranch?Wt(e)?t.effects.push(...e):t.effects.push(e):QE(e)}const Ge=Symbol.for("v-fgt"),Bc=Symbol.for("v-txt"),ir=Symbol.for("v-cmt"),sc=Symbol.for("v-stc"),Ea=[];let xr=null;function mt(e=!1){Ea.push(xr=e?null:[])}function GA(){Ea.pop(),xr=Ea[Ea.length-1]||null}let Ia=1;function dm(e,t=!1){Ia+=e,e<0&&xr&&t&&(xr.hasOnce=!0)}function t1(e){return e.dynamicChildren=Ia>0?xr||To:null,GA(),Ia>0&&xr&&xr.push(e),e}function bt(e,t,n,r,s,o){return t1(b(e,t,n,r,s,o,!0))}function Fs(e,t,n,r,s){return t1(Ce(e,t,n,r,s,!0))}function vc(e){return e?e.__v_isVNode===!0:!1}function Bi(e,t){return e.type===t.type&&e.key===t.key}const e1=({key:e})=>e??null,ic=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?xn(e)||pn(e)||ne(e)?{i:Jn,r:e,k:t,f:!!n}:e:null);function b(e,t=null,n=null,r=0,s=null,o=e===Ge?0:1,l=!1,c=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&e1(t),ref:t&&ic(t),scopeId:T0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jn};return c?(Jh(u,n),o&128&&e.normalize(u)):n&&(u.shapeFlag|=xn(n)?8:16),Ia>0&&!l&&xr&&(u.patchFlag>0||o&6)&&u.patchFlag!==32&&xr.push(u),u}const Ce=XA;function XA(e,t=null,n=null,r=0,s=null,o=!1){if((!e||e===pA)&&(e=ir),vc(e)){const c=di(e,t,!0);return n&&Jh(c,n),Ia>0&&!o&&xr&&(c.shapeFlag&6?xr[xr.indexOf(e)]=c:xr.push(c)),c.patchFlag=-2,c}if(iT(e)&&(e=e.__vccOpts),t){t=YA(t);let{class:c,style:u}=t;c&&!xn(c)&&(t.class=or(c)),Xe(u)&&(Gh(u)&&!Wt(u)&&(u=On({},u)),t.style=qa(u))}const l=xn(e)?1:J0(e)?128:k0(e)?64:Xe(e)?4:ne(e)?2:0;return b(e,t,n,r,s,l,o,!0)}function YA(e){return e?Gh(e)||H0(e)?On({},e):e:null}function di(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:l,children:c,transition:u}=e,h=t?jA(s||{},t):s,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&e1(h),ref:t&&t.ref?n&&o?Wt(o)?o.concat(ic(t)):[o,ic(t)]:ic(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ge?l===-1?16:l|16:l,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:u,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&di(e.ssContent),ssFallback:e.ssFallback&&di(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return u&&r&&Oa(d,u.clone(d)),d}function Dn(e=" ",t=0){return Ce(Bc,null,e,t)}function Qh(e,t){const n=Ce(sc,null,e);return n.staticCount=t,n}function re(e="",t=!1){return t?(mt(),Fs(ir,null,e)):Ce(ir,null,e)}function hs(e){return e==null||typeof e=="boolean"?Ce(ir):Wt(e)?Ce(Ge,null,e.slice()):vc(e)?ii(e):Ce(Bc,null,String(e))}function ii(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:di(e)}function Jh(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Wt(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Jh(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!H0(t)?t._ctx=Jn:s===3&&Jn&&(Jn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ne(t)?(t={default:t,_ctx:Jn},n=32):(t=String(t),r&64?(n=16,t=[Dn(t)]):n=8);e.children=t,e.shapeFlag|=n}function jA(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=or([t.class,r.class]));else if(s==="style")t.style=qa([t.style,r.style]);else if(Rc(s)){const o=t[s],l=r[s];l&&o!==l&&!(Wt(o)&&o.includes(l))&&(t[s]=o?[].concat(o,l):l)}else s!==""&&(t[s]=r[s])}return t}function cs(e,t,n,r=null){Jr(e,t,7,[n,r])}const KA=F0();let ZA=0;function QA(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||KA,o={uid:ZA++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new n0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:z0(r,s),emitsOptions:Q0(r,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:r.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=VA.bind(null,o),e.ce&&e.ce(o),o}let Pn=null;const JA=()=>Pn||Jn;let bc,lh;{const e=Lc(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),o=>{s.length>1?s.forEach(l=>l(o)):s[0](o)}};bc=t("__VUE_INSTANCE_SETTERS__",n=>Pn=n),lh=t("__VUE_SSR_SETTERS__",n=>La=n)}const Ya=e=>{const t=Pn;return bc(e),e.scope.on(),()=>{e.scope.off(),bc(t)}},pm=()=>{Pn&&Pn.scope.off(),bc(null)};function n1(e){return e.vnode.shapeFlag&4}let La=!1;function tT(e,t=!1,n=!1){t&&lh(t);const{props:r,children:s}=e.vnode,o=n1(e);EA(e,r,o,t),MA(e,s,n);const l=o?eT(e,t):void 0;return t&&lh(!1),l}function eT(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,mA);const{setup:r}=n;if(r){vi();const s=e.setupContext=r.length>1?rT(e):null,o=Ya(e),l=Ga(r,e,0,[e.props,s]),c=jy(l);if(bi(),o(),(c||e.sp)&&!Sa(e)&&N0(e),c){if(l.then(pm,pm),t)return l.then(u=>{gm(e,u)}).catch(u=>{$c(u,e,0)});e.asyncDep=l}else gm(e,l)}else r1(e)}function gm(e,t,n){ne(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Xe(t)&&(e.setupState=_0(t)),r1(e)}function r1(e,t,n){const r=e.type;e.render||(e.render=r.render||ps);{const s=Ya(e);vi();try{yA(e)}finally{bi(),s()}}}const nT={get(e,t){return Fn(e,"get",""),e[t]}};function rT(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,nT),slots:e.slots,emit:e.emit,expose:t}}function Hc(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(_0(Xh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ca)return Ca[n](e)},has(t,n){return n in t||n in Ca}})):e.proxy}function sT(e,t=!0){return ne(e)?e.displayName||e.name:e.name||t&&e.__name}function iT(e){return ne(e)&&"__vccOpts"in e}const se=(e,t)=>XE(e,t,La);function td(e,t,n){const r=arguments.length;return r===2?Xe(t)&&!Wt(t)?vc(t)?Ce(e,null,[t]):Ce(e,t):Ce(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&vc(n)&&(n=[n]),Ce(e,t,n))}const oT="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ch;const mm=typeof window<"u"&&window.trustedTypes;if(mm)try{ch=mm.createPolicy("vue",{createHTML:e=>e})}catch{}const s1=ch?e=>ch.createHTML(e):e=>e,aT="http://www.w3.org/2000/svg",lT="http://www.w3.org/1998/Math/MathML",Is=typeof document<"u"?document:null,ym=Is&&Is.createElement("template"),cT={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Is.createElementNS(aT,e):t==="mathml"?Is.createElementNS(lT,e):n?Is.createElement(e,{is:n}):Is.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Is.createTextNode(e),createComment:e=>Is.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Is.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,o){const l=n?n.previousSibling:t.lastChild;if(s&&(s===o||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===o||!(s=s.nextSibling)););else{ym.innerHTML=s1(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const c=ym.content;if(r==="svg"||r==="mathml"){const u=c.firstChild;for(;u.firstChild;)c.appendChild(u.firstChild);c.removeChild(u)}t.insertBefore(c,n)}return[l?l.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ti="transition",ia="animation",Na=Symbol("_vtc"),i1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},uT=On({},M0,i1),fT=e=>(e.displayName="Transition",e.props=uT,e),hT=fT((e,{slots:t})=>td(nA,dT(e),t)),Oi=(e,t=[])=>{Wt(e)?e.forEach(n=>n(...t)):e&&e(...t)},vm=e=>e?Wt(e)?e.some(t=>t.length>1):e.length>1:!1;function dT(e){const t={};for(const ft in e)ft in i1||(t[ft]=e[ft]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:c=`${n}-enter-to`,appearFromClass:u=o,appearActiveClass:h=l,appearToClass:d=c,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:m=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,x=pT(s),C=x&&x[0],S=x&&x[1],{onBeforeEnter:M,onEnter:$,onEnterCancelled:I,onLeave:D,onLeaveCancelled:q,onBeforeAppear:Q=M,onAppear:W=$,onAppearCancelled:vt=I}=t,ut=(ft,Ot,Lt,St)=>{ft._enterCancelled=St,Ii(ft,Ot?d:c),Ii(ft,Ot?h:l),Lt&&Lt()},_t=(ft,Ot)=>{ft._isLeaving=!1,Ii(ft,p),Ii(ft,y),Ii(ft,m),Ot&&Ot()},wt=ft=>(Ot,Lt)=>{const St=ft?W:$,Ct=()=>ut(Ot,ft,Lt);Oi(St,[Ot,Ct]),bm(()=>{Ii(Ot,ft?u:o),Ms(Ot,ft?d:c),vm(St)||xm(Ot,r,C,Ct)})};return On(t,{onBeforeEnter(ft){Oi(M,[ft]),Ms(ft,o),Ms(ft,l)},onBeforeAppear(ft){Oi(Q,[ft]),Ms(ft,u),Ms(ft,h)},onEnter:wt(!1),onAppear:wt(!0),onLeave(ft,Ot){ft._isLeaving=!0;const Lt=()=>_t(ft,Ot);Ms(ft,p),ft._enterCancelled?(Ms(ft,m),Sm()):(Sm(),Ms(ft,m)),bm(()=>{ft._isLeaving&&(Ii(ft,p),Ms(ft,y),vm(D)||xm(ft,r,S,Lt))}),Oi(D,[ft,Lt])},onEnterCancelled(ft){ut(ft,!1,void 0,!0),Oi(I,[ft])},onAppearCancelled(ft){ut(ft,!0,void 0,!0),Oi(vt,[ft])},onLeaveCancelled(ft){_t(ft),Oi(q,[ft])}})}function pT(e){if(e==null)return null;if(Xe(e))return[Tf(e.enter),Tf(e.leave)];{const t=Tf(e);return[t,t]}}function Tf(e){return fE(e)}function Ms(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Na]||(e[Na]=new Set)).add(t)}function Ii(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Na];n&&(n.delete(t),n.size||(e[Na]=void 0))}function bm(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let gT=0;function xm(e,t,n,r){const s=e._endId=++gT,o=()=>{s===e._endId&&r()};if(n!=null)return setTimeout(o,n);const{type:l,timeout:c,propCount:u}=mT(e,t);if(!l)return r();const h=l+"end";let d=0;const p=()=>{e.removeEventListener(h,m),o()},m=y=>{y.target===e&&++d>=u&&p()};setTimeout(()=>{d<u&&p()},c+1),e.addEventListener(h,m)}function mT(e,t){const n=window.getComputedStyle(e),r=x=>(n[x]||"").split(", "),s=r(`${ti}Delay`),o=r(`${ti}Duration`),l=wm(s,o),c=r(`${ia}Delay`),u=r(`${ia}Duration`),h=wm(c,u);let d=null,p=0,m=0;t===ti?l>0&&(d=ti,p=l,m=o.length):t===ia?h>0&&(d=ia,p=h,m=u.length):(p=Math.max(l,h),d=p>0?l>h?ti:ia:null,m=d?d===ti?o.length:u.length:0);const y=d===ti&&/\b(transform|all)(,|$)/.test(r(`${ti}Property`).toString());return{type:d,timeout:p,propCount:m,hasTransform:y}}function wm(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>_m(n)+_m(e[r])))}function _m(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Sm(){return document.body.offsetHeight}function yT(e,t,n){const r=e[Na];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const xc=Symbol("_vod"),o1=Symbol("_vsh"),vT={beforeMount(e,{value:t},{transition:n}){e[xc]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):oa(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),oa(e,!0),r.enter(e)):r.leave(e,()=>{oa(e,!1)}):oa(e,t))},beforeUnmount(e,{value:t}){oa(e,t)}};function oa(e,t){e.style.display=t?e[xc]:"none",e[o1]=!t}const bT=Symbol(""),xT=/(^|;)\s*display\s*:/;function wT(e,t,n){const r=e.style,s=xn(n);let o=!1;if(n&&!s){if(t)if(xn(t))for(const l of t.split(";")){const c=l.slice(0,l.indexOf(":")).trim();n[c]==null&&oc(r,c,"")}else for(const l in t)n[l]==null&&oc(r,l,"");for(const l in n)l==="display"&&(o=!0),oc(r,l,n[l])}else if(s){if(t!==n){const l=r[bT];l&&(n+=";"+l),r.cssText=n,o=xT.test(n)}}else t&&e.removeAttribute("style");xc in e&&(e[xc]=o?r.display:"",e[o1]&&(r.display="none"))}const Cm=/\s*!important$/;function oc(e,t,n){if(Wt(n))n.forEach(r=>oc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=_T(e,t);Cm.test(n)?e.setProperty(yi(r),n.replace(Cm,""),"important"):e[r]=n}}const Em=["Webkit","Moz","ms"],kf={};function _T(e,t){const n=kf[t];if(n)return n;let r=Vr(t);if(r!=="filter"&&r in e)return kf[t]=r;r=Ic(r);for(let s=0;s<Em.length;s++){const o=Em[s]+r;if(o in e)return kf[t]=o}return t}const Am="http://www.w3.org/1999/xlink";function Tm(e,t,n,r,s,o=yE(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(Am,t.slice(6,t.length)):e.setAttributeNS(Am,t,n):n==null||o&&!Jy(n)?e.removeAttribute(t):e.setAttribute(t,o?"":ys(n)?String(n):n)}function km(e,t,n,r,s){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?s1(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const c=o==="OPTION"?e.getAttribute("value")||"":e.value,u=n==null?e.type==="checkbox"?"on":"":String(n);(c!==u||!("_value"in e))&&(e.value=u),n==null&&e.removeAttribute(t),e._value=n;return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Jy(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(s||t)}function Hi(e,t,n,r){e.addEventListener(t,n,r)}function ST(e,t,n,r){e.removeEventListener(t,n,r)}const Mm=Symbol("_vei");function CT(e,t,n,r,s=null){const o=e[Mm]||(e[Mm]={}),l=o[t];if(r&&l)l.value=r;else{const[c,u]=ET(t);if(r){const h=o[t]=kT(r,s);Hi(e,c,h,u)}else l&&(ST(e,c,l,u),o[t]=void 0)}}const Rm=/(?:Once|Passive|Capture)$/;function ET(e){let t;if(Rm.test(e)){t={};let r;for(;r=e.match(Rm);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):yi(e.slice(2)),t]}let Mf=0;const AT=Promise.resolve(),TT=()=>Mf||(AT.then(()=>Mf=0),Mf=Date.now());function kT(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Jr(MT(r,n.value),t,5,[r])};return n.value=e,n.attached=TT(),n}function MT(e,t){if(Wt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const Pm=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,RT=(e,t,n,r,s,o)=>{const l=s==="svg";t==="class"?yT(e,r,l):t==="style"?wT(e,n,r):Rc(t)?$h(t)||CT(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):PT(e,t,r,l))?(km(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Tm(e,t,r,l,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!xn(r))?km(e,Vr(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Tm(e,t,r,l))};function PT(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Pm(t)&&ne(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Pm(t)&&xn(n)?!1:t in e}const wc=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Wt(t)?n=>nc(t,n):t};function OT(e){e.target.composing=!0}function Om(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ro=Symbol("_assign"),Qe={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[Ro]=wc(s);const o=r||s.props&&s.props.type==="number";Hi(e,t?"change":"input",l=>{if(l.target.composing)return;let c=e.value;n&&(c=c.trim()),o&&(c=fc(c)),e[Ro](c)}),n&&Hi(e,"change",()=>{e.value=e.value.trim()}),t||(Hi(e,"compositionstart",OT),Hi(e,"compositionend",Om),Hi(e,"change",Om))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:o}},l){if(e[Ro]=wc(l),e.composing)return;const c=(o||e.type==="number")&&!/^0\d/.test(e.value)?fc(e.value):e.value,u=t??"";c!==u&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===u)||(e.value=u))}},IT={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=Pc(t);Hi(e,"change",()=>{const o=Array.prototype.filter.call(e.options,l=>l.selected).map(l=>n?fc(_c(l)):_c(l));e[Ro](e.multiple?s?new Set(o):o:o[0]),e._assigning=!0,qi(()=>{e._assigning=!1})}),e[Ro]=wc(r)},mounted(e,{value:t}){Im(e,t)},beforeUpdate(e,t,n){e[Ro]=wc(n)},updated(e,{value:t}){e._assigning||Im(e,t)}};function Im(e,t){const n=e.multiple,r=Wt(t);if(!(n&&!r&&!Pc(t))){for(let s=0,o=e.options.length;s<o;s++){const l=e.options[s],c=_c(l);if(n)if(r){const u=typeof c;u==="string"||u==="number"?l.selected=t.some(h=>String(h)===String(c)):l.selected=bE(t,c)>-1}else l.selected=t.has(c);else if(Nc(_c(l),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function _c(e){return"_value"in e?e._value:e.value}const LT=["ctrl","shift","alt","meta"],NT={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>LT.some(n=>e[`${n}Key`]&&!t.includes(n))},wr=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...o)=>{for(let l=0;l<t.length;l++){const c=NT[t[l]];if(c&&c(s,t))return}return e(s,...o)})},DT={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ja=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const o=yi(s.key);if(t.some(l=>l===o||DT[l]===o))return e(s)})},$T=On({patchProp:RT},cT);let Lm;function UT(){return Lm||(Lm=PA($T))}const FT=(...e)=>{const t=UT().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=BT(r);if(!s)return;const o=t._component;!ne(o)&&!o.render&&!o.template&&(o.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const l=n(s,!1,VT(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),l},t};function VT(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function BT(e){return xn(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let a1;const Wc=e=>a1=e,l1=Symbol();function uh(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Aa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Aa||(Aa={}));function HT(){const e=r0(!0),t=e.run(()=>kt({}));let n=[],r=[];const s=Xh({install(o){Wc(s),s._a=o,o.provide(l1,s),o.config.globalProperties.$pinia=s,r.forEach(l=>n.push(l)),r=[]},use(o){return this._a?n.push(o):r.push(o),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const c1=()=>{};function Nm(e,t,n,r=c1){e.push(t);const s=()=>{const o=e.indexOf(t);o>-1&&(e.splice(o,1),r())};return!n&&s0()&&xE(s),s}function vo(e,...t){e.slice().forEach(n=>{n(...t)})}const WT=e=>e(),Dm=Symbol(),Rf=Symbol();function fh(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,r)=>e.set(r,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],s=e[n];uh(s)&&uh(r)&&e.hasOwnProperty(n)&&!pn(r)&&!fi(r)?e[n]=fh(s,r):e[n]=r}return e}const zT=Symbol();function qT(e){return!uh(e)||!e.hasOwnProperty(zT)}const{assign:ni}=Object;function GT(e){return!!(pn(e)&&e.effect)}function XT(e,t,n,r){const{state:s,actions:o,getters:l}=t,c=n.state.value[e];let u;function h(){c||(n.state.value[e]=s?s():{});const d=WE(n.state.value[e]);return ni(d,o,Object.keys(l||{}).reduce((p,m)=>(p[m]=Xh(se(()=>{Wc(n);const y=n._s.get(e);return l[m].call(y,y)})),p),{}))}return u=u1(e,h,t,n,r,!0),u}function u1(e,t,n={},r,s,o){let l;const c=ni({actions:{}},n),u={deep:!0};let h,d,p=[],m=[],y;const x=r.state.value[e];!o&&!x&&(r.state.value[e]={}),kt({});let C;function S(vt){let ut;h=d=!1,typeof vt=="function"?(vt(r.state.value[e]),ut={type:Aa.patchFunction,storeId:e,events:y}):(fh(r.state.value[e],vt),ut={type:Aa.patchObject,payload:vt,storeId:e,events:y});const _t=C=Symbol();qi().then(()=>{C===_t&&(h=!0)}),d=!0,vo(p,ut,r.state.value[e])}const M=o?function(){const{state:ut}=n,_t=ut?ut():{};this.$patch(wt=>{ni(wt,_t)})}:c1;function $(){l.stop(),p=[],m=[],r._s.delete(e)}const I=(vt,ut="")=>{if(Dm in vt)return vt[Rf]=ut,vt;const _t=function(){Wc(r);const wt=Array.from(arguments),ft=[],Ot=[];function Lt(ct){ft.push(ct)}function St(ct){Ot.push(ct)}vo(m,{args:wt,name:_t[Rf],store:q,after:Lt,onError:St});let Ct;try{Ct=vt.apply(this&&this.$id===e?this:q,wt)}catch(ct){throw vo(Ot,ct),ct}return Ct instanceof Promise?Ct.then(ct=>(vo(ft,ct),ct)).catch(ct=>(vo(Ot,ct),Promise.reject(ct))):(vo(ft,Ct),Ct)};return _t[Dm]=!0,_t[Rf]=ut,_t},D={_p:r,$id:e,$onAction:Nm.bind(null,m),$patch:S,$reset:M,$subscribe(vt,ut={}){const _t=Nm(p,vt,ut.detached,()=>wt()),wt=l.run(()=>gs(()=>r.state.value[e],ft=>{(ut.flush==="sync"?d:h)&&vt({storeId:e,type:Aa.direct,events:y},ft)},ni({},u,ut)));return _t},$dispose:$},q=tr(D);r._s.set(e,q);const W=(r._a&&r._a.runWithContext||WT)(()=>r._e.run(()=>(l=r0()).run(()=>t({action:I}))));for(const vt in W){const ut=W[vt];if(pn(ut)&&!GT(ut)||fi(ut))o||(x&&qT(ut)&&(pn(ut)?ut.value=x[vt]:fh(ut,x[vt])),r.state.value[e][vt]=ut);else if(typeof ut=="function"){const _t=I(ut,vt);W[vt]=_t,c.actions[vt]=ut}}return ni(q,W),ni(Re(q),W),Object.defineProperty(q,"$state",{get:()=>r.state.value[e],set:vt=>{S(ut=>{ni(ut,vt)})}}),r._p.forEach(vt=>{ni(q,l.run(()=>vt({store:q,app:r._a,pinia:r,options:c})))}),x&&o&&n.hydrate&&n.hydrate(q.$state,x),h=!0,d=!0,q}/*! #__NO_SIDE_EFFECTS__ */function es(e,t,n){let r,s;const o=typeof t=="function";typeof e=="string"?(r=e,s=o?n:t):(s=e,r=e.id);function l(c,u){const h=CA();return c=c||(h?Fr(l1,null):null),c&&Wc(c),c=a1,c._s.has(r)||(o?u1(r,t,s,c):XT(r,s,c)),c._s.get(r)}return l.$id=r,l}const YT="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='img'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20625%20160'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23ef5c4e;%20}%20.cls-2%20{%20fill:%20%23fff;%20stroke:%20%23ef5c4e;%20stroke-miterlimit:%2010;%20stroke-width:%204px;%20}%20%3c/style%3e%3c/defs%3e%3cg%3e%3cpath%20class='cls-1'%20d='M217.9,93.59v-54.87h-36.58v-13.72h52.59v68.59h-16.01ZM261.34,54.72v75.45h-16V25h16v16.01h9.15v13.72h-9.15Z'/%3e%3cpath%20class='cls-1'%20d='M318.87,91.3v38.87h-16.01v-38.87h-30.86v-13.72h57.16v-38.87h-57.16v-13.72h73.16v52.59h4.57v13.72h-30.86Z'/%3e%3cpath%20class='cls-1'%20d='M357.98,78.35v-13.72h33.15v-6.86h-29.72V25.25h16v19.94h59.45v12.58h-29.72v6.86h33.15v13.72h-82.31ZM419.46,101.85c1.65,3.05,2.54,6.6,2.54,10.29,0,12.58-10.29,22.86-22.86,22.86s-22.86-10.29-22.86-22.86c0-3.68.89-7.24,2.41-10.29h-14.99v-13.72h26.93v-6.35h17.15v6.35h26.8v13.72h-15.12ZM399.01,103.37c-4.83,0-8.76,3.94-8.76,8.76s4.06,8.64,8.89,8.64,8.64-3.81,8.64-8.64-3.94-8.76-8.76-8.76Z'/%3e%3cpath%20class='cls-1'%20d='M495.41,91.3v38.87h-16v-38.87h-30.87v-13.72h57.16v-38.87h-57.16v-13.72h73.16v52.59h4.57v13.72h-30.87Z'/%3e%3cpath%20class='cls-1'%20d='M570.98,93.59v-54.87h-36.58v-13.72h52.59v68.59h-16ZM614.42,54.72v75.45h-16V25h16v16.01h9.15v13.72h-9.15Z'/%3e%3c/g%3e%3cg%3e%3crect%20class='cls-1'%20x='1.44'%20y='0'%20width='160'%20height='160'%20rx='40'%20ry='40'/%3e%3cg%3e%3cpath%20class='cls-2'%20d='M38.44,50h43v36H30.44v-28c0-4.42,3.58-8,8-8Z'/%3e%3cpath%20class='cls-2'%20d='M81.44,50h43c4.42,0,8,3.58,8,8v28h-51v-36h0Z'/%3e%3cpath%20class='cls-2'%20d='M26.44,68h8c2.76,0,5,2.24,5,5v31h-13c-2.76,0-5-2.24-5-5v-26c0-2.76,2.24-5,5-5Z'/%3e%3crect%20class='cls-2'%20x='39.44'%20y='86'%20width='84'%20height='18'/%3e%3cpath%20class='cls-2'%20d='M128.44,68h8c2.76,0,5,2.24,5,5v26c0,2.76-2.24,5-5,5h-13v-31c0-2.76,2.24-5,5-5Z'/%3e%3cpath%20class='cls-2'%20d='M123.44,104h10.5v3c0,2.21-1.79,4-4,4h-2.5c-2.21,0-4-1.79-4-4v-3h0Z'/%3e%3cpath%20class='cls-2'%20d='M28.94,104h10.5v3c0,2.21-1.79,4-4,4h-2.5c-2.21,0-4-1.79-4-4v-3h0Z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function f1(e,t){return function(){return e.apply(t,arguments)}}const{toString:jT}=Object.prototype,{getPrototypeOf:ed}=Object,zc=(e=>t=>{const n=jT.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ns=e=>(e=e.toLowerCase(),t=>zc(t)===e),qc=e=>t=>typeof t===e,{isArray:Do}=Array,Da=qc("undefined");function KT(e){return e!==null&&!Da(e)&&e.constructor!==null&&!Da(e.constructor)&&_r(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const h1=ns("ArrayBuffer");function ZT(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&h1(e.buffer),t}const QT=qc("string"),_r=qc("function"),d1=qc("number"),Gc=e=>e!==null&&typeof e=="object",JT=e=>e===!0||e===!1,ac=e=>{if(zc(e)!=="object")return!1;const t=ed(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tk=ns("Date"),ek=ns("File"),nk=ns("Blob"),rk=ns("FileList"),sk=e=>Gc(e)&&_r(e.pipe),ik=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||_r(e.append)&&((t=zc(e))==="formdata"||t==="object"&&_r(e.toString)&&e.toString()==="[object FormData]"))},ok=ns("URLSearchParams"),[ak,lk,ck,uk]=["ReadableStream","Request","Response","Headers"].map(ns),fk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ka(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Do(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let c;for(r=0;r<l;r++)c=o[r],t.call(null,e[c],c,e)}}function p1(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,g1=e=>!Da(e)&&e!==Wi;function hh(){const{caseless:e}=g1(this)&&this||{},t={},n=(r,s)=>{const o=e&&p1(t,s)||s;ac(t[o])&&ac(r)?t[o]=hh(t[o],r):ac(r)?t[o]=hh({},r):Do(r)?t[o]=r.slice():t[o]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ka(arguments[r],n);return t}const hk=(e,t,n,{allOwnKeys:r}={})=>(Ka(t,(s,o)=>{n&&_r(s)?e[o]=f1(s,n):e[o]=s},{allOwnKeys:r}),e),dk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),pk=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},gk=(e,t,n,r)=>{let s,o,l;const c={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)l=s[o],(!r||r(l,e,t))&&!c[l]&&(t[l]=e[l],c[l]=!0);e=n!==!1&&ed(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},mk=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},yk=e=>{if(!e)return null;if(Do(e))return e;let t=e.length;if(!d1(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},vk=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ed(Uint8Array)),bk=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},xk=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},wk=ns("HTMLFormElement"),_k=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$m=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Sk=ns("RegExp"),m1=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ka(n,(s,o)=>{let l;(l=t(s,o,e))!==!1&&(r[o]=l||s)}),Object.defineProperties(e,r)},Ck=e=>{m1(e,(t,n)=>{if(_r(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(_r(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ek=(e,t)=>{const n={},r=s=>{s.forEach(o=>{n[o]=!0})};return Do(e)?r(e):r(String(e).split(t)),n},Ak=()=>{},Tk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Pf="abcdefghijklmnopqrstuvwxyz",Um="0123456789",y1={DIGIT:Um,ALPHA:Pf,ALPHA_DIGIT:Pf+Pf.toUpperCase()+Um},kk=(e=16,t=y1.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function Mk(e){return!!(e&&_r(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Rk=e=>{const t=new Array(10),n=(r,s)=>{if(Gc(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const o=Do(r)?[]:{};return Ka(r,(l,c)=>{const u=n(l,s+1);!Da(u)&&(o[c]=u)}),t[s]=void 0,o}}return r};return n(e,0)},Pk=ns("AsyncFunction"),Ok=e=>e&&(Gc(e)||_r(e))&&_r(e.then)&&_r(e.catch),v1=((e,t)=>e?setImmediate:t?((n,r)=>(Wi.addEventListener("message",({source:s,data:o})=>{s===Wi&&o===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Wi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",_r(Wi.postMessage)),Ik=typeof queueMicrotask<"u"?queueMicrotask.bind(Wi):typeof process<"u"&&process.nextTick||v1,X={isArray:Do,isArrayBuffer:h1,isBuffer:KT,isFormData:ik,isArrayBufferView:ZT,isString:QT,isNumber:d1,isBoolean:JT,isObject:Gc,isPlainObject:ac,isReadableStream:ak,isRequest:lk,isResponse:ck,isHeaders:uk,isUndefined:Da,isDate:tk,isFile:ek,isBlob:nk,isRegExp:Sk,isFunction:_r,isStream:sk,isURLSearchParams:ok,isTypedArray:vk,isFileList:rk,forEach:Ka,merge:hh,extend:hk,trim:fk,stripBOM:dk,inherits:pk,toFlatObject:gk,kindOf:zc,kindOfTest:ns,endsWith:mk,toArray:yk,forEachEntry:bk,matchAll:xk,isHTMLForm:wk,hasOwnProperty:$m,hasOwnProp:$m,reduceDescriptors:m1,freezeMethods:Ck,toObjectSet:Ek,toCamelCase:_k,noop:Ak,toFiniteNumber:Tk,findKey:p1,global:Wi,isContextDefined:g1,ALPHABET:y1,generateString:kk,isSpecCompliantForm:Mk,toJSONObject:Rk,isAsyncFn:Pk,isThenable:Ok,setImmediate:v1,asap:Ik};function ue(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}X.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const b1=ue.prototype,x1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{x1[e]={value:e}});Object.defineProperties(ue,x1);Object.defineProperty(b1,"isAxiosError",{value:!0});ue.from=(e,t,n,r,s,o)=>{const l=Object.create(b1);return X.toFlatObject(e,l,function(u){return u!==Error.prototype},c=>c!=="isAxiosError"),ue.call(l,e.message,t,n,r,s),l.cause=e,l.name=e.name,o&&Object.assign(l,o),l};const Lk=null;function dh(e){return X.isPlainObject(e)||X.isArray(e)}function w1(e){return X.endsWith(e,"[]")?e.slice(0,-2):e}function Fm(e,t,n){return e?e.concat(t).map(function(s,o){return s=w1(s),!n&&o?"["+s+"]":s}).join(n?".":""):t}function Nk(e){return X.isArray(e)&&!e.some(dh)}const Dk=X.toFlatObject(X,{},null,function(t){return/^is[A-Z]/.test(t)});function Xc(e,t,n){if(!X.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=X.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,S){return!X.isUndefined(S[C])});const r=n.metaTokens,s=n.visitor||d,o=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(t);if(!X.isFunction(s))throw new TypeError("visitor must be a function");function h(x){if(x===null)return"";if(X.isDate(x))return x.toISOString();if(!u&&X.isBlob(x))throw new ue("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(x)||X.isTypedArray(x)?u&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function d(x,C,S){let M=x;if(x&&!S&&typeof x=="object"){if(X.endsWith(C,"{}"))C=r?C:C.slice(0,-2),x=JSON.stringify(x);else if(X.isArray(x)&&Nk(x)||(X.isFileList(x)||X.endsWith(C,"[]"))&&(M=X.toArray(x)))return C=w1(C),M.forEach(function(I,D){!(X.isUndefined(I)||I===null)&&t.append(l===!0?Fm([C],D,o):l===null?C:C+"[]",h(I))}),!1}return dh(x)?!0:(t.append(Fm(S,C,o),h(x)),!1)}const p=[],m=Object.assign(Dk,{defaultVisitor:d,convertValue:h,isVisitable:dh});function y(x,C){if(!X.isUndefined(x)){if(p.indexOf(x)!==-1)throw Error("Circular reference detected in "+C.join("."));p.push(x),X.forEach(x,function(M,$){(!(X.isUndefined(M)||M===null)&&s.call(t,M,X.isString($)?$.trim():$,C,m))===!0&&y(M,C?C.concat($):[$])}),p.pop()}}if(!X.isObject(e))throw new TypeError("data must be an object");return y(e),t}function Vm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function nd(e,t){this._pairs=[],e&&Xc(e,this,t)}const _1=nd.prototype;_1.append=function(t,n){this._pairs.push([t,n])};_1.toString=function(t){const n=t?function(r){return t.call(this,r,Vm)}:Vm;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function $k(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function S1(e,t,n){if(!t)return e;const r=n&&n.encode||$k;X.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let o;if(s?o=s(t,n):o=X.isURLSearchParams(t)?t.toString():new nd(t,n).toString(r),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Bm{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){X.forEach(this.handlers,function(r){r!==null&&t(r)})}}const C1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uk=typeof URLSearchParams<"u"?URLSearchParams:nd,Fk=typeof FormData<"u"?FormData:null,Vk=typeof Blob<"u"?Blob:null,Bk={isBrowser:!0,classes:{URLSearchParams:Uk,FormData:Fk,Blob:Vk},protocols:["http","https","file","blob","url","data"]},rd=typeof window<"u"&&typeof document<"u",ph=typeof navigator=="object"&&navigator||void 0,Hk=rd&&(!ph||["ReactNative","NativeScript","NS"].indexOf(ph.product)<0),Wk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zk=rd&&window.location.href||"http://localhost",qk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rd,hasStandardBrowserEnv:Hk,hasStandardBrowserWebWorkerEnv:Wk,navigator:ph,origin:zk},Symbol.toStringTag,{value:"Module"})),Bn={...qk,...Bk};function Gk(e,t){return Xc(e,new Bn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,o){return Bn.isNode&&X.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function Xk(e){return X.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Yk(e){const t={},n=Object.keys(e);let r;const s=n.length;let o;for(r=0;r<s;r++)o=n[r],t[o]=e[o];return t}function E1(e){function t(n,r,s,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),u=o>=n.length;return l=!l&&X.isArray(s)?s.length:l,u?(X.hasOwnProp(s,l)?s[l]=[s[l],r]:s[l]=r,!c):((!s[l]||!X.isObject(s[l]))&&(s[l]=[]),t(n,r,s[l],o)&&X.isArray(s[l])&&(s[l]=Yk(s[l])),!c)}if(X.isFormData(e)&&X.isFunction(e.entries)){const n={};return X.forEachEntry(e,(r,s)=>{t(Xk(r),s,n,0)}),n}return null}function jk(e,t,n){if(X.isString(e))try{return(t||JSON.parse)(e),X.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Za={transitional:C1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,o=X.isObject(t);if(o&&X.isHTMLForm(t)&&(t=new FormData(t)),X.isFormData(t))return s?JSON.stringify(E1(t)):t;if(X.isArrayBuffer(t)||X.isBuffer(t)||X.isStream(t)||X.isFile(t)||X.isBlob(t)||X.isReadableStream(t))return t;if(X.isArrayBufferView(t))return t.buffer;if(X.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Gk(t,this.formSerializer).toString();if((c=X.isFileList(t))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Xc(c?{"files[]":t}:t,u&&new u,this.formSerializer)}}return o||s?(n.setContentType("application/json",!1),jk(t)):t}],transformResponse:[function(t){const n=this.transitional||Za.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(X.isResponse(t)||X.isReadableStream(t))return t;if(t&&X.isString(t)&&(r&&!this.responseType||s)){const l=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(c){if(l)throw c.name==="SyntaxError"?ue.from(c,ue.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Bn.classes.FormData,Blob:Bn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],e=>{Za.headers[e]={}});const Kk=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Zk=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(l){s=l.indexOf(":"),n=l.substring(0,s).trim().toLowerCase(),r=l.substring(s+1).trim(),!(!n||t[n]&&Kk[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Hm=Symbol("internals");function aa(e){return e&&String(e).trim().toLowerCase()}function lc(e){return e===!1||e==null?e:X.isArray(e)?e.map(lc):String(e)}function Qk(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Jk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Of(e,t,n,r,s){if(X.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!X.isString(t)){if(X.isString(r))return t.indexOf(r)!==-1;if(X.isRegExp(r))return r.test(t)}}function tM(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function eM(e,t){const n=X.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,o,l){return this[r].call(this,t,s,o,l)},configurable:!0})})}let lr=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function o(c,u,h){const d=aa(u);if(!d)throw new Error("header name must be a non-empty string");const p=X.findKey(s,d);(!p||s[p]===void 0||h===!0||h===void 0&&s[p]!==!1)&&(s[p||u]=lc(c))}const l=(c,u)=>X.forEach(c,(h,d)=>o(h,d,u));if(X.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(X.isString(t)&&(t=t.trim())&&!Jk(t))l(Zk(t),n);else if(X.isHeaders(t))for(const[c,u]of t.entries())o(u,c,r);else t!=null&&o(n,t,r);return this}get(t,n){if(t=aa(t),t){const r=X.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Qk(s);if(X.isFunction(n))return n.call(this,s,r);if(X.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=aa(t),t){const r=X.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Of(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function o(l){if(l=aa(l),l){const c=X.findKey(r,l);c&&(!n||Of(r,r[c],c,n))&&(delete r[c],s=!0)}}return X.isArray(t)?t.forEach(o):o(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const o=n[r];(!t||Of(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const n=this,r={};return X.forEach(this,(s,o)=>{const l=X.findKey(r,o);if(l){n[l]=lc(s),delete n[o];return}const c=t?tM(o):String(o).trim();c!==o&&delete n[o],n[c]=lc(s),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return X.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&X.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Hm]=this[Hm]={accessors:{}}).accessors,s=this.prototype;function o(l){const c=aa(l);r[c]||(eM(s,l),r[c]=!0)}return X.isArray(t)?t.forEach(o):o(t),this}};lr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(lr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});X.freezeMethods(lr);function If(e,t){const n=this||Za,r=t||n,s=lr.from(r.headers);let o=r.data;return X.forEach(e,function(c){o=c.call(n,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function A1(e){return!!(e&&e.__CANCEL__)}function $o(e,t,n){ue.call(this,e??"canceled",ue.ERR_CANCELED,t,n),this.name="CanceledError"}X.inherits($o,ue,{__CANCEL__:!0});function T1(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nM(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function rM(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,o=0,l;return t=t!==void 0?t:1e3,function(u){const h=Date.now(),d=r[o];l||(l=h),n[s]=u,r[s]=h;let p=o,m=0;for(;p!==s;)m+=n[p++],p=p%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),h-l<t)return;const y=d&&h-d;return y?Math.round(m*1e3/y):void 0}}function sM(e,t){let n=0,r=1e3/t,s,o;const l=(h,d=Date.now())=>{n=d,s=null,o&&(clearTimeout(o),o=null),e.apply(null,h)};return[(...h)=>{const d=Date.now(),p=d-n;p>=r?l(h,d):(s=h,o||(o=setTimeout(()=>{o=null,l(s)},r-p)))},()=>s&&l(s)]}const Sc=(e,t,n=3)=>{let r=0;const s=rM(50,250);return sM(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,u=l-r,h=s(u),d=l<=c;r=l;const p={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&d?(c-l)/h:void 0,event:o,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(p)},n)},Wm=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},zm=e=>(...t)=>X.asap(()=>e(...t)),iM=Bn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Bn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Bn.origin),Bn.navigator&&/(msie|trident)/i.test(Bn.navigator.userAgent)):()=>!0,oM=Bn.hasStandardBrowserEnv?{write(e,t,n,r,s,o){const l=[e+"="+encodeURIComponent(t)];X.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),X.isString(r)&&l.push("path="+r),X.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function aM(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lM(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function k1(e,t){return e&&!aM(t)?lM(e,t):t}const qm=e=>e instanceof lr?{...e}:e;function Ki(e,t){t=t||{};const n={};function r(h,d,p,m){return X.isPlainObject(h)&&X.isPlainObject(d)?X.merge.call({caseless:m},h,d):X.isPlainObject(d)?X.merge({},d):X.isArray(d)?d.slice():d}function s(h,d,p,m){if(X.isUndefined(d)){if(!X.isUndefined(h))return r(void 0,h,p,m)}else return r(h,d,p,m)}function o(h,d){if(!X.isUndefined(d))return r(void 0,d)}function l(h,d){if(X.isUndefined(d)){if(!X.isUndefined(h))return r(void 0,h)}else return r(void 0,d)}function c(h,d,p){if(p in t)return r(h,d);if(p in e)return r(void 0,h)}const u={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,d,p)=>s(qm(h),qm(d),p,!0)};return X.forEach(Object.keys(Object.assign({},e,t)),function(d){const p=u[d]||s,m=p(e[d],t[d],d);X.isUndefined(m)&&p!==c||(n[d]=m)}),n}const M1=e=>{const t=Ki({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:c}=t;t.headers=l=lr.from(l),t.url=S1(k1(t.baseURL,t.url),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let u;if(X.isFormData(n)){if(Bn.hasStandardBrowserEnv||Bn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((u=l.getContentType())!==!1){const[h,...d]=u?u.split(";").map(p=>p.trim()).filter(Boolean):[];l.setContentType([h||"multipart/form-data",...d].join("; "))}}if(Bn.hasStandardBrowserEnv&&(r&&X.isFunction(r)&&(r=r(t)),r||r!==!1&&iM(t.url))){const h=s&&o&&oM.read(o);h&&l.set(s,h)}return t},cM=typeof XMLHttpRequest<"u",uM=cM&&function(e){return new Promise(function(n,r){const s=M1(e);let o=s.data;const l=lr.from(s.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=s,d,p,m,y,x;function C(){y&&y(),x&&x(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function M(){if(!S)return;const I=lr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),q={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:I,config:e,request:S};T1(function(W){n(W),C()},function(W){r(W),C()},q),S=null}"onloadend"in S?S.onloadend=M:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(M)},S.onabort=function(){S&&(r(new ue("Request aborted",ue.ECONNABORTED,e,S)),S=null)},S.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,e,S)),S=null},S.ontimeout=function(){let D=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const q=s.transitional||C1;s.timeoutErrorMessage&&(D=s.timeoutErrorMessage),r(new ue(D,q.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,e,S)),S=null},o===void 0&&l.setContentType(null),"setRequestHeader"in S&&X.forEach(l.toJSON(),function(D,q){S.setRequestHeader(q,D)}),X.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),c&&c!=="json"&&(S.responseType=s.responseType),h&&([m,x]=Sc(h,!0),S.addEventListener("progress",m)),u&&S.upload&&([p,y]=Sc(u),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",y)),(s.cancelToken||s.signal)&&(d=I=>{S&&(r(!I||I.type?new $o(null,e,S):I),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const $=nM(s.url);if($&&Bn.protocols.indexOf($)===-1){r(new ue("Unsupported protocol "+$+":",ue.ERR_BAD_REQUEST,e));return}S.send(o||null)})},fM=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const o=function(h){if(!s){s=!0,c();const d=h instanceof Error?h:this.reason;r.abort(d instanceof ue?d:new $o(d instanceof Error?d.message:d))}};let l=t&&setTimeout(()=>{l=null,o(new ue(`timeout ${t} of ms exceeded`,ue.ETIMEDOUT))},t);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(h=>{h.unsubscribe?h.unsubscribe(o):h.removeEventListener("abort",o)}),e=null)};e.forEach(h=>h.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>X.asap(c),u}},hM=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},dM=async function*(e,t){for await(const n of pM(e))yield*hM(n,t)},pM=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Gm=(e,t,n,r)=>{const s=dM(e,t);let o=0,l,c=u=>{l||(l=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:d}=await s.next();if(h){c(),u.close();return}let p=d.byteLength;if(n){let m=o+=p;n(m)}u.enqueue(new Uint8Array(d))}catch(h){throw c(h),h}},cancel(u){return c(u),s.return()}},{highWaterMark:2})},Yc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",R1=Yc&&typeof ReadableStream=="function",gM=Yc&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),P1=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mM=R1&&P1(()=>{let e=!1;const t=new Request(Bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Xm=64*1024,gh=R1&&P1(()=>X.isReadableStream(new Response("").body)),Cc={stream:gh&&(e=>e.body)};Yc&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Cc[t]&&(Cc[t]=X.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ue(`Response type '${t}' is not supported`,ue.ERR_NOT_SUPPORT,r)})})})(new Response);const yM=async e=>{if(e==null)return 0;if(X.isBlob(e))return e.size;if(X.isSpecCompliantForm(e))return(await new Request(Bn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(X.isArrayBufferView(e)||X.isArrayBuffer(e))return e.byteLength;if(X.isURLSearchParams(e)&&(e=e+""),X.isString(e))return(await gM(e)).byteLength},vM=async(e,t)=>{const n=X.toFiniteNumber(e.getContentLength());return n??yM(t)},bM=Yc&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:u,responseType:h,headers:d,withCredentials:p="same-origin",fetchOptions:m}=M1(e);h=h?(h+"").toLowerCase():"text";let y=fM([s,o&&o.toAbortSignal()],l),x;const C=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let S;try{if(u&&mM&&n!=="get"&&n!=="head"&&(S=await vM(d,r))!==0){let q=new Request(t,{method:"POST",body:r,duplex:"half"}),Q;if(X.isFormData(r)&&(Q=q.headers.get("content-type"))&&d.setContentType(Q),q.body){const[W,vt]=Wm(S,Sc(zm(u)));r=Gm(q.body,Xm,W,vt)}}X.isString(p)||(p=p?"include":"omit");const M="credentials"in Request.prototype;x=new Request(t,{...m,signal:y,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:M?p:void 0});let $=await fetch(x);const I=gh&&(h==="stream"||h==="response");if(gh&&(c||I&&C)){const q={};["status","statusText","headers"].forEach(ut=>{q[ut]=$[ut]});const Q=X.toFiniteNumber($.headers.get("content-length")),[W,vt]=c&&Wm(Q,Sc(zm(c),!0))||[];$=new Response(Gm($.body,Xm,W,()=>{vt&&vt(),C&&C()}),q)}h=h||"text";let D=await Cc[X.findKey(Cc,h)||"text"]($,e);return!I&&C&&C(),await new Promise((q,Q)=>{T1(q,Q,{data:D,headers:lr.from($.headers),status:$.status,statusText:$.statusText,config:e,request:x})})}catch(M){throw C&&C(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new ue("Network Error",ue.ERR_NETWORK,e,x),{cause:M.cause||M}):ue.from(M,M&&M.code,e,x)}}),mh={http:Lk,xhr:uM,fetch:bM};X.forEach(mh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ym=e=>`- ${e}`,xM=e=>X.isFunction(e)||e===null||e===!1,O1={getAdapter:e=>{e=X.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let o=0;o<t;o++){n=e[o];let l;if(r=n,!xM(n)&&(r=mh[(l=String(n)).toLowerCase()],r===void 0))throw new ue(`Unknown adapter '${l}'`);if(r)break;s[l||"#"+o]=r}if(!r){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=t?o.length>1?`since :
`+o.map(Ym).join(`
`):" "+Ym(o[0]):"as no adapter specified";throw new ue("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:mh};function Lf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $o(null,e)}function jm(e){return Lf(e),e.headers=lr.from(e.headers),e.data=If.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),O1.getAdapter(e.adapter||Za.adapter)(e).then(function(r){return Lf(e),r.data=If.call(e,e.transformResponse,r),r.headers=lr.from(r.headers),r},function(r){return A1(r)||(Lf(e),r&&r.response&&(r.response.data=If.call(e,e.transformResponse,r.response),r.response.headers=lr.from(r.response.headers))),Promise.reject(r)})}const I1="1.7.9",jc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{jc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Km={};jc.transitional=function(t,n,r){function s(o,l){return"[Axios v"+I1+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(t===!1)throw new ue(s(l," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!Km[l]&&(Km[l]=!0,console.warn(s(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,l,c):!0}};jc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function wM(e,t,n){if(typeof e!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],l=t[o];if(l){const c=e[o],u=c===void 0||l(c,o,e);if(u!==!0)throw new ue("option "+o+" must be "+u,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+o,ue.ERR_BAD_OPTION)}}const cc={assertOptions:wM,validators:jc},us=cc.validators;let Xi=class{constructor(t){this.defaults=t,this.interceptors={request:new Bm,response:new Bm}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ki(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:o}=n;r!==void 0&&cc.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),s!=null&&(X.isFunction(s)?n.paramsSerializer={serialize:s}:cc.assertOptions(s,{encode:us.function,serialize:us.function},!0)),cc.assertOptions(n,{baseUrl:us.spelling("baseURL"),withXsrfToken:us.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&X.merge(o.common,o[n.method]);o&&X.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),n.headers=lr.concat(l,o);const c=[];let u=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(n)===!1||(u=u&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const h=[];this.interceptors.response.forEach(function(C){h.push(C.fulfilled,C.rejected)});let d,p=0,m;if(!u){const x=[jm.bind(this),void 0];for(x.unshift.apply(x,c),x.push.apply(x,h),m=x.length,d=Promise.resolve(n);p<m;)d=d.then(x[p++],x[p++]);return d}m=c.length;let y=n;for(p=0;p<m;){const x=c[p++],C=c[p++];try{y=x(y)}catch(S){C.call(this,S);break}}try{d=jm.call(this,y)}catch(x){return Promise.reject(x)}for(p=0,m=h.length;p<m;)d=d.then(h[p++],h[p++]);return d}getUri(t){t=Ki(this.defaults,t);const n=k1(t.baseURL,t.url);return S1(n,t.params,t.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(t){Xi.prototype[t]=function(n,r){return this.request(Ki(r||{},{method:t,url:n,data:(r||{}).data}))}});X.forEach(["post","put","patch"],function(t){function n(r){return function(o,l,c){return this.request(Ki(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Xi.prototype[t]=n(),Xi.prototype[t+"Form"]=n(!0)});let _M=class L1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(s);return l.cancel=function(){r.unsubscribe(o)},l},t(function(o,l,c){r.reason||(r.reason=new $o(o,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new L1(function(s){t=s}),cancel:t}}};function SM(e){return function(n){return e.apply(null,n)}}function CM(e){return X.isObject(e)&&e.isAxiosError===!0}const yh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yh).forEach(([e,t])=>{yh[t]=e});function N1(e){const t=new Xi(e),n=f1(Xi.prototype.request,t);return X.extend(n,Xi.prototype,t,{allOwnKeys:!0}),X.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return N1(Ki(e,s))},n}const Dt=N1(Za);Dt.Axios=Xi;Dt.CanceledError=$o;Dt.CancelToken=_M;Dt.isCancel=A1;Dt.VERSION=I1;Dt.toFormData=Xc;Dt.AxiosError=ue;Dt.Cancel=Dt.CanceledError;Dt.all=function(t){return Promise.all(t)};Dt.spread=SM;Dt.isAxiosError=CM;Dt.mergeConfig=Ki;Dt.AxiosHeaders=lr;Dt.formToJSON=e=>E1(X.isHTMLForm(e)?new FormData(e):e);Dt.getAdapter=O1.getAdapter;Dt.HttpStatusCode=yh;Dt.default=Dt;const{Axios:z5,AxiosError:q5,CanceledError:G5,isCancel:X5,CancelToken:Y5,VERSION:j5,all:K5,Cancel:Z5,isAxiosError:Q5,spread:J5,toFormData:t$,AxiosHeaders:e$,HttpStatusCode:n$,formToJSON:r$,getAdapter:s$,mergeConfig:i$}=Dt,D1=es("roomList",()=>{const e=kt([]),t=void 0,n=async()=>{try{const l=await Dt.get(`${t}/api/rooms`);e.value=l.data.rooms}catch(l){console.error("방 목록 조회 실패:",l),alert("방 목록을 불러오는데 실패했습니다.")}};return{rooms:e,fetchRooms:n,createRoom:async l=>{var c,u;try{if(!l.trim())throw new Error("방 이름은 필수입니다.");const h=await Dt.post(`${t}/api/rooms`,{roomName:l});return await n(),h.data}catch(h){console.error("방 생성 실패:",h),alert(((u=(c=h.response)==null?void 0:c.data)==null?void 0:u.message)||"방 생성에 실패했습니다.")}},deleteRoom:async l=>{var c,u;try{if(!l)throw new Error("방 ID가 필요합니다.");await Dt.delete(`${t}/api/rooms/${l}`),await n()}catch(h){console.error("방 삭제 실패:",h),alert(((u=(c=h.response)==null?void 0:c.data)==null?void 0:u.message)||"방 삭제에 실패했습니다.")}},updateRoomName:async(l,c)=>{var u,h;try{if(!l||!c.trim())throw new Error("방 ID와 새로운 이름이 필요합니다.");await Dt.put(`${t}/api/rooms/${l}`,{roomName:c}),await n()}catch(d){console.error("방 이름 수정 실패:",d),alert(((h=(u=d.response)==null?void 0:u.data)==null?void 0:h.message)||"방 이름 수정에 실패했습니다.")}}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const So=typeof document<"u";function $1(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function EM(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&$1(e.default)}const $e=Object.assign;function Nf(e,t){const n={};for(const r in t){const s=t[r];n[r]=ts(s)?s.map(e):e(s)}return n}const Ta=()=>{},ts=Array.isArray,U1=/#/g,AM=/&/g,TM=/\//g,kM=/=/g,MM=/\?/g,F1=/\+/g,RM=/%5B/g,PM=/%5D/g,V1=/%5E/g,OM=/%60/g,B1=/%7B/g,IM=/%7C/g,H1=/%7D/g,LM=/%20/g;function sd(e){return encodeURI(""+e).replace(IM,"|").replace(RM,"[").replace(PM,"]")}function NM(e){return sd(e).replace(B1,"{").replace(H1,"}").replace(V1,"^")}function vh(e){return sd(e).replace(F1,"%2B").replace(LM,"+").replace(U1,"%23").replace(AM,"%26").replace(OM,"`").replace(B1,"{").replace(H1,"}").replace(V1,"^")}function DM(e){return vh(e).replace(kM,"%3D")}function $M(e){return sd(e).replace(U1,"%23").replace(MM,"%3F")}function UM(e){return e==null?"":$M(e).replace(TM,"%2F")}function $a(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const FM=/\/$/,VM=e=>e.replace(FM,"");function Df(e,t,n="/"){let r,s={},o="",l="";const c=t.indexOf("#");let u=t.indexOf("?");return c<u&&c>=0&&(u=-1),u>-1&&(r=t.slice(0,u),o=t.slice(u+1,c>-1?c:t.length),s=e(o)),c>-1&&(r=r||t.slice(0,c),l=t.slice(c,t.length)),r=zM(r??t,n),{fullPath:r+(o&&"?")+o+l,path:r,query:s,hash:$a(l)}}function BM(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Zm(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function HM(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Io(t.matched[r],n.matched[s])&&W1(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Io(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function W1(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!WM(e[n],t[n]))return!1;return!0}function WM(e,t){return ts(e)?Qm(e,t):ts(t)?Qm(t,e):e===t}function Qm(e,t){return ts(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function zM(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let o=n.length-1,l,c;for(l=0;l<r.length;l++)if(c=r[l],c!==".")if(c==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(l).join("/")}const ei={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ua;(function(e){e.pop="pop",e.push="push"})(Ua||(Ua={}));var ka;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ka||(ka={}));function qM(e){if(!e)if(So){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),VM(e)}const GM=/^[^#]+#/;function XM(e,t){return e.replace(GM,"#")+t}function YM(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Kc=()=>({left:window.scrollX,top:window.scrollY});function jM(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=YM(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Jm(e,t){return(history.state?history.state.position-t:-1)+e}const bh=new Map;function KM(e,t){bh.set(e,t)}function ZM(e){const t=bh.get(e);return bh.delete(e),t}let QM=()=>location.protocol+"//"+location.host;function z1(e,t){const{pathname:n,search:r,hash:s}=t,o=e.indexOf("#");if(o>-1){let c=s.includes(e.slice(o))?e.slice(o).length:1,u=s.slice(c);return u[0]!=="/"&&(u="/"+u),Zm(u,"")}return Zm(n,e)+r+s}function JM(e,t,n,r){let s=[],o=[],l=null;const c=({state:m})=>{const y=z1(e,location),x=n.value,C=t.value;let S=0;if(m){if(n.value=y,t.value=m,l&&l===x){l=null;return}S=C?m.position-C.position:0}else r(y);s.forEach(M=>{M(n.value,x,{delta:S,type:Ua.pop,direction:S?S>0?ka.forward:ka.back:ka.unknown})})};function u(){l=n.value}function h(m){s.push(m);const y=()=>{const x=s.indexOf(m);x>-1&&s.splice(x,1)};return o.push(y),y}function d(){const{history:m}=window;m.state&&m.replaceState($e({},m.state,{scroll:Kc()}),"")}function p(){for(const m of o)m();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:u,listen:h,destroy:p}}function ty(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Kc():null}}function tR(e){const{history:t,location:n}=window,r={value:z1(e,n)},s={value:t.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(u,h,d){const p=e.indexOf("#"),m=p>-1?(n.host&&document.querySelector("base")?e:e.slice(p))+u:QM()+e+u;try{t[d?"replaceState":"pushState"](h,"",m),s.value=h}catch(y){console.error(y),n[d?"replace":"assign"](m)}}function l(u,h){const d=$e({},t.state,ty(s.value.back,u,s.value.forward,!0),h,{position:s.value.position});o(u,d,!0),r.value=u}function c(u,h){const d=$e({},s.value,t.state,{forward:u,scroll:Kc()});o(d.current,d,!0);const p=$e({},ty(r.value,u,null),{position:d.position+1},h);o(u,p,!1),r.value=u}return{location:r,state:s,push:c,replace:l}}function eR(e){e=qM(e);const t=tR(e),n=JM(e,t.state,t.location,t.replace);function r(o,l=!0){l||n.pauseListeners(),history.go(o)}const s=$e({location:"",base:e,go:r,createHref:XM.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function nR(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),eR(e)}function rR(e){return typeof e=="string"||e&&typeof e=="object"}function q1(e){return typeof e=="string"||typeof e=="symbol"}const G1=Symbol("");var ey;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(ey||(ey={}));function Lo(e,t){return $e(new Error,{type:e,[G1]:!0},t)}function Rs(e,t){return e instanceof Error&&G1 in e&&(t==null||!!(e.type&t))}const ny="[^/]+?",sR={sensitive:!1,strict:!1,start:!0,end:!0},iR=/[.+*?^${}()[\]/\\]/g;function oR(e,t){const n=$e({},sR,t),r=[];let s=n.start?"^":"";const o=[];for(const h of e){const d=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let p=0;p<h.length;p++){const m=h[p];let y=40+(n.sensitive?.25:0);if(m.type===0)p||(s+="/"),s+=m.value.replace(iR,"\\$&"),y+=40;else if(m.type===1){const{value:x,repeatable:C,optional:S,regexp:M}=m;o.push({name:x,repeatable:C,optional:S});const $=M||ny;if($!==ny){y+=10;try{new RegExp(`(${$})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${x}" (${$}): `+D.message)}}let I=C?`((?:${$})(?:/(?:${$}))*)`:`(${$})`;p||(I=S&&h.length<2?`(?:/${I})`:"/"+I),S&&(I+="?"),s+=I,y+=20,S&&(y+=-8),C&&(y+=-20),$===".*"&&(y+=-50)}d.push(y)}r.push(d)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const l=new RegExp(s,n.sensitive?"":"i");function c(h){const d=h.match(l),p={};if(!d)return null;for(let m=1;m<d.length;m++){const y=d[m]||"",x=o[m-1];p[x.name]=y&&x.repeatable?y.split("/"):y}return p}function u(h){let d="",p=!1;for(const m of e){(!p||!d.endsWith("/"))&&(d+="/"),p=!1;for(const y of m)if(y.type===0)d+=y.value;else if(y.type===1){const{value:x,repeatable:C,optional:S}=y,M=x in h?h[x]:"";if(ts(M)&&!C)throw new Error(`Provided param "${x}" is an array but it is not repeatable (* or + modifiers)`);const $=ts(M)?M.join("/"):M;if(!$)if(S)m.length<2&&(d.endsWith("/")?d=d.slice(0,-1):p=!0);else throw new Error(`Missing required param "${x}"`);d+=$}}return d||"/"}return{re:l,score:r,keys:o,parse:c,stringify:u}}function aR(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function X1(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const o=aR(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(ry(r))return 1;if(ry(s))return-1}return s.length-r.length}function ry(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const lR={type:0,value:""},cR=/[a-zA-Z0-9_]/;function uR(e){if(!e)return[[]];if(e==="/")return[[lR]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const s=[];let o;function l(){o&&s.push(o),o=[]}let c=0,u,h="",d="";function p(){h&&(n===0?o.push({type:0,value:h}):n===1||n===2||n===3?(o.length>1&&(u==="*"||u==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:h,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):t("Invalid state to consume buffer"),h="")}function m(){h+=u}for(;c<e.length;){if(u=e[c++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(h&&p(),l()):u===":"?(p(),n=1):m();break;case 4:m(),n=r;break;case 1:u==="("?n=2:cR.test(u)?m():(p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:n=3:d+=u;break;case 3:p(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&c--,d="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${h}"`),p(),l(),s}function fR(e,t,n){const r=oR(uR(e.path),n),s=$e(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function hR(e,t){const n=[],r=new Map;t=ay({strict:!1,end:!0,sensitive:!1},t);function s(p){return r.get(p)}function o(p,m,y){const x=!y,C=iy(p);C.aliasOf=y&&y.record;const S=ay(t,p),M=[C];if("alias"in p){const D=typeof p.alias=="string"?[p.alias]:p.alias;for(const q of D)M.push(iy($e({},C,{components:y?y.record.components:C.components,path:q,aliasOf:y?y.record:C})))}let $,I;for(const D of M){const{path:q}=D;if(m&&q[0]!=="/"){const Q=m.record.path,W=Q[Q.length-1]==="/"?"":"/";D.path=m.record.path+(q&&W+q)}if($=fR(D,m,S),y?y.alias.push($):(I=I||$,I!==$&&I.alias.push($),x&&p.name&&!oy($)&&l(p.name)),Y1($)&&u($),C.children){const Q=C.children;for(let W=0;W<Q.length;W++)o(Q[W],$,y&&y.children[W])}y=y||$}return I?()=>{l(I)}:Ta}function l(p){if(q1(p)){const m=r.get(p);m&&(r.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(l),m.alias.forEach(l))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&r.delete(p.record.name),p.children.forEach(l),p.alias.forEach(l))}}function c(){return n}function u(p){const m=gR(p,n);n.splice(m,0,p),p.record.name&&!oy(p)&&r.set(p.record.name,p)}function h(p,m){let y,x={},C,S;if("name"in p&&p.name){if(y=r.get(p.name),!y)throw Lo(1,{location:p});S=y.record.name,x=$e(sy(m.params,y.keys.filter(I=>!I.optional).concat(y.parent?y.parent.keys.filter(I=>I.optional):[]).map(I=>I.name)),p.params&&sy(p.params,y.keys.map(I=>I.name))),C=y.stringify(x)}else if(p.path!=null)C=p.path,y=n.find(I=>I.re.test(C)),y&&(x=y.parse(C),S=y.record.name);else{if(y=m.name?r.get(m.name):n.find(I=>I.re.test(m.path)),!y)throw Lo(1,{location:p,currentLocation:m});S=y.record.name,x=$e({},m.params,p.params),C=y.stringify(x)}const M=[];let $=y;for(;$;)M.unshift($.record),$=$.parent;return{name:S,path:C,params:x,matched:M,meta:pR(M)}}e.forEach(p=>o(p));function d(){n.length=0,r.clear()}return{addRoute:o,resolve:h,removeRoute:l,clearRoutes:d,getRoutes:c,getRecordMatcher:s}}function sy(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function iy(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:dR(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function dR(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function oy(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function pR(e){return e.reduce((t,n)=>$e(t,n.meta),{})}function ay(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function gR(e,t){let n=0,r=t.length;for(;n!==r;){const o=n+r>>1;X1(e,t[o])<0?r=o:n=o+1}const s=mR(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function mR(e){let t=e;for(;t=t.parent;)if(Y1(t)&&X1(e,t)===0)return t}function Y1({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function yR(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(F1," "),l=o.indexOf("="),c=$a(l<0?o:o.slice(0,l)),u=l<0?null:$a(o.slice(l+1));if(c in t){let h=t[c];ts(h)||(h=t[c]=[h]),h.push(u)}else t[c]=u}return t}function ly(e){let t="";for(let n in e){const r=e[n];if(n=DM(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ts(r)?r.map(o=>o&&vh(o)):[r&&vh(r)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+n,o!=null&&(t+="="+o))})}return t}function vR(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ts(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const bR=Symbol(""),cy=Symbol(""),Zc=Symbol(""),id=Symbol(""),xh=Symbol("");function la(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function oi(e,t,n,r,s,o=l=>l()){const l=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((c,u)=>{const h=m=>{m===!1?u(Lo(4,{from:n,to:t})):m instanceof Error?u(m):rR(m)?u(Lo(2,{from:t,to:m})):(l&&r.enterCallbacks[s]===l&&typeof m=="function"&&l.push(m),c())},d=o(()=>e.call(r&&r.instances[s],t,n,h));let p=Promise.resolve(d);e.length<3&&(p=p.then(h)),p.catch(m=>u(m))})}function $f(e,t,n,r,s=o=>o()){const o=[];for(const l of e)for(const c in l.components){let u=l.components[c];if(!(t!=="beforeRouteEnter"&&!l.instances[c]))if($1(u)){const d=(u.__vccOpts||u)[t];d&&o.push(oi(d,n,r,l,c,s))}else{let h=u();o.push(()=>h.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${c}" at "${l.path}"`);const p=EM(d)?d.default:d;l.mods[c]=d,l.components[c]=p;const y=(p.__vccOpts||p)[t];return y&&oi(y,n,r,l,c,s)()}))}}return o}function uy(e){const t=Fr(Zc),n=Fr(id),r=se(()=>{const u=F(e.to);return t.resolve(u)}),s=se(()=>{const{matched:u}=r.value,{length:h}=u,d=u[h-1],p=n.matched;if(!d||!p.length)return-1;const m=p.findIndex(Io.bind(null,d));if(m>-1)return m;const y=fy(u[h-2]);return h>1&&fy(d)===y&&p[p.length-1].path!==y?p.findIndex(Io.bind(null,u[h-2])):m}),o=se(()=>s.value>-1&&CR(n.params,r.value.params)),l=se(()=>s.value>-1&&s.value===n.matched.length-1&&W1(n.params,r.value.params));function c(u={}){if(SR(u)){const h=t[F(e.replace)?"replace":"push"](F(e.to)).catch(Ta);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:se(()=>r.value.href),isActive:o,isExactActive:l,navigate:c}}function xR(e){return e.length===1?e[0]:e}const wR=L0({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:uy,setup(e,{slots:t}){const n=tr(uy(e)),{options:r}=Fr(Zc),s=se(()=>({[hy(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[hy(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=t.default&&xR(t.default(n));return e.custom?o:td("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),_R=wR;function SR(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function CR(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ts(s)||s.length!==r.length||r.some((o,l)=>o!==s[l]))return!1}return!0}function fy(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const hy=(e,t,n)=>e??t??n,ER=L0({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Fr(xh),s=se(()=>e.route||r.value),o=Fr(cy,0),l=se(()=>{let h=F(o);const{matched:d}=s.value;let p;for(;(p=d[h])&&!p.components;)h++;return h}),c=se(()=>s.value.matched[l.value]);rc(cy,se(()=>l.value+1)),rc(bR,c),rc(xh,s);const u=kt();return gs(()=>[u.value,c.value,e.name],([h,d,p],[m,y,x])=>{d&&(d.instances[p]=h,y&&y!==d&&h&&h===m&&(d.leaveGuards.size||(d.leaveGuards=y.leaveGuards),d.updateGuards.size||(d.updateGuards=y.updateGuards))),h&&d&&(!y||!Io(d,y)||!m)&&(d.enterCallbacks[p]||[]).forEach(C=>C(h))},{flush:"post"}),()=>{const h=s.value,d=e.name,p=c.value,m=p&&p.components[d];if(!m)return dy(n.default,{Component:m,route:h});const y=p.props[d],x=y?y===!0?h.params:typeof y=="function"?y(h):y:null,S=td(m,$e({},x,t,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(p.instances[d]=null)},ref:u}));return dy(n.default,{Component:S,route:h})||S}}});function dy(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const AR=ER;function TR(e){const t=hR(e.routes,e),n=e.parseQuery||yR,r=e.stringifyQuery||ly,s=e.history,o=la(),l=la(),c=la(),u=VE(ei);let h=ei;So&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=Nf.bind(null,K=>""+K),p=Nf.bind(null,UM),m=Nf.bind(null,$a);function y(K,pt){let ht,Tt;return q1(K)?(ht=t.getRecordMatcher(K),Tt=pt):Tt=K,t.addRoute(Tt,ht)}function x(K){const pt=t.getRecordMatcher(K);pt&&t.removeRoute(pt)}function C(){return t.getRoutes().map(K=>K.record)}function S(K){return!!t.getRecordMatcher(K)}function M(K,pt){if(pt=$e({},pt||u.value),typeof K=="string"){const N=Df(n,K,pt.path),Y=t.resolve({path:N.path},pt),tt=s.createHref(N.fullPath);return $e(N,Y,{params:m(Y.params),hash:$a(N.hash),redirectedFrom:void 0,href:tt})}let ht;if(K.path!=null)ht=$e({},K,{path:Df(n,K.path,pt.path).path});else{const N=$e({},K.params);for(const Y in N)N[Y]==null&&delete N[Y];ht=$e({},K,{params:p(N)}),pt.params=p(pt.params)}const Tt=t.resolve(ht,pt),xt=K.hash||"";Tt.params=d(m(Tt.params));const A=BM(r,$e({},K,{hash:NM(xt),path:Tt.path})),R=s.createHref(A);return $e({fullPath:A,hash:xt,query:r===ly?vR(K.query):K.query||{}},Tt,{redirectedFrom:void 0,href:R})}function $(K){return typeof K=="string"?Df(n,K,u.value.path):$e({},K)}function I(K,pt){if(h!==K)return Lo(8,{from:pt,to:K})}function D(K){return W(K)}function q(K){return D($e($(K),{replace:!0}))}function Q(K){const pt=K.matched[K.matched.length-1];if(pt&&pt.redirect){const{redirect:ht}=pt;let Tt=typeof ht=="function"?ht(K):ht;return typeof Tt=="string"&&(Tt=Tt.includes("?")||Tt.includes("#")?Tt=$(Tt):{path:Tt},Tt.params={}),$e({query:K.query,hash:K.hash,params:Tt.path!=null?{}:K.params},Tt)}}function W(K,pt){const ht=h=M(K),Tt=u.value,xt=K.state,A=K.force,R=K.replace===!0,N=Q(ht);if(N)return W($e($(N),{state:typeof N=="object"?$e({},xt,N.state):xt,force:A,replace:R}),pt||ht);const Y=ht;Y.redirectedFrom=pt;let tt;return!A&&HM(r,Tt,ht)&&(tt=Lo(16,{to:Y,from:Tt}),zt(Tt,Tt,!0,!1)),(tt?Promise.resolve(tt):_t(Y,Tt)).catch(T=>Rs(T)?Rs(T,2)?T:jt(T):at(T,Y,Tt)).then(T=>{if(T){if(Rs(T,2))return W($e({replace:R},$(T.to),{state:typeof T.to=="object"?$e({},xt,T.to.state):xt,force:A}),pt||Y)}else T=ft(Y,Tt,!0,R,xt);return wt(Y,Tt,T),T})}function vt(K,pt){const ht=I(K,pt);return ht?Promise.reject(ht):Promise.resolve()}function ut(K){const pt=At.values().next().value;return pt&&typeof pt.runWithContext=="function"?pt.runWithContext(K):K()}function _t(K,pt){let ht;const[Tt,xt,A]=kR(K,pt);ht=$f(Tt.reverse(),"beforeRouteLeave",K,pt);for(const N of Tt)N.leaveGuards.forEach(Y=>{ht.push(oi(Y,K,pt))});const R=vt.bind(null,K,pt);return ht.push(R),me(ht).then(()=>{ht=[];for(const N of o.list())ht.push(oi(N,K,pt));return ht.push(R),me(ht)}).then(()=>{ht=$f(xt,"beforeRouteUpdate",K,pt);for(const N of xt)N.updateGuards.forEach(Y=>{ht.push(oi(Y,K,pt))});return ht.push(R),me(ht)}).then(()=>{ht=[];for(const N of A)if(N.beforeEnter)if(ts(N.beforeEnter))for(const Y of N.beforeEnter)ht.push(oi(Y,K,pt));else ht.push(oi(N.beforeEnter,K,pt));return ht.push(R),me(ht)}).then(()=>(K.matched.forEach(N=>N.enterCallbacks={}),ht=$f(A,"beforeRouteEnter",K,pt,ut),ht.push(R),me(ht))).then(()=>{ht=[];for(const N of l.list())ht.push(oi(N,K,pt));return ht.push(R),me(ht)}).catch(N=>Rs(N,8)?N:Promise.reject(N))}function wt(K,pt,ht){c.list().forEach(Tt=>ut(()=>Tt(K,pt,ht)))}function ft(K,pt,ht,Tt,xt){const A=I(K,pt);if(A)return A;const R=pt===ei,N=So?history.state:{};ht&&(Tt||R?s.replace(K.fullPath,$e({scroll:R&&N&&N.scroll},xt)):s.push(K.fullPath,xt)),u.value=K,zt(K,pt,ht,R),jt()}let Ot;function Lt(){Ot||(Ot=s.listen((K,pt,ht)=>{if(!$t.listening)return;const Tt=M(K),xt=Q(Tt);if(xt){W($e(xt,{replace:!0,force:!0}),Tt).catch(Ta);return}h=Tt;const A=u.value;So&&KM(Jm(A.fullPath,ht.delta),Kc()),_t(Tt,A).catch(R=>Rs(R,12)?R:Rs(R,2)?(W($e($(R.to),{force:!0}),Tt).then(N=>{Rs(N,20)&&!ht.delta&&ht.type===Ua.pop&&s.go(-1,!1)}).catch(Ta),Promise.reject()):(ht.delta&&s.go(-ht.delta,!1),at(R,Tt,A))).then(R=>{R=R||ft(Tt,A,!1),R&&(ht.delta&&!Rs(R,8)?s.go(-ht.delta,!1):ht.type===Ua.pop&&Rs(R,20)&&s.go(-1,!1)),wt(Tt,A,R)}).catch(Ta)}))}let St=la(),Ct=la(),ct;function at(K,pt,ht){jt(K);const Tt=Ct.list();return Tt.length?Tt.forEach(xt=>xt(K,pt,ht)):console.error(K),Promise.reject(K)}function Qt(){return ct&&u.value!==ei?Promise.resolve():new Promise((K,pt)=>{St.add([K,pt])})}function jt(K){return ct||(ct=!K,Lt(),St.list().forEach(([pt,ht])=>K?ht(K):pt()),St.reset()),K}function zt(K,pt,ht,Tt){const{scrollBehavior:xt}=e;if(!So||!xt)return Promise.resolve();const A=!ht&&ZM(Jm(K.fullPath,0))||(Tt||!ht)&&history.state&&history.state.scroll||null;return qi().then(()=>xt(K,pt,A)).then(R=>R&&jM(R)).catch(R=>at(R,K,pt))}const Kt=K=>s.go(K);let nt;const At=new Set,$t={currentRoute:u,listening:!0,addRoute:y,removeRoute:x,clearRoutes:t.clearRoutes,hasRoute:S,getRoutes:C,resolve:M,options:e,push:D,replace:q,go:Kt,back:()=>Kt(-1),forward:()=>Kt(1),beforeEach:o.add,beforeResolve:l.add,afterEach:c.add,onError:Ct.add,isReady:Qt,install(K){const pt=this;K.component("RouterLink",_R),K.component("RouterView",AR),K.config.globalProperties.$router=pt,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>F(u)}),So&&!nt&&u.value===ei&&(nt=!0,D(s.location).catch(xt=>{}));const ht={};for(const xt in ei)Object.defineProperty(ht,xt,{get:()=>u.value[xt],enumerable:!0});K.provide(Zc,pt),K.provide(id,b0(ht)),K.provide(xh,u);const Tt=K.unmount;At.add(K),K.unmount=function(){At.delete(K),At.size<1&&(h=ei,Ot&&Ot(),Ot=null,u.value=ei,nt=!1,ct=!1),Tt()}}};function me(K){return K.reduce((pt,ht)=>pt.then(()=>ut(ht)),Promise.resolve())}return $t}function kR(e,t){const n=[],r=[],s=[],o=Math.max(t.matched.length,e.matched.length);for(let l=0;l<o;l++){const c=t.matched[l];c&&(e.matched.find(h=>Io(h,c))?r.push(c):n.push(c));const u=e.matched[l];u&&(t.matched.find(h=>Io(h,u))||s.push(u))}return[n,r,s]}function rs(){return Fr(Zc)}function Br(e){return Fr(id)}const MR="/FloorEditor/assets/gagunokugaLogo-DmIIFiZu.png",Er=es("loginStore",()=>{const t=rs(),n=tr({email:"",password:"",token:"",nickname:"",profileImage:"",provider:"",error:"",showModal:!1}),r=p=>`https://api.dicebear.com/9.x/identicon/svg?seed=${encodeURIComponent(p)}`,s=async()=>{const p="undefined/api/users/login";try{Dt.interceptors.request.use(y=>y);const m=await Dt.post(p,{email:n.email,password:n.password});m.data&&m.data.accessToken?(n.token=m.data.accessToken,localStorage.setItem("accessToken",n.token),Dt.defaults.headers.common.Authorization=`Bearer ${n.token}`,d(),await t.push("/")):alert("로그인 실패: 서버에서 토큰이 반환되지 않았습니다.")}catch(m){return console.error("로그인 요청 오류:",m),m.response?(console.error("Error Response Data:",m.response.data),console.error("Error Response Status:",m.response.status),m.response.status===404?alert(m.response.data||"가입되지 않은 회원입니다."):alert("서버 오류가 발생했습니다.")):alert("서버 연결에 실패했습니다."),n.error="서버 오류가 발생했습니다.",{success:!1,message:n.error}}},o=()=>{window.location.href="undefined/api/oauth/login/kakao"},l=async p=>{if(p!=null&&p.accessToken&&(p!=null&&p.refreshToken))try{return n.token=p.accessToken,localStorage.setItem("accessToken",p.accessToken),localStorage.setItem("refreshToken",p.refreshToken),Dt.defaults.headers.common.Authorization=`Bearer ${p.accessToken}`,!0}catch(m){return console.error("Error storing tokens:",m),!1}else return console.error("Invalid token data received:",p),!1},c=async p=>{try{const m=await Dt.post("undefined/api/users/reset-password",{email:p});alert("비밀번호 재설정 이메일이 전송되었습니다.")}catch{alert("비밀번호 재설정 요청 중 오류가 발생했습니다.")}},u=async()=>{try{const p=await Dt.get("undefined/api/users",{headers:{Authorization:`Bearer ${n.token}`}});p.data&&(n.nickname=p.data.nickname,n.profileImage=p.data.profileImageUrl||r(p.data.nickname),n.provider=p.data.provider,n.email=p.data.email)}catch(p){throw console.error("사용자 정보 불러오기 실패:",p),p}},h=()=>{n.token="",n.nickname="",n.profileImage="",n.provider="",n.password="",localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),delete Dt.defaults.headers.common.Authorization},d=()=>{Dt.interceptors.response.handlers=[],Dt.interceptors.response.use(p=>p,async p=>{var m;return((m=p.response)==null?void 0:m.status)===401&&(h(),t.push("/login")),Promise.reject(p)}),Dt.interceptors.request.use(p=>{const m=localStorage.getItem("accessToken");if(m){try{const x=JSON.parse(atob(m.split(".")[1])).exp*1e3;if(Date.now()>=x)return h(),t.push("/login"),Promise.reject("Token expired")}catch(y){console.error("Error checking token:",y)}p.headers.Authorization=`Bearer ${m}`}return p},p=>Promise.reject(p))};return{login:s,state:n,kakaoLogin:o,handleLoginSuccess:l,passwordReset:c,fetchUserInfo:u,logout:h,setupAxiosInterceptors:d}},{persist:!0}),nn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},RR={class:"modal-content"},PR={class:"input-container"},OR={__name:"CreateRoomModal",setup(e,{emit:t}){const n=t,r=kt(""),s=kt(null),o=async()=>{if(r.value.trim()){const c=await n("create",r.value);return r.value="",c}},l=()=>{n("close")};return Hn(()=>{s.value&&s.value.focus()}),(c,u)=>(mt(),bt("div",{class:"modal-overlay",onClick:wr(l,["self"])},[b("div",RR,[b("button",{class:"close-button",onClick:l},"×"),u[1]||(u[1]=b("h2",{class:"modal-title"},"홈 만들기",-1)),u[2]||(u[2]=b("p",{class:"modal-description"},"나만의 방을 생성하세요",-1)),b("div",PR,[He(b("input",{ref_key:"roomInput",ref:s,"onUpdate:modelValue":u[0]||(u[0]=h=>r.value=h),placeholder:"방 이름을 입력하세요",class:"input-box",onKeyup:ja(o,["enter"])},null,544),[[Qe,r.value]])]),b("button",{class:"create-button",onClick:o},"만들기")])]))}},j1=nn(OR,[["__scopeId","data-v-c3de509e"]]),IR={class:"left-nav"},LR={class:"center-nav"},NR={key:0},DR={class:"right-nav"},$R={key:0,class:"profile"},UR=["src"],FR={class:"nickname"},VR={key:1},BR={__name:"TheHeader",setup(e){const t=Er(),n=D1(),r=rs(),s=kt(!1),o=se(()=>!!t.state.token),l=se(()=>t.state.nickname),c=se(()=>t.state.profileImage),u=se(()=>!!t.state.provider);$A(()=>{o.value&&t.fetchUserInfo()});const h=()=>{t.logout()},d=()=>{o.value?s.value=!0:r.push({name:"Login"})},p=async y=>{const x=await n.createRoom(y);x&&x.roomId&&(s.value=!1,r.push({name:"Editor",params:{roomId:x.roomId}}))},m=async()=>{o.value?r.push({name:"Room"}):r.push({name:"Login"})};return(y,x)=>{const C=to("router-link");return mt(),bt("header",null,[b("div",IR,[Ce(C,{to:"/",class:"logo-link"},{default:jr(()=>x[1]||(x[1]=[b("img",{class:"logo",src:YT,alt:"가구놓구가"},null,-1)])),_:1})]),b("nav",LR,[b("ul",null,[b("li",null,[Ce(C,{to:"/article"},{default:jr(()=>x[2]||(x[2]=[Dn("커뮤니티")])),_:1})]),b("li",null,[b("a",{onClick:d},"홈 만들기")]),b("li",null,[b("a",{onClick:m},"마이홈")]),o.value&&!u.value?(mt(),bt("li",NR,[Ce(C,{to:"/pwdcheck"},{default:jr(()=>x[3]||(x[3]=[Dn("마이페이지")])),_:1})])):re("",!0)])]),b("nav",DR,[b("ul",null,[o.value?(mt(),bt("li",$R,[b("img",{src:c.value,alt:"프로필 이미지",class:"profile-img"},null,8,UR),b("span",FR,"👋 안녕하세요, "+ae(l.value)+" 님!",1)])):re("",!0),o.value?re("",!0):(mt(),bt("li",VR,[Ce(C,{to:"/login"},{default:jr(()=>x[4]||(x[4]=[Dn("로그인")])),_:1})])),o.value?(mt(),bt("li",{key:2,onClick:h,class:"logout"},[Ce(C,{to:"/login"},{default:jr(()=>x[5]||(x[5]=[Dn("로그아웃")])),_:1})])):re("",!0)])]),s.value?(mt(),Fs(j1,{key:0,onClose:x[0]||(x[0]=S=>s.value=!1),onCreate:p})):re("",!0)])}}},K1=nn(BR,[["__scopeId","data-v-4bb932ab"]]),HR={__name:"App",setup(e){const t=Er(),n=Br(),r=rs(),s=kt(null),o=()=>{const l=localStorage.getItem("accessToken");if(l)try{const u=JSON.parse(atob(l.split(".")[1])).exp*1e3;Date.now()>=u&&(t.logout(),r.push("/login"))}catch(c){console.error("Error checking token:",c),t.logout(),r.push("/login")}};return Hn(()=>{const l=localStorage.getItem("accessToken");if(l)try{const u=JSON.parse(atob(l.split(".")[1])).exp*1e3;Date.now()>=u?(t.logout(),r.push("/login")):(t.state.token=l,Dt.defaults.headers.common.Authorization=`Bearer ${l}`,t.setupAxiosInterceptors(),s.value=setInterval(o,6e5),o(),t.fetchUserInfo().catch(h=>{var d;console.error("Failed to fetch user info:",h),((d=h.response)==null?void 0:d.status)===401&&(t.logout(),r.push("/login"))}))}catch(c){console.error("Error parsing token:",c),t.logout(),r.push("/login")}}),Xa(()=>{s.value&&clearInterval(s.value)}),(l,c)=>{const u=to("router-view");return mt(),bt("div",null,[F(n).meta.showHeader?(mt(),Fs(K1,{key:0})):re("",!0),Ce(u)])}}},WR="/FloorEditor/assets/kakaoLogin-ZOVDgdyI.png",zR={class:"login-container"},qR={class:"login-box"},GR={class:"form-group"},XR={class:"form-group"},YR={class:"button-container"},jR={class:"kakao-login"},KR={class:"links"},ZR={class:"modal"},QR={class:"form-group"},JR={__name:"Login",setup(e){const t=Er(),n=()=>{t.kakaoLogin()},r=()=>{t.passwordReset(t.state.email)},s=()=>{t.state.showModal=!t.state.showModal};return(o,l)=>{const c=to("router-link");return mt(),bt(Ge,null,[b("div",zR,[b("div",qR,[l[10]||(l[10]=b("h2",null,"로그인",-1)),b("form",{onSubmit:l[2]||(l[2]=wr((...u)=>F(t).login&&F(t).login(...u),["prevent"]))},[b("div",GR,[l[4]||(l[4]=b("label",{for:"email"},"이메일",-1)),He(b("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>F(t).state.email=u),type:"email",id:"email",required:"",placeholder:"이메일을 입력하세요"},null,512),[[Qe,F(t).state.email]])]),b("div",XR,[l[5]||(l[5]=b("label",{for:"password"},"비밀번호",-1)),He(b("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>F(t).state.password=u),type:"password",id:"password",required:"",placeholder:"비밀번호를 입력하세요"},null,512),[[Qe,F(t).state.password]])]),b("div",YR,[l[7]||(l[7]=b("button",{type:"submit"},"로그인",-1)),b("div",jR,[b("button",{onClick:wr(n,["prevent"])},l[6]||(l[6]=[b("img",{src:WR,alt:"카카오 로그인"},null,-1)]))])])],32),b("div",KR,[b("button",{onClick:s,class:"link"},"비밀번호 찾기"),l[9]||(l[9]=Dn(" / ")),Ce(c,{to:"/signup",class:"link"},{default:jr(()=>l[8]||(l[8]=[Dn("회원가입")])),_:1})])])]),F(t).state.showModal?(mt(),bt("div",{key:0,class:"modal-overlay",onClick:wr(s,["self"])},[b("div",ZR,[l[12]||(l[12]=b("h3",null,"비밀번호 재설정",-1)),b("div",QR,[l[11]||(l[11]=b("label",{for:"reset-email"},"이메일",-1)),He(b("input",{"onUpdate:modelValue":l[3]||(l[3]=u=>F(t).state.email=u),type:"email",id:"reset-email",required:"",placeholder:"이메일을 입력하세요"},null,512),[[Qe,F(t).state.email]])]),b("button",{onClick:r},"전송"),b("button",{onClick:s,class:"close-modal"},"닫기")])])):re("",!0)],64)}}},tP=nn(JR,[["__scopeId","data-v-e54f2f40"]]),eP=es("signupStore",()=>{const t=rs(),n=tr({nickname:"",email:"",password:"",confirmPassword:"",verificationCode:"",nicknameMessage:"",emailMessage:"",emailPattern:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,isCheckingNickname:!1,showVerificationInput:!1,isEmailVerified:!1,isNicknameValid:!1,isPasswordValid:!1,isConfirmPasswordValid:!1,isEmailValid:!1,isSubmitting:!1}),r=async()=>{if(!n.nickname){n.nicknameMessage="닉네임을 입력해주세요.",n.isNicknameValid=!1;return}try{(await Dt.get("undefined/api/users/nickname",{params:{nickname:n.nickname}})).data.existing?(n.nicknameMessage="이미 사용 중인 닉네임입니다.",n.isNicknameValid=!1):(n.nicknameMessage="사용 가능한 닉네임입니다.",n.isNicknameValid=!0)}catch{n.nicknameMessage="서버 오류, 다시 시도해주세요.",n.isNicknameValid=!1}},s=async()=>{if(!n.email){n.emailMessage="이메일을 입력해주세요.",n.isEmailValid=!1;return}if(!n.emailPattern.test(n.email)){n.emailMessage="올바른 이메일 형식을 입력해주세요.",n.isEmailValid=!1;return}try{(await Dt.get("undefined/api/users/email",{params:{email:n.email}})).data.existing?(n.emailMessage="이미 사용 중인 이메일입니다.",n.isEmailValid=!1):(n.emailMessage="사용 가능한 이메일입니다.",n.isEmailValid=!0)}catch(d){console.error("이메일 중복 확인 오류:",d),n.emailMessage="서버 오류, 다시 시도해주세요.",n.isEmailValid=!1}finally{n.isCheckingEmail=!1}},o=async()=>{if(!n.isEmailValid){n.emailMessage="이메일을 인증해주세요.";return}try{(await Dt.post("undefined/api/users/email",{email:n.email})).status===200&&(n.showVerificationInput=!0)}catch{n.emailMessage="인증 코드 발송에 실패했습니다. 다시 시도해주세요."}},l=async()=>{try{const d=await Dt.post("undefined/api/users/email/verify",{email:n.email,authcode:n.verificationCode});d.status===200&&d.data==="Email verified"?(n.isEmailVerified=!0,n.emailMessage="이메일 인증 성공!"):(n.emailMessage="인증 코드가 잘못되었습니다.",n.isEmailVerified=!1)}catch{n.emailMessage="인증 처리에 실패했습니다.",n.isEmailVerified=!1}},c=d=>`https://api.dicebear.com/9.x/identicon/svg?seed=${encodeURIComponent(d)}`,u=async()=>{if(!n.isEmailVerified){alert("이메일 인증이 필요합니다.");return}n.isSubmitting=!0;try{const d=c(n.nickname);(await Dt.post("undefined/api/users",{email:n.email,nickname:n.nickname,password:n.password,profileImageUrl:d})).status===201&&(alert("회원가입 성공"),t.push("/login"))}catch{alert("회원가입에 실패했습니다.")}finally{n.isSubmitting=!1}},h=se(()=>n.password===n.confirmPassword);return gs(()=>n.password,d=>{n.isPasswordValid=d.length>=8}),gs(()=>n.email,d=>{n.isEmailValid=emailPattern.test(d)}),{state:n,checkNickname:r,checkEmail:s,sendVerificationCode:o,verifyEmail:l,signup:u,checkPassword:h}}),nP={class:"signup-container"},rP={class:"signup-box"},sP={class:"form-group"},iP={class:"input-button-wrapper"},oP={key:0,class:"error-message"},aP=["disabled"],lP={class:"form-group"},cP={class:"input-button-wrapper"},uP=["disabled"],fP=["disabled"],hP={key:1},dP={class:"form-group"},pP={key:0,class:"invalid"},gP={class:"form-group"},mP={key:0,class:"invalid"},yP=["disabled"],vP={__name:"SignUp",setup(e){const t=eP();return gs(()=>t.state.nickname,n=>{n.length>16&&(t.state.nickname=n.slice(0,16))}),(n,r)=>(mt(),bt("div",nP,[b("div",rP,[r[15]||(r[15]=b("h1",null,"회원가입",-1)),b("form",{onSubmit:r[9]||(r[9]=wr((...s)=>F(t).signup&&F(t).signup(...s),["prevent"]))},[b("div",sP,[r[10]||(r[10]=b("label",{for:"nickname"},"닉네임",-1)),b("div",iP,[He(b("input",{type:"text",id:"nickname","onUpdate:modelValue":r[0]||(r[0]=s=>F(t).state.nickname=s),placeholder:"닉네임을 입력하세요",required:""},null,512),[[Qe,F(t).state.nickname]]),F(t).state.nickname.length>=16?(mt(),bt("p",oP," 닉네임은 최대 16자까지 입력 가능합니다. ")):re("",!0),b("button",{type:"button",onClick:r[1]||(r[1]=(...s)=>F(t).checkNickname&&F(t).checkNickname(...s)),disabled:F(t).state.isCheckingNickname}," 중복 확인 ",8,aP)]),F(t).state.nicknameMessage?(mt(),bt("span",{key:0,class:or(F(t).state.isNicknameValid?"valid":"invalid")},ae(F(t).state.nicknameMessage),3)):re("",!0)]),b("div",lP,[r[12]||(r[12]=b("label",{for:"email"},"이메일",-1)),b("div",cP,[He(b("input",{type:"email",id:"email","onUpdate:modelValue":r[2]||(r[2]=s=>F(t).state.email=s),placeholder:"이메일을 입력하세요",required:""},null,512),[[Qe,F(t).state.email]]),b("button",{type:"button",onClick:r[3]||(r[3]=(...s)=>F(t).checkEmail&&F(t).checkEmail(...s)),disabled:F(t).state.isCheckingEmail}," 중복 확인 ",8,uP)]),F(t).state.emailMessage?(mt(),bt("span",{key:0,class:or(F(t).state.isEmailValid?"valid":"invalid")},ae(F(t).state.emailMessage),3)):re("",!0),b("button",{type:"button",onClick:r[4]||(r[4]=(...s)=>F(t).sendVerificationCode&&F(t).sendVerificationCode(...s)),disabled:!F(t).state.isEmailValid}," 인증번호 발송 ",8,fP),F(t).state.showVerificationInput?(mt(),bt("div",hP,[r[11]||(r[11]=b("label",{for:"verificationCode"},"인증번호",-1)),He(b("input",{type:"text",id:"verificationCode","onUpdate:modelValue":r[5]||(r[5]=s=>F(t).state.verificationCode=s),placeholder:"인증번호를 입력하세요",required:""},null,512),[[Qe,F(t).state.verificationCode]]),b("button",{type:"button",onClick:r[6]||(r[6]=(...s)=>F(t).verifyEmail&&F(t).verifyEmail(...s))},"인증 확인")])):re("",!0)]),b("div",dP,[r[13]||(r[13]=b("label",{for:"password"},"비밀번호",-1)),He(b("input",{type:"password",id:"password","onUpdate:modelValue":r[7]||(r[7]=s=>F(t).state.password=s),placeholder:"비밀번호를 입력하세요",required:""},null,512),[[Qe,F(t).state.password]]),F(t).state.isPasswordValid?re("",!0):(mt(),bt("span",pP,"비밀번호는 최소 8자 이상이어야 합니다."))]),b("div",gP,[r[14]||(r[14]=b("label",{for:"confirmPassword"},"비밀번호 확인",-1)),He(b("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":r[8]||(r[8]=s=>F(t).state.confirmPassword=s),placeholder:"비밀번호를 다시 입력하세요",required:""},null,512),[[Qe,F(t).state.confirmPassword]]),F(t).checkPassword?re("",!0):(mt(),bt("span",mP,"비밀번호가 일치하지 않습니다."))]),b("button",{type:"submit",disabled:F(t).state.isSubmitting||!F(t).state.isEmailVerified||!F(t).state.isNicknameValid||!F(t).state.isPasswordValid||!F(t).checkPassword},"회원가입",8,yP)],32)])]))}},bP=nn(vP,[["__scopeId","data-v-4d525633"]]),xP="/FloorEditor/edit-icon.png",wP="/FloorEditor/assets/warning-DTauJ3-I.png",_P={methods:{closeModal(){this.$emit("close")},confirmDelete(){this.$emit("delete")}}},SP={class:"modal-overlay"},CP={class:"modal"},EP={class:"button-group"};function AP(e,t,n,r,s,o){return mt(),bt("div",SP,[b("div",CP,[t[2]||(t[2]=b("img",{src:wP,alt:"경고",class:"warning-icon"},null,-1)),t[3]||(t[3]=b("h2",null,"정말 삭제하시겠습니까?",-1)),t[4]||(t[4]=b("p",null,null,-1)),b("div",EP,[b("button",{class:"cancel-button",onClick:t[0]||(t[0]=(...l)=>o.closeModal&&o.closeModal(...l))},"취소"),b("button",{class:"delete-button",onClick:t[1]||(t[1]=(...l)=>o.confirmDelete&&o.confirmDelete(...l))},"삭제")])])])}const TP=nn(_P,[["render",AP],["__scopeId","data-v-23892e2a"]]),kP={class:"room-list-container"},MP={key:0},RP=["src"],PP={class:"room-info"},OP=["onKeyup"],IP=["onClick"],LP=["onClick"],NP=["onClick"],DP={key:1,class:"no-room-container"},$P={__name:"Room",setup(e){const t=D1(),n=rs(),r=kt(null),s=kt(""),o=kt(""),l=kt(!1),c=kt(!1),u=kt(null);Hn(()=>{t.fetchRooms()});const h=()=>{l.value=!0},d=S=>{u.value=S,c.value=!0},p=async()=>{u.value&&(await t.deleteRoom(u.value),c.value=!1)},m=async S=>{if(S!=null&&S.trim()){const M=await t.createRoom(S.trim());l.value=!1,n.push({name:"Editor",params:{roomId:M.roomId}})}},y=S=>{r.value=S.roomId,s.value=S.roomName,o.value=S.roomName},x=async S=>{s.value.trim()&&await t.updateRoomName(S,s.value.trim()),r.value=null},C=S=>{n.push({name:"Editor",params:{roomId:S}})};return(S,M)=>(mt(),bt("div",kP,[M[4]||(M[4]=b("h1",{class:"room-title"},"나만의 공간 관리하기",-1)),M[5]||(M[5]=b("p",{class:"room-subtitle"},"공간의 영감을 기록하고 관리해보세요.",-1)),F(t).rooms.length>0?(mt(),bt("div",MP,[b("ul",null,[(mt(!0),bt(Ge,null,Zr(F(t).rooms,$=>(mt(),bt("li",{key:$.roomId},[b("img",{src:$.thumbnailUrl||F(MR),alt:"방 썸네일"},null,8,RP),b("div",PP,[r.value===$.roomId?He((mt(),bt("input",{key:0,"onUpdate:modelValue":M[0]||(M[0]=I=>s.value=I),autofocus:"",onKeyup:ja(I=>x($.roomId),["enter"])},null,40,OP)),[[Qe,s.value]]):(mt(),bt(Ge,{key:1},[b("span",null,ae($.roomName),1),b("img",{class:"edit-icon",src:xP,onClick:I=>y($),alt:"편집"},null,8,IP)],64))]),b("div",null,[b("button",{onClick:I=>C($.roomId)},"에디터로 이동",8,LP),b("button",{onClick:I=>d($.roomId)},"삭제",8,NP)])]))),128))]),b("div",null,[b("button",{class:"create-room",onClick:h},"새 홈 만들기")])])):(mt(),bt("div",DP,[M[3]||(M[3]=b("p",{class:"no-room"},"현재 생성된 방이 없습니다. 방을 생성해 주세요.",-1)),b("button",{class:"first-room",onClick:h},"새 홈 만들기")])),l.value?(mt(),Fs(j1,{key:2,onClose:M[1]||(M[1]=$=>l.value=!1),onCreate:m})):re("",!0),c.value?(mt(),Fs(TP,{key:3,onClose:M[2]||(M[2]=$=>c.value=!1),onDelete:p})):re("",!0)]))}},UP=nn($P,[["__scopeId","data-v-6373c3f6"]]),wh={},Z1=[];function he(e,t){if(Array.isArray(e)){for(const n of e)he(n,t);return}if(typeof e=="object"){for(const n in e)he(n,e[n]);return}Q1(Object.getOwnPropertyNames(t)),wh[e]=Object.assign(wh[e]||{},t)}function cr(e){return wh[e]||{}}function FP(){return[...new Set(Z1)]}function Q1(e){Z1.push(...e)}function od(e,t){let n;const r=e.length,s=[];for(n=0;n<r;n++)s.push(t(e[n]));return s}function VP(e,t){let n;const r=e.length,s=[];for(n=0;n<r;n++)t(e[n])&&s.push(e[n]);return s}function Uf(e){return e%360*Math.PI/180}function BP(e){return e.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()})}function J1(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Uo(e,t,n,r){return(t==null||n==null)&&(r=r||e.bbox(),t==null?t=r.width/r.height*n:n==null&&(n=r.height/r.width*t)),{width:t,height:n}}function _h(e,t){const n=e.origin;let r=e.ox!=null?e.ox:e.originX!=null?e.originX:"center",s=e.oy!=null?e.oy:e.originY!=null?e.originY:"center";n!=null&&([r,s]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);const o=typeof r=="string",l=typeof s=="string";if(o||l){const{height:c,width:u,x:h,y:d}=t.bbox();o&&(r=r.includes("left")?h:r.includes("right")?h+u:h+u/2),l&&(s=s.includes("top")?d:s.includes("bottom")?d+c:d+c/2)}return[r,s]}const HP=new Set(["desc","metadata","title"]),Sh=e=>HP.has(e.nodeName),tv=(e,t,n={})=>{const r={...t};for(const s in r)r[s].valueOf()===n[s]&&delete r[s];Object.keys(r).length?e.node.setAttribute("data-svgjs",JSON.stringify(r)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))},ad="http://www.w3.org/2000/svg",WP="http://www.w3.org/1999/xhtml",Ff="http://www.w3.org/2000/xmlns/",Qa="http://www.w3.org/1999/xlink",Ee={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function zP(){return Ee.window}class ld{}const Yi={},cd="___SYMBOL___ROOT___";function Fa(e,t=ad){return Ee.document.createElementNS(t,e)}function Zn(e,t=!1){if(e instanceof ld)return e;if(typeof e=="object")return Vf(e);if(e==null)return new Yi[cd];if(typeof e=="string"&&e.charAt(0)!=="<")return Vf(Ee.document.querySelector(e));const n=t?Ee.document.createElement("div"):Fa("svg");return n.innerHTML=e,e=Vf(n.firstChild),n.removeChild(n.firstChild),e}function rn(e,t){return t&&(t instanceof Ee.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:Fa(e)}function $r(e){if(!e)return null;if(e.instance instanceof ld)return e.instance;if(e.nodeName==="#document-fragment")return new Yi.Fragment(e);let t=J1(e.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":Yi[t]||(t="Dom"),new Yi[t](e)}let Vf=$r;function Ae(e,t=e.name,n=!1){return Yi[t]=e,n&&(Yi[cd]=e),Q1(Object.getOwnPropertyNames(e.prototype)),e}function qP(e){return Yi[e]}let GP=1e3;function ev(e){return"Svgjs"+J1(e)+GP++}function nv(e){for(let t=e.children.length-1;t>=0;t--)nv(e.children[t]);return e.id&&(e.id=ev(e.nodeName)),e}function ge(e,t){let n,r;for(e=Array.isArray(e)?e:[e],r=e.length-1;r>=0;r--)for(n in t)e[r].prototype[n]=t[n]}function en(e){return function(...t){const n=t[t.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?e.apply(this,t.slice(0,-1)).attr(n):e.apply(this,t)}}function XP(){return this.parent().children()}function YP(){return this.parent().index(this)}function jP(){return this.siblings()[this.position()+1]}function KP(){return this.siblings()[this.position()-1]}function ZP(){const e=this.position();return this.parent().add(this.remove(),e+1),this}function QP(){const e=this.position();return this.parent().add(this.remove(),e?e-1:0),this}function JP(){return this.parent().add(this.remove()),this}function tO(){return this.parent().add(this.remove(),0),this}function eO(e){e=Zn(e),e.remove();const t=this.position();return this.parent().add(e,t),this}function nO(e){e=Zn(e),e.remove();const t=this.position();return this.parent().add(e,t+1),this}function rO(e){return e=Zn(e),e.before(this),this}function sO(e){return e=Zn(e),e.after(this),this}he("Dom",{siblings:XP,position:YP,next:jP,prev:KP,forward:ZP,backward:QP,front:JP,back:tO,before:eO,after:nO,insertBefore:rO,insertAfter:sO});const rv=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,iO=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,oO=/rgb\((\d+),(\d+),(\d+)\)/,aO=/(#[a-z_][a-z0-9\-_]*)/i,lO=/\)\s*,?\s*/,cO=/\s/g,py=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,gy=/^rgb\(/,my=/^(\s+)?$/,yy=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,uO=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Bs=/[\s,]+/,ud=/[MLHVCSQTAZ]/i;function fO(){const e=this.attr("class");return e==null?[]:e.trim().split(Bs)}function hO(e){return this.classes().indexOf(e)!==-1}function dO(e){if(!this.hasClass(e)){const t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this}function pO(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this}function gO(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}he("Dom",{classes:fO,hasClass:hO,addClass:dO,removeClass:pO,toggleClass:gO});function mO(e,t){const n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){const s=r.split(/\s*:\s*/);n[s[0]]=s[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(const r of e){const s=r;n[r]=this.node.style.getPropertyValue(s)}return n}if(typeof e=="string")return this.node.style.getPropertyValue(e);if(typeof e=="object")for(const r in e)this.node.style.setProperty(r,e[r]==null||my.test(e[r])?"":e[r])}return arguments.length===2&&this.node.style.setProperty(e,t==null||my.test(t)?"":t),this}function yO(){return this.css("display","")}function vO(){return this.css("display","none")}function bO(){return this.css("display")!=="none"}he("Dom",{css:mO,show:yO,hide:vO,visible:bO});function xO(e,t,n){if(e==null)return this.data(od(VP(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(e instanceof Array){const r={};for(const s of e)r[s]=this.data(s);return r}else if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}he("Dom",{data:xO});function wO(e,t){if(typeof arguments[0]=="object")for(const n in e)this.remember(n,e[n]);else{if(arguments.length===1)return this.memory()[e];this.memory()[e]=t}return this}function _O(){if(arguments.length===0)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this}function SO(){return this._memory=this._memory||{}}he("Dom",{remember:wO,forget:_O,memory:SO});function CO(e){return e.length===4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function EO(e){const t=Math.round(e),r=Math.max(0,Math.min(255,t)).toString(16);return r.length===1?"0"+r:r}function bo(e,t){for(let n=t.length;n--;)if(e[t[n]]==null)return!1;return!0}function AO(e,t){const n=bo(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:bo(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:bo(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:bo(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:bo(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:bo(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function TO(e){return e==="lab"||e==="xyz"||e==="lch"}function Bf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class Ve{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof Ve||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",n){const{random:r,round:s,sin:o,PI:l}=Math;if(t==="vibrant"){const c=24*r()+57,u=38*r()+45,h=360*r();return new Ve(c,u,h,"lch")}else if(t==="sine"){n=n??r();const c=s(80*o(2*l*n/.5+.01)+150),u=s(50*o(2*l*n/.5+4.6)+200),h=s(100*o(2*l*n/.5+2.3)+150);return new Ve(c,u,h)}else if(t==="pastel"){const c=8*r()+86,u=17*r()+9,h=360*r();return new Ve(c,u,h,"lch")}else if(t==="dark"){const c=10+10*r(),u=50*r()+86,h=360*r();return new Ve(c,u,h,"lch")}else if(t==="rgb"){const c=255*r(),u=255*r(),h=255*r();return new Ve(c,u,h)}else if(t==="lab"){const c=100*r(),u=256*r()-128,h=256*r()-128;return new Ve(c,u,h,"lab")}else if(t==="grey"){const c=255*r();return new Ve(c,c,c)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(py.test(t)||gy.test(t))}cmyk(){const{_a:t,_b:n,_c:r}=this.rgb(),[s,o,l]=[t,n,r].map(m=>m/255),c=Math.min(1-s,1-o,1-l);if(c===1)return new Ve(0,0,0,1,"cmyk");const u=(1-s-c)/(1-c),h=(1-o-c)/(1-c),d=(1-l-c)/(1-c);return new Ve(u,h,d,c,"cmyk")}hsl(){const{_a:t,_b:n,_c:r}=this.rgb(),[s,o,l]=[t,n,r].map(C=>C/255),c=Math.max(s,o,l),u=Math.min(s,o,l),h=(c+u)/2,d=c===u,p=c-u,m=d?0:h>.5?p/(2-c-u):p/(c+u),y=d?0:c===s?((o-l)/p+(o<l?6:0))/6:c===o?((l-s)/p+2)/6:c===l?((s-o)/p+4)/6:0;return new Ve(360*y,100*m,100*h,"hsl")}init(t=0,n=0,r=0,s=0,o="rgb"){if(t=t||0,this.space)for(const p in this.space)delete this[this.space[p]];if(typeof t=="number")o=typeof s=="string"?s:o,s=typeof s=="string"?0:s,Object.assign(this,{_a:t,_b:n,_c:r,_d:s,space:o});else if(t instanceof Array)this.space=n||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const p=AO(t,n);Object.assign(this,p)}else if(typeof t=="string")if(gy.test(t)){const p=t.replace(cO,""),[m,y,x]=oO.exec(p).slice(1,4).map(C=>parseInt(C));Object.assign(this,{_a:m,_b:y,_c:x,_d:0,space:"rgb"})}else if(py.test(t)){const p=C=>parseInt(C,16),[,m,y,x]=iO.exec(CO(t)).map(p);Object.assign(this,{_a:m,_b:y,_c:x,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:l,_b:c,_c:u,_d:h}=this,d=this.space==="rgb"?{r:l,g:c,b:u}:this.space==="xyz"?{x:l,y:c,z:u}:this.space==="hsl"?{h:l,s:c,l:u}:this.space==="lab"?{l,a:c,b:u}:this.space==="lch"?{l,c,h:u}:this.space==="cmyk"?{c:l,m:c,y:u,k:h}:{};Object.assign(this,d)}lab(){const{x:t,y:n,z:r}=this.xyz(),s=116*n-16,o=500*(t-n),l=200*(n-r);return new Ve(s,o,l,"lab")}lch(){const{l:t,a:n,b:r}=this.lab(),s=Math.sqrt(n**2+r**2);let o=180*Math.atan2(r,n)/Math.PI;return o<0&&(o*=-1,o=360-o),new Ve(t,s,o,"lch")}rgb(){if(this.space==="rgb")return this;if(TO(this.space)){let{x:t,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:y,a:x,b:C}=this;if(this.space==="lch"){const{c:Q,h:W}=this,vt=Math.PI/180;x=Q*Math.cos(vt*W),C=Q*Math.sin(vt*W)}const S=(y+16)/116,M=x/500+S,$=S-C/200,I=16/116,D=.008856,q=7.787;t=.95047*(M**3>D?M**3:(M-I)/q),n=1*(S**3>D?S**3:(S-I)/q),r=1.08883*($**3>D?$**3:($-I)/q)}const s=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,l=t*.0557+n*-.204+r*1.057,c=Math.pow,u=.0031308,h=s>u?1.055*c(s,1/2.4)-.055:12.92*s,d=o>u?1.055*c(o,1/2.4)-.055:12.92*o,p=l>u?1.055*c(l,1/2.4)-.055:12.92*l;return new Ve(255*h,255*d,255*p)}else if(this.space==="hsl"){let{h:t,s:n,l:r}=this;if(t/=360,n/=100,r/=100,n===0)return r*=255,new Ve(r,r,r);const s=r<.5?r*(1+n):r+n-r*n,o=2*r-s,l=255*Bf(o,s,t+1/3),c=255*Bf(o,s,t),u=255*Bf(o,s,t-1/3);return new Ve(l,c,u)}else if(this.space==="cmyk"){const{c:t,m:n,y:r,k:s}=this,o=255*(1-Math.min(1,t*(1-s)+s)),l=255*(1-Math.min(1,n*(1-s)+s)),c=255*(1-Math.min(1,r*(1-s)+s));return new Ve(o,l,c)}else return this}toArray(){const{_a:t,_b:n,_c:r,_d:s,space:o}=this;return[t,n,r,s,o]}toHex(){const[t,n,r]=this._clamped().map(EO);return`#${t}${n}${r}`}toRgb(){const[t,n,r]=this._clamped();return`rgb(${t},${n},${r})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:n,_c:r}=this.rgb(),[s,o,l]=[t,n,r].map(M=>M/255),c=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,u=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=l>.04045?Math.pow((l+.055)/1.055,2.4):l/12.92,d=(c*.4124+u*.3576+h*.1805)/.95047,p=(c*.2126+u*.7152+h*.0722)/1,m=(c*.0193+u*.1192+h*.9505)/1.08883,y=d>.008856?Math.pow(d,1/3):7.787*d+16/116,x=p>.008856?Math.pow(p,1/3):7.787*p+16/116,C=m>.008856?Math.pow(m,1/3):7.787*m+16/116;return new Ve(y,x,C,"xyz")}_clamped(){const{_a:t,_b:n,_c:r}=this.rgb(),{max:s,min:o,round:l}=Math,c=u=>s(0,o(l(u),255));return[t,n,r].map(c)}}let Mn=class sv{constructor(...t){this.init(...t)}clone(){return new sv(this)}init(t,n){const r={x:0,y:0},s=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:n};return this.x=s.x==null?r.x:s.x,this.y=s.y==null?r.y:s.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){we.isMatrixLike(t)||(t=new we(t));const{x:n,y:r}=this;return this.x=t.a*n+t.c*r+t.e,this.y=t.b*n+t.d*r+t.f,this}};function kO(e,t){return new Mn(e,t).transformO(this.screenCTM().inverseO())}function xo(e,t,n){return Math.abs(t-e)<1e-6}let we=class kn{constructor(...t){this.init(...t)}static formatTransforms(t){const n=t.flip==="both"||t.flip===!0,r=t.flip&&(n||t.flip==="x")?-1:1,s=t.flip&&(n||t.flip==="y")?-1:1,o=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,l=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,c=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,u=t.scale&&t.scale.length?t.scale[1]*s:isFinite(t.scale)?t.scale*s:isFinite(t.scaleY)?t.scaleY*s:s,h=t.shear||0,d=t.rotate||t.theta||0,p=new Mn(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),m=p.x,y=p.y,x=new Mn(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),C=x.x,S=x.y,M=new Mn(t.translate||t.tx||t.translateX,t.ty||t.translateY),$=M.x,I=M.y,D=new Mn(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),q=D.x,Q=D.y;return{scaleX:c,scaleY:u,skewX:o,skewY:l,shear:h,theta:d,rx:q,ry:Q,tx:$,ty:I,ox:m,oy:y,px:C,py:S}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,n,r){const s=t.a*n.a+t.c*n.b,o=t.b*n.a+t.d*n.b,l=t.a*n.c+t.c*n.d,c=t.b*n.c+t.d*n.d,u=t.e+t.a*n.e+t.c*n.f,h=t.f+t.b*n.e+t.d*n.f;return r.a=s,r.b=o,r.c=l,r.d=c,r.e=u,r.f=h,r}around(t,n,r){return this.clone().aroundO(t,n,r)}aroundO(t,n,r){const s=t||0,o=n||0;return this.translateO(-s,-o).lmultiplyO(r).translateO(s,o)}clone(){return new kn(this)}decompose(t=0,n=0){const r=this.a,s=this.b,o=this.c,l=this.d,c=this.e,u=this.f,h=r*l-s*o,d=h>0?1:-1,p=d*Math.sqrt(r*r+s*s),m=Math.atan2(d*s,d*r),y=180/Math.PI*m,x=Math.cos(m),C=Math.sin(m),S=(r*o+s*l)/h,M=o*p/(S*r-s)||l*p/(S*s+r),$=c-t+t*x*p+n*(S*x*p-C*M),I=u-n+t*C*p+n*(S*C*p+x*M);return{scaleX:p,scaleY:M,shear:S,rotate:y,translateX:$,translateY:I,originX:t,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const n=new kn(t);return xo(this.a,n.a)&&xo(this.b,n.b)&&xo(this.c,n.c)&&xo(this.d,n.d)&&xo(this.e,n.e)&&xo(this.f,n.f)}flip(t,n){return this.clone().flipO(t,n)}flipO(t,n){return t==="x"?this.scaleO(-1,1,n,0):t==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,t,n||t)}init(t){const n=kn.fromArray([1,0,0,1,0,0]);return t=t instanceof ss?t.matrixify():typeof t=="string"?kn.fromArray(t.split(Bs).map(parseFloat)):Array.isArray(t)?kn.fromArray(t):typeof t=="object"&&kn.isMatrixLike(t)?t:typeof t=="object"?new kn().transform(t):arguments.length===6?kn.fromArray([].slice.call(arguments)):n,this.a=t.a!=null?t.a:n.a,this.b=t.b!=null?t.b:n.b,this.c=t.c!=null?t.c:n.c,this.d=t.d!=null?t.d:n.d,this.e=t.e!=null?t.e:n.e,this.f=t.f!=null?t.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,n=this.b,r=this.c,s=this.d,o=this.e,l=this.f,c=t*s-n*r;if(!c)throw new Error("Cannot invert "+this);const u=s/c,h=-n/c,d=-r/c,p=t/c,m=-(u*o+d*l),y=-(h*o+p*l);return this.a=u,this.b=h,this.c=d,this.d=p,this.e=m,this.f=y,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const n=this,r=t instanceof kn?t:new kn(t);return kn.matrixMultiply(r,n,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const n=this,r=t instanceof kn?t:new kn(t);return kn.matrixMultiply(n,r,this)}rotate(t,n,r){return this.clone().rotateO(t,n,r)}rotateO(t,n=0,r=0){t=Uf(t);const s=Math.cos(t),o=Math.sin(t),{a:l,b:c,c:u,d:h,e:d,f:p}=this;return this.a=l*s-c*o,this.b=c*s+l*o,this.c=u*s-h*o,this.d=h*s+u*o,this.e=d*s-p*o+r*o-n*s+n,this.f=p*s+d*o-n*o-r*s+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,n=t,r=0,s=0){arguments.length===3&&(s=r,r=n,n=t);const{a:o,b:l,c,d:u,e:h,f:d}=this;return this.a=o*t,this.b=l*n,this.c=c*t,this.d=u*n,this.e=h*t-r*t+r,this.f=d*n-s*n+s,this}shear(t,n,r){return this.clone().shearO(t,n,r)}shearO(t,n=0,r=0){const{a:s,b:o,c:l,d:c,e:u,f:h}=this;return this.a=s+o*t,this.c=l+c*t,this.e=u+h*t-r*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,n=t,r=0,s=0){arguments.length===3&&(s=r,r=n,n=t),t=Uf(t),n=Uf(n);const o=Math.tan(t),l=Math.tan(n),{a:c,b:u,c:h,d,e:p,f:m}=this;return this.a=c+u*o,this.b=u+c*l,this.c=h+d*o,this.d=d+h*l,this.e=p+m*o-s*o,this.f=m+p*l-r*l,this}skewX(t,n,r){return this.skew(t,0,n,r)}skewY(t,n,r){return this.skew(0,t,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(kn.isMatrixLike(t))return new kn(t).multiplyO(this);const n=kn.formatTransforms(t),r=this,{x:s,y:o}=new Mn(n.ox,n.oy).transform(r),l=new kn().translateO(n.rx,n.ry).lmultiplyO(r).translateO(-s,-o).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(s,o);if(isFinite(n.px)||isFinite(n.py)){const c=new Mn(s,o).transform(l),u=isFinite(n.px)?n.px-c.x:0,h=isFinite(n.py)?n.py-c.y:0;l.translateO(u,h)}return l.translateO(n.tx,n.ty),l}translate(t,n){return this.clone().translateO(t,n)}translateO(t,n){return this.e+=t||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function MO(){return new we(this.node.getCTM())}function RO(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new we(t)}return new we(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new we}}Ae(we,"Matrix");function li(){if(!li.nodes){const e=Zn().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");const t=e.path().node;li.nodes={svg:e,path:t}}if(!li.nodes.svg.node.parentNode){const e=Ee.document.body||Ee.document.documentElement;li.nodes.svg.addTo(e)}return li.nodes}function iv(e){return!e.width&&!e.height&&!e.x&&!e.y}function PO(e){return e===Ee.document||(Ee.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===Ee.document}).call(Ee.document.documentElement,e)}class Sn{constructor(...t){this.init(...t)}addOffset(){return this.x+=Ee.window.pageXOffset,this.y+=Ee.window.pageYOffset,new Sn(this)}init(t){const n=[0,0,0,0];return t=typeof t=="string"?t.split(Bs).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):n,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return iv(this)}merge(t){const n=Math.min(this.x,t.x),r=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x+t.width)-n,o=Math.max(this.y+this.height,t.y+t.height)-r;return new Sn(n,r,s,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof we||(t=new we(t));let n=1/0,r=-1/0,s=1/0,o=-1/0;return[new Mn(this.x,this.y),new Mn(this.x2,this.y),new Mn(this.x,this.y2),new Mn(this.x2,this.y2)].forEach(function(c){c=c.transform(t),n=Math.min(n,c.x),r=Math.max(r,c.x),s=Math.min(s,c.y),o=Math.max(o,c.y)}),new Sn(n,s,r-n,o-s)}}function ov(e,t,n){let r;try{if(r=t(e.node),iv(r)&&!PO(e.node))throw new Error("Element not in the dom")}catch{r=n(e)}return r}function OO(){const n=ov(this,s=>s.getBBox(),s=>{try{const o=s.clone().addTo(li().svg).show(),l=o.node.getBBox();return o.remove(),l}catch(o){throw new Error(`Getting bbox of element "${s.node.nodeName}" is not possible: ${o.toString()}`)}});return new Sn(n)}function IO(e){const r=ov(this,o=>o.getBoundingClientRect(),o=>{throw new Error(`Getting rbox of element "${o.node.nodeName}" is not possible`)}),s=new Sn(r);return e?s.transform(e.screenCTM().inverseO()):s.addOffset()}function LO(e,t){const n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}he({viewbox:{viewbox(e,t,n,r){return e==null?new Sn(this.attr("viewBox")):this.attr("viewBox",new Sn(e,t,n,r))},zoom(e,t){let{width:n,height:r}=this.attr(["width","height"]);if((!n&&!r||typeof n=="string"||typeof r=="string")&&(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const s=this.viewbox(),o=n/s.width,l=r/s.height,c=Math.min(o,l);if(e==null)return c;let u=c/e;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),t=t||new Mn(n/2/o+s.x,r/2/l+s.y);const h=new Sn(s).transform(new we({scale:u,origin:t}));return this.viewbox(h)}}});Ae(Sn,"Box");class Zi extends Array{constructor(t=[],...n){if(super(t,...n),typeof t=="number")return this;this.length=0,this.push(...t)}}ge([Zi],{each(e,...t){return typeof e=="function"?this.map((n,r,s)=>e.call(n,n,r,s)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const NO=["toArray","constructor","each"];Zi.extend=function(e){e=e.reduce((t,n)=>(NO.includes(n)||n[0]==="_"||(n in Array.prototype&&(t["$"+n]=Array.prototype[n]),t[n]=function(...r){return this.each(n,...r)}),t),{}),ge([Zi],e)};function Fo(e,t){return new Zi(od((t||Ee.document).querySelectorAll(e),function(n){return $r(n)}))}function DO(e){return Fo(e,this.node)}function $O(e){return $r(this.node.querySelector(e))}let UO=0;const av={};function lv(e){let t=e.getEventHolder();return t===Ee.window&&(t=av),t.events||(t.events={}),t.events}function fd(e){return e.getEventTarget()}function FO(e){let t=e.getEventHolder();t===Ee.window&&(t=av),t.events&&(t.events={})}function Us(e,t,n,r,s){const o=n.bind(r||e),l=Zn(e),c=lv(l),u=fd(l);t=Array.isArray(t)?t:t.split(Bs),n._svgjsListenerId||(n._svgjsListenerId=++UO),t.forEach(function(h){const d=h.split(".")[0],p=h.split(".")[1]||"*";c[d]=c[d]||{},c[d][p]=c[d][p]||{},c[d][p][n._svgjsListenerId]=o,u.addEventListener(d,o,s||!1)})}function ar(e,t,n,r){const s=Zn(e),o=lv(s),l=fd(s);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(t=Array.isArray(t)?t:(t||"").split(Bs),t.forEach(function(c){const u=c&&c.split(".")[0],h=c&&c.split(".")[1];let d,p;if(n)o[u]&&o[u][h||"*"]&&(l.removeEventListener(u,o[u][h||"*"][n],r||!1),delete o[u][h||"*"][n]);else if(u&&h){if(o[u]&&o[u][h]){for(p in o[u][h])ar(l,[u,h].join("."),p);delete o[u][h]}}else if(h)for(c in o)for(d in o[c])h===d&&ar(l,[c,h].join("."));else if(u){if(o[u]){for(d in o[u])ar(l,[u,d].join("."));delete o[u]}}else{for(c in o)ar(l,c);FO(s)}}))}function VO(e,t,n,r){const s=fd(e);return t instanceof Ee.window.Event||(t=new Ee.window.CustomEvent(t,{detail:n,cancelable:!0,...r})),s.dispatchEvent(t),t}class Ja extends ld{addEventListener(){}dispatch(t,n,r){return VO(this,t,n,r)}dispatchEvent(t){const n=this.getEventHolder().events;if(!n)return!0;const r=n[t.type];for(const s in r)for(const o in r[s])r[s][o](t);return!t.defaultPrevented}fire(t,n,r){return this.dispatch(t,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,n,r){return ar(this,t,n,r),this}on(t,n,r,s){return Us(this,t,n,r,s),this}removeEventListener(){}}Ae(Ja,"EventTarget");function vy(){}const ga={duration:400,ease:">",delay:0},BO={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class No extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(Bs).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class ee{constructor(...t){this.init(...t)}convert(t){return new ee(this.value,t)}divide(t){return t=new ee(t),new ee(this/t,this.unit||t.unit)}init(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(n=t.match(rv),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):t instanceof ee&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new ee(t),new ee(this-t,this.unit||t.unit)}plus(t){return t=new ee(t),new ee(this+t,this.unit||t.unit)}times(t){return t=new ee(t),new ee(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const HO=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),cv=[];function WO(e){cv.push(e)}function zO(e,t,n){if(e==null){e={},t=this.node.attributes;for(const r of t)e[r.nodeName]=yy.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return e}else{if(e instanceof Array)return e.reduce((r,s)=>(r[s]=this.attr(s),r),{});if(typeof e=="object"&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?BO[e]:yy.test(t)?parseFloat(t):t;t=cv.reduce((r,s)=>s(e,r,this),t),typeof t=="number"?t=new ee(t):HO.has(e)&&Ve.isColor(t)?t=new Ve(t):t.constructor===Array&&(t=new No(t)),e==="leading"?this.leading&&this.leading(t):typeof n=="string"?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e==="font-size"||e==="x")&&this.rebuild()}}return this}class pi extends Ja{constructor(t,n){super(),this.node=t,this.type=t.nodeName,n&&t!==n&&this.attr(n)}add(t,n){return t=Zn(t),t.removeNamespace&&this.node instanceof Ee.window.SVGElement&&t.removeNamespace(),n==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[n]&&this.node.insertBefore(t.node,this.node.childNodes[n]),this}addTo(t,n){return Zn(t).put(this,n)}children(){return new Zi(od(this.node.children,function(t){return $r(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(t);return n&&(r=nv(r)),new this.constructor(r)}each(t,n){const r=this.children();let s,o;for(s=0,o=r.length;s<o;s++)t.apply(r[s],[s,r]),n&&r[s].each(t,n);return this}element(t,n){return this.put(new pi(Fa(t),n))}first(){return $r(this.node.firstChild)}get(t){return $r(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,n){return this.xml(t,n,WP)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=ev(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return $r(this.node.lastChild)}matches(t){const n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,t)}parent(t){let n=this;if(!n.node.parentNode)return null;if(n=$r(n.node.parentNode),!t)return n;do if(typeof t=="string"?n.matches(t):n instanceof t)return n;while(n=$r(n.node.parentNode));return n}put(t,n){return t=Zn(t),this.add(t,n),t}putIn(t,n){return Zn(t).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Zn(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,n=null){const r=10**t,s=this.attr(n);for(const o in s)typeof s[o]=="number"&&(s[o]=Math.round(s[o]*r)/r);return this.attr(s),this}svg(t,n){return this.xml(t,n,ad)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const n=this.parent();if(!n)return this.addTo(t);const r=n.index(this);return n.put(t,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){n=n??!0,this.writeDataToDom();let c=this;if(t!=null){if(c=$r(c.node.cloneNode(!0)),n){const u=t(c);if(c=u||c,u===!1)return""}c.each(function(){const u=t(this),h=u||this;u===!1?this.remove():u&&this!==h&&this.replace(h)},!0)}return n?c.node.outerHTML:c.node.innerHTML}n=n??!1;const s=Fa("wrapper",r),o=Ee.document.createDocumentFragment();s.innerHTML=t;for(let c=s.children.length;c--;)o.appendChild(s.firstElementChild);const l=this.parent();return n?this.replace(o)&&l:this.add(o)}}ge(pi,{attr:zO,find:DO,findOne:$O});Ae(pi,"Dom");let ss=class extends pi{constructor(t,n){super(t,n),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,n){return this.cx(t).cy(n)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,n){return this.dx(t).dy(n)}dx(t=0){return this.x(new ee(t).plus(this.x()))}dy(t=0){return this.y(new ee(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,n){return this.x(t).y(n)}parents(t=this.root()){const n=typeof t=="string";n||(t=Zn(t));const r=new Zi;let s=this;for(;(s=s.parent())&&s.node!==Ee.document&&s.nodeName!=="#document-fragment"&&(r.push(s),!(!n&&s.node===t.node||n&&s.matches(t)));)if(s.node===this.root().node)return null;return r}reference(t){if(t=this.attr(t),!t)return null;const n=(t+"").match(aO);return n?Zn(n[1]):null}root(){const t=this.parent(qP(cd));return t&&t.root()}setData(t){return this.dom=t,this}size(t,n){const r=Uo(this,t,n);return this.width(new ee(r.width)).height(new ee(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return tv(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};ge(ss,{bbox:OO,rbox:IO,inside:LO,point:kO,ctm:MO,screenCTM:RO});Ae(ss,"Element");const ca={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t==="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){const t={};let n;t[e]=function(r){if(typeof r>"u")return this.attr(e);if(typeof r=="string"||r instanceof Ve||Ve.isRgb(r)||r instanceof ss)this.attr(e,r);else for(n=ca[e].length-1;n>=0;n--)r[ca[e][n]]!=null&&this.attr(ca.prefix(e,ca[e][n]),r[ca[e][n]]);return this},he(["Element","Runner"],t)});he(["Element","Runner"],{matrix:function(e,t,n,r,s,o){return e==null?new we(this):this.attr("transform",new we(e,t,n,r,s,o))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:r},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return"xybothtrue".indexOf(e)===-1&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}});he("radius",{radius:function(e,t=e){return(this._element||this).type==="radialGradient"?this.attr("r",new ee(e)):this.rx(e).ry(t)}});he("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new Mn(this.node.getPointAtLength(e))}});he(["Element","Runner"],{font:function(e,t){if(typeof e=="object"){for(t in e)this.font(t,e[t]);return this}return e==="leading"?this.leading(t):e==="anchor"?this.attr("text-anchor",t):e==="size"||e==="family"||e==="weight"||e==="stretch"||e==="variant"||e==="style"?this.attr("font-"+e,t):this.attr(e,t)}});const qO=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){const n=function(r){return r===null?this.off(t):this.on(t,r),this};return e[t]=n,e},{});he("Element",qO);function GO(){return this.attr("transform",null)}function XO(){return(this.attr("transform")||"").split(lO).slice(0,-1).map(function(t){const n=t.trim().split("(");return[n[0],n[1].split(Bs).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(t,n){return n[0]==="matrix"?t.lmultiply(we.fromArray(n[1])):t[n[0]].apply(t,n[1])},new we)}function YO(e,t){if(this===e)return this;if(Sh(this.node))return this.addTo(e,t);const n=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(r.multiply(n)),this}function jO(e){return this.toParent(this.root(),e)}function KO(e,t){if(e==null||typeof e=="string"){const s=new we(this).decompose();return e==null?s:s[e]}we.isMatrixLike(e)||(e={...e,origin:_h(e,this)});const n=t===!0?this:t||!1,r=new we(n).transform(e);return this.attr("transform",r)}he("Element",{untransform:GO,matrixify:XO,toParent:YO,toRoot:jO,transform:KO});class ur extends ss{flatten(){return this.each(function(){if(this instanceof ur)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),n=t.index(this)){return n=n===-1?t.children().length:n,this.each(function(r,s){return s[s.length-r-1].toParent(t,n)}),this.remove()}}Ae(ur,"Container");class hd extends ur{constructor(t,n=t){super(rn("defs",t),n)}flatten(){return this}ungroup(){return this}}Ae(hd,"Defs");class Ar extends ss{}Ae(Ar,"Shape");function dd(e){return this.attr("rx",e)}function pd(e){return this.attr("ry",e)}function uv(e){return e==null?this.cx()-this.rx():this.cx(e+this.rx())}function fv(e){return e==null?this.cy()-this.ry():this.cy(e+this.ry())}function hv(e){return this.attr("cx",e)}function dv(e){return this.attr("cy",e)}function pv(e){return e==null?this.rx()*2:this.rx(new ee(e).divide(2))}function gv(e){return e==null?this.ry()*2:this.ry(new ee(e).divide(2))}const ZO=Object.freeze(Object.defineProperty({__proto__:null,cx:hv,cy:dv,height:gv,rx:dd,ry:pd,width:pv,x:uv,y:fv},Symbol.toStringTag,{value:"Module"}));class Qc extends Ar{constructor(t,n=t){super(rn("ellipse",t),n)}size(t,n){const r=Uo(this,t,n);return this.rx(new ee(r.width).divide(2)).ry(new ee(r.height).divide(2))}}ge(Qc,ZO);he("Container",{ellipse:en(function(e=0,t=e){return this.put(new Qc).size(e,t).move(0,0)})});Ae(Qc,"Ellipse");class mv extends pi{constructor(t=Ee.document.createDocumentFragment()){super(t)}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){const s=new pi(Fa("wrapper",r));return s.add(this.node.cloneNode(!0)),s.xml(!1,r)}return super.xml(t,!1,r)}}Ae(mv,"Fragment");function yv(e,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new ee(e),fy:new ee(t)}):this.attr({x1:new ee(e),y1:new ee(t)})}function vv(e,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new ee(e),cy:new ee(t)}):this.attr({x2:new ee(e),y2:new ee(t)})}const QO=Object.freeze(Object.defineProperty({__proto__:null,from:yv,to:vv},Symbol.toStringTag,{value:"Module"}));class tl extends ur{constructor(t,n){super(rn(t+"Gradient",typeof t=="string"?null:t),n)}attr(t,n,r){return t==="transform"&&(t="gradientTransform"),super.attr(t,n,r)}bbox(){return new Sn}targets(){return Fo("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}ge(tl,QO);he({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:en(function(e,t){return this.put(new tl(e)).update(t)})}});Ae(tl,"Gradient");class Va extends ur{constructor(t,n=t){super(rn("pattern",t),n)}attr(t,n,r){return t==="transform"&&(t="patternTransform"),super.attr(t,n,r)}bbox(){return new Sn}targets(){return Fo("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}he({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:en(function(e,t,n){return this.put(new Va).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}});Ae(Va,"Pattern");let Jc=class extends Ar{constructor(t,n=t){super(rn("image",t),n)}load(t,n){if(!t)return this;const r=new Ee.window.Image;return Us(r,"load",function(s){const o=this.parent(Va);this.width()===0&&this.height()===0&&this.size(r.width,r.height),o instanceof Va&&o.width()===0&&o.height()===0&&o.size(this.width(),this.height()),typeof n=="function"&&n.call(this,s)},this),Us(r,"load error",function(){ar(r)}),this.attr("href",r.src=t,Qa)}};WO(function(e,t,n){return(e==="fill"||e==="stroke")&&uO.test(t)&&(t=n.root().defs().image(t)),t instanceof Jc&&(t=n.root().defs().pattern(0,0,r=>{r.add(t)})),t});he({Container:{image:en(function(e,t){return this.put(new Jc).size(0,0).load(e,t)})}});Ae(Jc,"Image");class gi extends No{bbox(){let t=-1/0,n=-1/0,r=1/0,s=1/0;return this.forEach(function(o){t=Math.max(o[0],t),n=Math.max(o[1],n),r=Math.min(o[0],r),s=Math.min(o[1],s)}),new Sn(r,s,t-r,n-s)}move(t,n){const r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let s=this.length-1;s>=0;s--)this[s]=[this[s][0]+t,this[s][1]+n];return this}parse(t=[0,0]){const n=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(Bs).map(parseFloat),t.length%2!==0&&t.pop();for(let r=0,s=t.length;r<s;r=r+2)n.push([t[r],t[r+1]]);return n}size(t,n){let r;const s=this.bbox();for(r=this.length-1;r>=0;r--)s.width&&(this[r][0]=(this[r][0]-s.x)*t/s.width+s.x),s.height&&(this[r][1]=(this[r][1]-s.y)*n/s.height+s.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let n=0,r=this.length;n<r;n++)t.push(this[n].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){we.isMatrixLike(t)||(t=new we(t));for(let n=this.length;n--;){const[r,s]=this[n];this[n][0]=t.a*r+t.c*s+t.e,this[n][1]=t.b*r+t.d*s+t.f}return this}}const JO=gi;function tI(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}function eI(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}function nI(e){const t=this.bbox();return e==null?t.width:this.size(e,t.height)}function rI(e){const t=this.bbox();return e==null?t.height:this.size(t.width,e)}const gd=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:JO,height:rI,width:nI,x:tI,y:eI},Symbol.toStringTag,{value:"Module"}));class Ba extends Ar{constructor(t,n=t){super(rn("line",t),n)}array(){return new gi([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,n){return this.attr(this.array().move(t,n).toLine())}plot(t,n,r,s){return t==null?this.array():(typeof n<"u"?t={x1:t,y1:n,x2:r,y2:s}:t=new gi(t).toLine(),this.attr(t))}size(t,n){const r=Uo(this,t,n);return this.attr(this.array().size(r.width,r.height).toLine())}}ge(Ba,gd);he({Container:{line:en(function(...e){return Ba.prototype.plot.apply(this.put(new Ba),e[0]!=null?e:[0,0,0,0])})}});Ae(Ba,"Line");class Ec extends ur{constructor(t,n=t){super(rn("marker",t),n)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,n){return this.attr("refX",t).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}he({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:en(function(e,t,n){return this.put(new Ec).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,r){let s=["marker"];return e!=="all"&&s.push(e),s=s.join("-"),e=arguments[1]instanceof Ec?arguments[1]:this.defs().marker(t,n,r),this.attr(s,e)}}});Ae(Ec,"Marker");function Eo(e,t){return function(n){return n==null?this[e]:(this[e]=n,t&&t.call(this),this)}}const sI={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,r){return function(s){return s<0?e>0?t/e*s:n>0?r/n*s:0:s>1?n<1?(1-r)/(1-n)*s+(r-n)/(1-n):e<1?(1-t)/(1-e)*s+(t-e)/(1-e):1:3*s*(1-s)**2*t+3*s**2*(1-s)*r+s**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return t==="none"?--n:t==="both"&&++n,(r,s=!1)=>{let o=Math.floor(r*e);const l=r*o%1===0;return(t==="start"||t==="both")&&++o,s&&l&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}};class md{done(){return!1}}class Ch extends md{constructor(t=ga.ease){super(),this.ease=sI[t]||t}step(t,n,r){return typeof t!="number"?r<1?t:n:t+(n-t)*this.ease(r)}}class Ac extends md{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,n,r,s){return this.stepper(t,n,r,s)}}function by(){const e=(this._duration||500)/1e3,t=this._overshoot||0,n=1e-10,r=Math.PI,s=Math.log(t/100+n),o=-s/Math.sqrt(r*r+s*s),l=3.9/(o*e);this.d=2*o*l,this.k=l*l}class iI extends Ac{constructor(t=500,n=0){super(),this.duration(t).overshoot(n)}step(t,n,r,s){if(typeof t=="string")return t;if(s.done=r===1/0,r===1/0)return n;if(r===0)return t;r>100&&(r=16),r/=1e3;const o=s.velocity||0,l=-this.d*o-this.k*(t-n),c=t+o*r+l*r*r/2;return s.velocity=o+l*r,s.done=Math.abs(n-c)+Math.abs(o)<.002,s.done?n:c}}ge(iI,{duration:Eo("_duration",by),overshoot:Eo("_overshoot",by)});class oI extends Ac{constructor(t=.1,n=.01,r=0,s=1e3){super(),this.p(t).i(n).d(r).windup(s)}step(t,n,r,s){if(typeof t=="string")return t;if(s.done=r===1/0,r===1/0)return n;if(r===0)return t;const o=n-t;let l=(s.integral||0)+o*r;const c=(o-(s.error||0))/r,u=this._windup;return u!==!1&&(l=Math.max(-u,Math.min(l,u))),s.error=o,s.integral=l,s.done=Math.abs(o)<.001,s.done?n:t+(this.P*o+this.I*l+this.D*c)}}ge(oI,{windup:Eo("_windup"),p:Eo("P"),i:Eo("I"),d:Eo("D")});const aI={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Eh={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},Hf="mlhvqtcsaz".split("");for(let e=0,t=Hf.length;e<t;++e)Eh[Hf[e]]=function(n){return function(r,s,o){if(n==="H")r[0]=r[0]+s.x;else if(n==="V")r[0]=r[0]+s.y;else if(n==="A")r[5]=r[5]+s.x,r[6]=r[6]+s.y;else for(let l=0,c=r.length;l<c;++l)r[l]=r[l]+(l%2?s.y:s.x);return Eh[n](r,s,o)}}(Hf[e].toUpperCase());function lI(e){const t=e.segment[0];return Eh[t](e.segment.slice(1),e.p,e.p0)}function Ah(e){return e.segment.length&&e.segment.length-1===aI[e.segment[0].toUpperCase()]}function cI(e,t){e.inNumber&&Ui(e,!1);const n=ud.test(t);if(n)e.segment=[t];else{const r=e.lastCommand,s=r.toLowerCase(),o=r===s;e.segment=[s==="m"?o?"l":"L":r]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function Ui(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,Ah(e)&&Th(e)}function Th(e){e.inSegment=!1,e.absolute&&(e.segment=lI(e)),e.segments.push(e.segment)}function uI(e){if(!e.segment.length)return!1;const t=e.segment[0].toUpperCase()==="A",n=e.segment.length;return t&&(n===4||n===5)}function fI(e){return e.lastToken.toUpperCase()==="E"}const hI=new Set([" ",",","	",`
`,"\r","\f"]);function dI(e,t=!0){let n=0,r="";const s={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new Mn,p:new Mn};for(;s.lastToken=r,r=e.charAt(n++);)if(!(!s.inSegment&&cI(s,r))){if(r==="."){if(s.pointSeen||s.hasExponent){Ui(s,!1),--n;continue}s.inNumber=!0,s.pointSeen=!0,s.number+=r;continue}if(!isNaN(parseInt(r))){if(s.number==="0"||uI(s)){s.inNumber=!0,s.number=r,Ui(s,!0);continue}s.inNumber=!0,s.number+=r;continue}if(hI.has(r)){s.inNumber&&Ui(s,!1);continue}if(r==="-"||r==="+"){if(s.inNumber&&!fI(s)){Ui(s,!1),--n;continue}s.number+=r,s.inNumber=!0;continue}if(r.toUpperCase()==="E"){s.number+=r,s.hasExponent=!0;continue}if(ud.test(r)){if(s.inNumber)Ui(s,!1);else if(Ah(s))Th(s);else throw new Error("parser Error");--n}}return s.inNumber&&Ui(s,!1),s.inSegment&&Ah(s)&&Th(s),s.segments}function pI(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}class Qi extends No{bbox(){return li().path.setAttribute("d",this.toString()),new Sn(li.nodes.path.getBBox())}move(t,n){const r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let s,o=this.length-1;o>=0;o--)s=this[o][0],s==="M"||s==="L"||s==="T"?(this[o][1]+=t,this[o][2]+=n):s==="H"?this[o][1]+=t:s==="V"?this[o][1]+=n:s==="C"||s==="S"||s==="Q"?(this[o][1]+=t,this[o][2]+=n,this[o][3]+=t,this[o][4]+=n,s==="C"&&(this[o][5]+=t,this[o][6]+=n)):s==="A"&&(this[o][6]+=t,this[o][7]+=n);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),dI(t)}size(t,n){const r=this.bbox();let s,o;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,s=this.length-1;s>=0;s--)o=this[s][0],o==="M"||o==="L"||o==="T"?(this[s][1]=(this[s][1]-r.x)*t/r.width+r.x,this[s][2]=(this[s][2]-r.y)*n/r.height+r.y):o==="H"?this[s][1]=(this[s][1]-r.x)*t/r.width+r.x:o==="V"?this[s][1]=(this[s][1]-r.y)*n/r.height+r.y:o==="C"||o==="S"||o==="Q"?(this[s][1]=(this[s][1]-r.x)*t/r.width+r.x,this[s][2]=(this[s][2]-r.y)*n/r.height+r.y,this[s][3]=(this[s][3]-r.x)*t/r.width+r.x,this[s][4]=(this[s][4]-r.y)*n/r.height+r.y,o==="C"&&(this[s][5]=(this[s][5]-r.x)*t/r.width+r.x,this[s][6]=(this[s][6]-r.y)*n/r.height+r.y)):o==="A"&&(this[s][1]=this[s][1]*t/r.width,this[s][2]=this[s][2]*n/r.height,this[s][6]=(this[s][6]-r.x)*t/r.width+r.x,this[s][7]=(this[s][7]-r.y)*n/r.height+r.y);return this}toString(){return pI(this)}}const bv=e=>{const t=typeof e;return t==="number"?ee:t==="string"?Ve.isColor(e)?Ve:Bs.test(e)?ud.test(e)?Qi:No:rv.test(e)?ee:kh:yd.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?No:t==="object"?Ha:kh};class Fi{constructor(t){this._stepper=t||new Ch("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,r){return n&&r},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(bv(t));let n=new this._type(t);return this._type===Ve&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===Ha&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}}class kh{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class el{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,el.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}el.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const gI=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0;class Ha{constructor(...t){this.init(...t)}align(t){const n=this.values;for(let r=0,s=n.length;r<s;++r){if(n[r+1]===t[r+1]){if(n[r+1]===Ve&&t[r+7]!==n[r+7]){const c=t[r+7],u=new Ve(this.values.splice(r+3,5))[c]().toArray();this.values.splice(r+3,0,...u)}r+=n[r+2]+2;continue}if(!t[r+1])return this;const o=new t[r+1]().toArray(),l=n[r+2]+3;n.splice(r,l,t[r],t[r+1],t[r+2],...o),r+=n[r+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const n=[];for(const r in t){const s=bv(t[r]),o=new s(t[r]).toArray();n.push([r,s,o.length,...o])}return n.sort(gI),this.values=n.reduce((r,s)=>r.concat(s),[]),this}toArray(){return this.values}valueOf(){const t={},n=this.values;for(;n.length;){const r=n.shift(),s=n.shift(),o=n.shift(),l=n.splice(0,o);t[r]=new s(l)}return t}}const yd=[kh,el,Ha];function mI(e=[]){yd.push(...[].concat(e))}function yI(){ge(yd,{to(e){return new Fi().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,r,s){const o=function(l,c){return r.step(l,t[c],n,s[c],s)};return this.fromArray(e.map(o))}})}class Vo extends Ar{constructor(t,n=t){super(rn("path",t),n)}array(){return this._array||(this._array=new Qi(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,n){return this.attr("d",this.array().move(t,n))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new Qi(t))}size(t,n){const r=Uo(this,t,n);return this.attr("d",this.array().size(r.width,r.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}Vo.prototype.MorphArray=Qi;he({Container:{path:en(function(e){return this.put(new Vo).plot(e||new Qi)})}});Ae(Vo,"Path");function vI(){return this._array||(this._array=new gi(this.attr("points")))}function bI(){return delete this._array,this}function xI(e,t){return this.attr("points",this.array().move(e,t))}function wI(e){return e==null?this.array():this.clear().attr("points",typeof e=="string"?e:this._array=new gi(e))}function _I(e,t){const n=Uo(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}const xv=Object.freeze(Object.defineProperty({__proto__:null,array:vI,clear:bI,move:xI,plot:wI,size:_I},Symbol.toStringTag,{value:"Module"}));class nl extends Ar{constructor(t,n=t){super(rn("polygon",t),n)}}he({Container:{polygon:en(function(e){return this.put(new nl).plot(e||new gi)})}});ge(nl,gd);ge(nl,xv);Ae(nl,"Polygon");class rl extends Ar{constructor(t,n=t){super(rn("polyline",t),n)}}he({Container:{polyline:en(function(e){return this.put(new rl).plot(e||new gi)})}});ge(rl,gd);ge(rl,xv);Ae(rl,"Polyline");class tu extends Ar{constructor(t,n=t){super(rn("rect",t),n)}}ge(tu,{rx:dd,ry:pd});he({Container:{rect:en(function(e,t){return this.put(new tu).size(e,t)})}});Ae(tu,"Rect");class Wf{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const n=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const De={nextDraw:null,frames:new Wf,timeouts:new Wf,immediates:new Wf,timer:()=>Ee.window.performance||Ee.window.Date,transforms:[],frame(e){const t=De.frames.push({run:e});return De.nextDraw===null&&(De.nextDraw=Ee.window.requestAnimationFrame(De._draw)),t},timeout(e,t){t=t||0;const n=De.timer().now()+t,r=De.timeouts.push({run:e,time:n});return De.nextDraw===null&&(De.nextDraw=Ee.window.requestAnimationFrame(De._draw)),r},immediate(e){const t=De.immediates.push(e);return De.nextDraw===null&&(De.nextDraw=Ee.window.requestAnimationFrame(De._draw)),t},cancelFrame(e){e!=null&&De.frames.remove(e)},clearTimeout(e){e!=null&&De.timeouts.remove(e)},cancelImmediate(e){e!=null&&De.immediates.remove(e)},_draw(e){let t=null;const n=De.timeouts.last();for(;(t=De.timeouts.shift())&&(e>=t.time?t.run():De.timeouts.push(t),t!==n););let r=null;const s=De.frames.last();for(;r!==s&&(r=De.frames.shift());)r.run(e);let o=null;for(;o=De.immediates.shift();)o();De.nextDraw=De.timeouts.first()||De.frames.first()?Ee.window.requestAnimationFrame(De._draw):null}},SI=function(e){const t=e.start,n=e.runner.duration(),r=t+n;return{start:t,duration:n,end:r,runner:e.runner}},CI=function(){const e=Ee.window;return(e.performance||e.Date).now()};class wv extends Ja{constructor(t=CI){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),n=t?t.runner.duration():0;return(t?t.start:this._time)+n}getEndTimeOfTimeline(){const t=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const n=this.speed();if(t==null)return this.speed(-n);const r=Math.abs(n);return this.speed(t?-r:r)}schedule(t,n,r){if(t==null)return this._runners.map(SI);let s=0;const o=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")s=o;else if(r==="absolute"||r==="start")s=n,n=0;else if(r==="now")s=this._time;else if(r==="relative"){const u=this.getRunnerInfoById(t.id);u&&(s=u.start+n,n=0)}else if(r==="with-last"){const u=this.getLastRunnerInfo();s=u?u.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const l=t.persist(),c={persist:l===null?this._persist:l,start:s+n,runner:t};return this._lastRunnerId=t.id,this._runners.push(c),this._runners.sort((u,h)=>u.start-h.start),this._runnerIds=this._runners.map(u=>u.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const n=this._runnerIds.indexOf(t.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return De.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=De.frame(this._step),this)}_stepFn(t=!1){const n=this._timeSource();let r=n-this._lastSourceTime;t&&(r=0);const s=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,t||(this._time+=s,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let l=this._runners.length;l--;){const c=this._runners[l],u=c.runner;this._time-c.start<=0&&u.reset()}let o=!1;for(let l=0,c=this._runners.length;l<c;l++){const u=this._runners[l],h=u.runner;let d=s;const p=this._time-u.start;if(p<=0){o=!0;continue}else p<d&&(d=p);if(!h.active())continue;h.step(d).done?u.persist!==!0&&h.duration()-h.time()+this._time+u.persist<this._time&&(h.unschedule(),--l,--c):o=!0}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}he({Element:{timeline:function(e){return e==null?(this._timeline=this._timeline||new wv,this._timeline):(this._timeline=e,this)}}});class Sr extends Ja{constructor(t){super(),this.id=Sr.id++,t=t??ga.duration,t=typeof t=="function"?new Ac(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof Ac,this._stepper=this._isDeclarative?t:new Ch,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new we,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,n,r){let s=1,o=!1,l=0;return t=t??ga.duration,n=n??ga.delay,r=r||"last",typeof t=="object"&&!(t instanceof md)&&(n=t.delay??n,r=t.when??r,o=t.swing||o,s=t.times??s,l=t.wait??l,t=t.duration??ga.duration),{duration:t,delay:n,swing:o,times:s,wait:l,when:r}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,n,r){const s=Sr.sanitise(t,n,r),o=new Sr(s.duration);return this._timeline&&o.timeline(this._timeline),this._element&&o.element(this._element),o.loop(s).schedule(s.delay,s.when)}clearTransform(){return this.transforms=new we,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new Ch(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,n,r){return typeof t=="object"&&(n=t.swing,r=t.wait,t=t.times),this._times=t||1/0,this._swing=n||!1,this._wait=r||0,this._times===!0&&(this._times=1/0),this}loops(t){const n=this._duration+this._wait;if(t==null){const l=Math.floor(this._time/n),u=(this._time-l*n)/this._duration;return Math.min(l+u,this._times)}const r=Math.floor(t),s=t%1,o=n*r+this._duration*s;return this.time(o)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const n=this._time,r=this._duration,s=this._wait,o=this._times,l=this._swing,c=this._reverse;let u;if(t==null){const m=function(x){const C=l*Math.floor(x%(2*(s+r))/(s+r)),S=C&&!c||!C&&c,M=Math.pow(-1,S)*(x%(s+r))/r+S;return Math.max(Math.min(M,1),0)},y=o*(s+r)-s;return u=n<=0?Math.round(m(1e-5)):n<y?m(n):Math.round(m(y-1e-5)),u}const h=Math.floor(this.loops()),d=l&&h%2===0;return u=h+(d&&!c||c&&d?t:1-t),this.loops(u)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,n,r,s){return this._queue.push({initialiser:t||vy,runner:n||vy,retarget:r,isTransform:s,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,n,r){if(t instanceof wv||(r=n,n=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,n,r),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const n=this.position(),r=this._lastPosition!==n&&this._time>=0;this._lastPosition=n;const s=this.duration(),o=this._lastTime<=0&&this._time>0,l=this._lastTime<s&&this._time>=s;this._lastTime=this._time,o&&this.fire("start",this);const c=this._isDeclarative;this.done=!c&&!l&&this._time>=s,this._reseted=!1;let u=!1;return(r||c)&&(this._initialise(r),this.transforms=new we,u=this._run(c?t:n),this.fire("step",this)),this.done=this.done||u&&c,l&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const n=t-this._time;return this.step(n),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let n=0,r=this._queue.length;n<r;++n){const s=this._queue[n],o=this._isDeclarative||!s.initialised&&t;t=!s.finished,o&&t&&(s.initialiser.call(this),s.initialised=!0)}}_rememberMorpher(t,n){if(this._history[t]={morpher:n,caller:this._queue[this._queue.length-1]},this._isDeclarative){const r=this.timeline();r&&r.play()}}_run(t){let n=!0;for(let r=0,s=this._queue.length;r<s;++r){const o=this._queue[r],l=o.runner.call(this,t);o.finished=o.finished||l===!0,n=n&&o.finished}return n}_tryRetarget(t,n,r){if(this._history[t]){if(!this._history[t].caller.initialised){const o=this._queue.indexOf(this._history[t].caller);return this._queue.splice(o,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,n,r):this._history[t].morpher.to(n),this._history[t].caller.finished=!1;const s=this.timeline();return s&&s.play(),!0}return!1}}Sr.id=0;class Tc{constructor(t=new we,n=-1,r=!0){this.transforms=t,this.id=n,this.done=r}clearTransformsFromQueue(){}}ge([Sr,Tc],{mergeWith(e){return new Tc(e.transforms.lmultiply(this.transforms),e.id)}});const _v=(e,t)=>e.lmultiplyO(t),Sv=e=>e.transforms;function EI(){const t=this._transformationRunners.runners.map(Sv).reduce(_v,new we);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class AI{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const n=t.id+1;return this.runners.push(t),this.ids.push(n),this}clearBefore(t){const n=this.ids.indexOf(t+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new Tc).forEach(r=>r.clearTransformsFromQueue()),this}edit(t,n){const r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,n),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let n=0;n<this.runners.length;++n){const r=this.runners[n];if(t&&r.done&&t.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(r.id);const o=r.mergeWith(t);this.edit(t.id,o),t=o,--n}else t=r}return this}remove(t){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}}he({Element:{animate(e,t,n){const r=Sr.sanitise(e,t,n),s=this.timeline();return new Sr(r.duration).loop(r).element(this).timeline(s.play()).schedule(r.delay,r.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(Sv).reduce(_v,new we)},_addRunner(e){this._transformationRunners.add(e),De.cancelImmediate(this._frameId),this._frameId=De.immediate(EI.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new AI().add(new Tc(new we(this))))}}});const TI=(e,t)=>e.filter(n=>!t.includes(n));ge(Sr,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if(typeof t=="string")return this.styleAttr(e,{[t]:n});let r=t;if(this._tryRetarget(e,r))return this;let s=new Fi(this._stepper).to(r),o=Object.keys(r);return this.queue(function(){s=s.from(this.element()[e](o))},function(l){return this.element()[e](s.at(l).valueOf()),s.done()},function(l){const c=Object.keys(l),u=TI(c,o);if(u.length){const d=this.element()[e](u),p=new Ha(s.from()).valueOf();Object.assign(p,d),s.from(p)}const h=new Ha(s.to()).valueOf();Object.assign(h,l),s.to(h),o=c,r=l}),this._rememberMorpher(e,s),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new Fi(this._stepper).to(new ee(e));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),t),n.done()},function(r,s){t=s,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;const r=we.isMatrixLike(e);n=e.affine!=null?e.affine:n??!r;const s=new Fi(this._stepper).type(n?el:we);let o,l,c,u,h;function d(){l=l||this.element(),o=o||_h(e,l),h=new we(t?void 0:l),l._addRunner(this),t||l._clearTransformRunnersBefore(this)}function p(y){t||this.clearTransform();const{x,y:C}=new Mn(o).transform(l._currentTransform(this));let S=new we({...e,origin:[x,C]}),M=this._isDeclarative&&c?c:h;if(n){S=S.decompose(x,C),M=M.decompose(x,C);const I=S.rotate,D=M.rotate,q=[I-360,I,I+360],Q=q.map(ut=>Math.abs(ut-D)),W=Math.min(...Q),vt=Q.indexOf(W);S.rotate=q[vt]}t&&(r||(S.rotate=e.rotate||0),this._isDeclarative&&u&&(M.rotate=u)),s.from(M),s.to(S);const $=s.at(y);return u=$.rotate,c=new we($),this.addTransform(c),l._addRunner(this),s.done()}function m(y){(y.origin||"center").toString()!==(e.origin||"center").toString()&&(o=_h(y,l)),e={...y,origin:o}}return this.queue(d,p,m,!0),this._isDeclarative&&this._rememberMorpher("transform",s),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new ee(t),this._tryRetarget(e,t))return this;const n=new Fi(this._stepper).to(t);let r=null;return this.queue(function(){r=this.element()[e](),n.from(r),n.to(r+t)},function(s){return this.element()[e](n.at(s)),n.done()},function(s){n.to(r+new ee(s))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;const n=new Fi(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(r){return this.element()[e](n.at(r)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new ee(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return(!e||!t)&&(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,r){if(arguments.length===4)return this.plot([e,t,n,r]);if(this._tryRetarget("plot",e))return this;const s=new Fi(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){s.from(this._element.array())},function(o){return this._element.plot(s.at(o)),s.done()}),this._rememberMorpher("plot",s),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,r){return this._queueObject("viewbox",new Sn(e,t,n,r))},update(e){return typeof e!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",e.offset),this)}});ge(Sr,{rx:dd,ry:pd,from:yv,to:vv});Ae(Sr,"Runner");class eu extends ur{constructor(t,n=t){super(rn("svg",t),n),this.namespace()}defs(){return this.isRoot()?$r(this.node.querySelector("defs"))||this.put(new hd):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Ee.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:ad,version:"1.1"}).attr("xmlns:xlink",Qa,Ff):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,Ff).attr("xmlns:svgjs",null,Ff)}root(){return this.isRoot()?this:super.root()}}he({Container:{nested:en(function(){return this.put(new eu)})}});Ae(eu,"Svg",!0);let vd=class extends ur{constructor(t,n=t){super(rn("symbol",t),n)}};he({Container:{symbol:en(function(){return this.put(new vd)})}});Ae(vd,"Symbol");function kI(e){return this._build===!1&&this.clear(),this.node.appendChild(Ee.document.createTextNode(e)),this}function MI(){return this.node.getComputedTextLength()}function RI(e,t=this.bbox()){return e==null?t.x:this.attr("x",this.attr("x")+e-t.x)}function PI(e,t=this.bbox()){return e==null?t.y:this.attr("y",this.attr("y")+e-t.y)}function OI(e,t,n=this.bbox()){return this.x(e,n).y(t,n)}function II(e,t=this.bbox()){return e==null?t.cx:this.attr("x",this.attr("x")+e-t.cx)}function LI(e,t=this.bbox()){return e==null?t.cy:this.attr("y",this.attr("y")+e-t.cy)}function NI(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)}function DI(e){return this.attr("x",e)}function $I(e){return this.attr("y",e)}function UI(e,t){return this.ax(e).ay(t)}function FI(e){return this._build=!!e,this}const Cv=Object.freeze(Object.defineProperty({__proto__:null,amove:UI,ax:DI,ay:$I,build:FI,center:NI,cx:II,cy:LI,length:MI,move:OI,plain:kI,x:RI,y:PI},Symbol.toStringTag,{value:"Module"}));class Qr extends Ar{constructor(t,n=t){super(rn("text",t),n),this.dom.leading=this.dom.leading??new ee(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new ee(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const n=this;let r=0;const s=this.dom.leading;this.each(function(o){if(Sh(this.node))return;const l=Ee.window.getComputedStyle(this.node).getPropertyValue("font-size"),c=s*new ee(l);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=c:(this.attr("dy",o?c+r:0),r=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new ee(t.leading||1.3),this}writeDataToDom(){return tv(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const n=this.node.childNodes;let r=0;t="";for(let s=0,o=n.length;s<o;++s){if(n[s].nodeName==="textPath"||Sh(n[s])){s===0&&(r=s+1);continue}s!==r&&n[s].nodeType!==3&&$r(n[s]).dom.newLined===!0&&(t+=`
`),t+=n[s].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let n=0,r=t.length;n<r;n++)this.newLine(t[n])}return this.build(!1).rebuild()}}ge(Qr,Cv);he({Container:{text:en(function(e=""){return this.put(new Qr).text(e)}),plain:en(function(e=""){return this.put(new Qr).plain(e)})}});Ae(Qr,"Text");class nu extends Ar{constructor(t,n=t){super(rn("tspan",t),n),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof Qr))return this;const n=t.index(this),r=Ee.window.getComputedStyle(this.node).getPropertyValue("font-size"),s=t.dom.leading*new ee(r);return this.dy(n?s:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}ge(nu,Cv);he({Tspan:{tspan:en(function(e=""){const t=new nu;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}});Ae(nu,"Tspan");class bd extends Ar{constructor(t,n=t){super(rn("circle",t),n)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new ee(t).divide(2))}}ge(bd,{x:uv,y:fv,cx:hv,cy:dv,width:pv,height:gv});he({Container:{circle:en(function(e=0){return this.put(new bd).size(e).move(0,0)})}});Ae(bd,"Circle");class Mh extends ur{constructor(t,n=t){super(rn("clipPath",t),n)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return Fo("svg [clip-path*="+this.id()+"]")}}he({Container:{clip:en(function(){return this.defs().put(new Mh)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){const t=e instanceof Mh?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});Ae(Mh,"ClipPath");class Ev extends ss{constructor(t,n=t){super(rn("foreignObject",t),n)}}he({Container:{foreignObject:en(function(e,t){return this.put(new Ev).size(e,t)})}});Ae(Ev,"ForeignObject");function VI(e,t){return this.children().forEach(n=>{let r;try{r=n.node instanceof zP().SVGSVGElement?new Sn(n.attr(["x","y","width","height"])):n.bbox()}catch{return}const s=new we(n),o=s.translate(e,t).transform(s.inverse()),l=new Mn(r.x,r.y).transform(o);n.move(l.x,l.y)}),this}function BI(e){return this.dmove(e,0)}function HI(e){return this.dmove(0,e)}function WI(e,t=this.bbox()){return e==null?t.height:this.size(t.width,e,t)}function zI(e=0,t=0,n=this.bbox()){const r=e-n.x,s=t-n.y;return this.dmove(r,s)}function qI(e,t,n=this.bbox()){const r=Uo(this,e,t,n),s=r.width/n.width,o=r.height/n.height;return this.children().forEach(l=>{const c=new Mn(n).transform(new we(l).inverse());l.scale(s,o,c.x,c.y)}),this}function GI(e,t=this.bbox()){return e==null?t.width:this.size(e,t.height,t)}function XI(e,t=this.bbox()){return e==null?t.x:this.move(e,t.y,t)}function YI(e,t=this.bbox()){return e==null?t.y:this.move(t.x,e,t)}const Av=Object.freeze(Object.defineProperty({__proto__:null,dmove:VI,dx:BI,dy:HI,height:WI,move:zI,size:qI,width:GI,x:XI,y:YI},Symbol.toStringTag,{value:"Module"}));class ru extends ur{constructor(t,n=t){super(rn("g",t),n)}}ge(ru,Av);he({Container:{group:en(function(){return this.put(new ru)})}});Ae(ru,"G");class kc extends ur{constructor(t,n=t){super(rn("a",t),n)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Qa)}}ge(kc,Av);he({Container:{link:en(function(e){return this.put(new kc).to(e)})},Element:{unlink(){const e=this.linker();if(!e)return this;const t=e.parent();if(!t)return this.remove();const n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new kc,this.wrap(t)),typeof e=="function"?e.call(t,t):t.to(e),this},linker(){const e=this.parent();return e&&e.node.nodeName.toLowerCase()==="a"?e:null}}});Ae(kc,"A");class Rh extends ur{constructor(t,n=t){super(rn("mask",t),n)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return Fo("svg [mask*="+this.id()+"]")}}he({Container:{mask:en(function(){return this.defs().put(new Rh)})},Element:{masker(){return this.reference("mask")},maskWith(e){const t=e instanceof Rh?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});Ae(Rh,"Mask");class Tv extends ss{constructor(t,n=t){super(rn("stop",t),n)}update(t){return(typeof t=="number"||t instanceof ee)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new ee(t.offset)),this}}he({Gradient:{stop:function(e,t,n){return this.put(new Tv).update(e,t,n)}}});Ae(Tv,"Stop");function jI(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(const r in t)n+=BP(r)+":"+t[r]+";";return n+="}",n}class Ph extends ss{constructor(t,n=t){super(rn("style",t),n)}addText(t=""){return this.node.textContent+=t,this}font(t,n,r={}){return this.rule("@font-face",{fontFamily:t,src:n,...r})}rule(t,n){return this.addText(jI(t,n))}}he("Dom",{style(e,t){return this.put(new Ph).rule(e,t)},fontface(e,t,n){return this.put(new Ph).font(e,t,n)}});Ae(Ph,"Style");class xd extends Qr{constructor(t,n=t){super(rn("textPath",t),n)}array(){const t=this.track();return t?t.array():null}plot(t){const n=this.track();let r=null;return n&&(r=n.plot(t)),t==null?r:this}track(){return this.reference("href")}}he({Container:{textPath:en(function(e,t){return e instanceof Qr||(e=this.text(e)),e.path(t)})},Text:{path:en(function(e,t=!0){const n=new xd;e instanceof Vo||(e=this.defs().path(e)),n.attr("href","#"+e,Qa);let r;if(t)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:en(function(e){return e instanceof Qr||(e=new Qr().addTo(this.parent()).text(e)),e.path(this)}),targets(){return Fo("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}});xd.prototype.MorphArray=Qi;Ae(xd,"TextPath");class kv extends Ar{constructor(t,n=t){super(rn("use",t),n)}use(t,n){return this.attr("href",(n||"")+"#"+t,Qa)}}he({Container:{use:en(function(e,t){return this.put(new kv).use(e,t)})}});Ae(kv,"Use");const Mv=Zn;ge([eu,vd,Jc,Va,Ec],cr("viewbox"));ge([Ba,rl,nl,Vo],cr("marker"));ge(Qr,cr("Text"));ge(Vo,cr("Path"));ge(hd,cr("Defs"));ge([Qr,nu],cr("Tspan"));ge([tu,Qc,tl,Sr],cr("radius"));ge(Ja,cr("EventTarget"));ge(pi,cr("Dom"));ge(ss,cr("Element"));ge(Ar,cr("Shape"));ge([ur,mv],cr("Container"));ge(tl,cr("Gradient"));ge(Sr,cr("Runner"));Zi.extend(FP());mI([ee,Ve,Sn,we,No,gi,Qi,Mn]);yI();const Nn=[];for(let e=0;e<256;++e)Nn.push((e+256).toString(16).slice(1));function KI(e,t=0){return(Nn[e[t+0]]+Nn[e[t+1]]+Nn[e[t+2]]+Nn[e[t+3]]+"-"+Nn[e[t+4]]+Nn[e[t+5]]+"-"+Nn[e[t+6]]+Nn[e[t+7]]+"-"+Nn[e[t+8]]+Nn[e[t+9]]+"-"+Nn[e[t+10]]+Nn[e[t+11]]+Nn[e[t+12]]+Nn[e[t+13]]+Nn[e[t+14]]+Nn[e[t+15]]).toLowerCase()}let zf;const ZI=new Uint8Array(16);function QI(){if(!zf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");zf=crypto.getRandomValues.bind(crypto)}return zf(ZI)}const JI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xy={randomUUID:JI};function qf(e,t,n){var s;if(xy.randomUUID&&!e)return xy.randomUUID();e=e||{};const r=e.random??((s=e.rng)==null?void 0:s.call(e))??QI();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,KI(r)}const Co={roundPoint:e=>({x:Math.round(e.x),y:Math.round(e.y)}),snapToMillimeter:e=>Math.round(e),getClosestPointOnLine:(e,t,n)=>{const r=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);if(r===0)return e;let s=((n.x-e.x)*(t.x-e.x)+(n.y-e.y)*(t.y-e.y))/r;return s=Math.max(0,Math.min(1,s)),{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}},getOrthogonalPoint:(e,t)=>({x:Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?t.x:e.x,y:Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?e.y:t.y}),isInBoundary:e=>{const t={min:-5e4,max:5e4};return e.x>=t.min&&e.x<=t.max&&e.y>=t.min&&e.y<=t.max}},Rv={getSVGCoordinates:(e,t)=>{const n=t.node.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n.matrixTransform(t.node.getScreenCTM().inverse())}},Mc={createGrid:e=>{const t={min:-5e4,max:5e4};e.find(".grid-line").forEach(r=>r.remove());const n=e.group().addClass("grid-group");for(let r=t.min;r<=t.max;r+=100){const s=r%1e3===0?"#111":"#555",o=r%1e3===0?1:.5;n.line(t.min,r,t.max,r).stroke({width:o,color:s}).addClass("grid-line"),n.line(r,t.min,r,t.max).stroke({width:o,color:s}).addClass("grid-line")}n.line(t.min,0,t.max,0).stroke({width:10,color:"#000"}).addClass("grid-line"),n.line(0,t.min,0,t.max).stroke({width:10,color:"#000"}).addClass("grid-line"),[t.min,t.max].forEach(r=>{n.line(r,t.min,r,t.max).stroke({width:50,color:"#f00"}).addClass("grid-line"),n.line(t.min,r,t.max,r).stroke({width:50,color:"#f00"}).addClass("grid-line")}),n.back()},toggleGrid:(e,t)=>{e.find(".grid-line").forEach(n=>{t?n.show():n.hide()})}},t3=()=>{const e=tr({undoStack:[],redoStack:[],isRecording:!0}),t=se(()=>e.undoStack.length>0),n=se(()=>e.redoStack.length>0),r=c=>{e.isRecording&&(e.undoStack.push(JSON.stringify(c)),e.redoStack=[])},s=(c,u,h,d,p)=>{h.children().forEach(m=>m.remove()),u.splice(0,u.length,...JSON.parse(c)),u.forEach(m=>{d(m)}),p()};return{history:e,canUndo:t,canRedo:n,saveState:r,undo:(c,u,h,d)=>{e.undoStack.length!==0&&(e.redoStack.push(JSON.stringify(c)),e.isRecording=!1,s(e.undoStack.pop(),c,u,h,d),e.isRecording=!0)},redo:(c,u,h,d)=>{e.redoStack.length!==0&&(e.undoStack.push(JSON.stringify(c)),e.isRecording=!1,s(e.redoStack.pop(),c,u,h,d),e.isRecording=!0)}}},Pv=e=>{const t={x:-2e3,y:-2e3,width:4e3,height:4e3};let n=!1,r={x:0,y:0};const s=()=>{e.viewbox(t.x,t.y,t.width,t.height)};return{viewbox:t,isPanning:n,panControls:{start:h=>{n=!0,r={x:h.clientX,y:h.clientY}},move:h=>{if(!n)return;const d=(h.clientX-r.x)*t.width/e.node.clientWidth,p=(h.clientY-r.y)*t.height/e.node.clientHeight;t.x-=d,t.y-=p,s(),r={x:h.clientX,y:h.clientY}},stop:()=>{n=!1}},zoomCanvas:h=>{const d=h.deltaY>0?1.1:.9,p=e.node.createSVGPoint();p.x=h.clientX,p.y=h.clientY;const m=p.matrixTransform(e.node.getScreenCTM().inverse()),y=t.width*d,x=t.height*d,C=(m.x-t.x)*(y/t.width-1),S=(m.y-t.y)*(x/t.height-1);t.x-=C,t.y-=S,t.width=y,t.height=x,s()},updateViewbox:s,zoomIn:()=>{const d=t.x+t.width/2,p=t.y+t.height/2,m=t.width*.9,y=t.height*.9;t.x=d-m/2,t.y=p-y/2,t.width=m,t.height=y,s()},zoomOut:()=>{const d=t.x+t.width/2,p=t.y+t.height/2,m=t.width*1.1,y=t.height*1.1;t.x=d-m/2,t.y=p-y/2,t.width=m,t.height=y,s()}}},Ov=()=>{const t=tr({currentTool:"select",wallThickness:Math.max(100,50),snapDistance:100,showLengthLabels:localStorage.getItem("showLengthLabels")!=="false",isSpacePressed:!1}),n=u=>{t.currentTool=u},r=u=>{t.wallThickness=Math.max(u,50)},s=u=>{t.snapDistance=u},o=()=>{t.showLengthLabels=!t.showLengthLabels,localStorage.setItem("showLengthLabels",t.showLengthLabels)},l=u=>{t.isSpacePressed=u};return window.addEventListener("keydown",u=>{u.code==="Space"&&!u.repeat&&(u.preventDefault(),l(!0))}),window.addEventListener("keyup",u=>{u.code==="Space"&&(u.preventDefault(),l(!1))}),{toolState:t,setCurrentTool:n,setWallThickness:r,setSnapDistance:s,toggleLengthLabels:o,createToolHandlers:({selectHandlers:u,wallHandlers:h,rectHandlers:d,eraserHandlers:p})=>({select:{onClick:u.onClick,onMouseDown:u.onMouseDown,onMouseMove:u.onMouseMove,onMouseUp:u.onMouseUp},wall:{onClick:h.onClick,onMouseDown:h.onMouseDown,onMouseMove:h.onMouseMove,onMouseUp:h.onMouseUp},rect:{onClick:d.onClick,onMouseDown:d.onMouseDown,onMouseMove:d.onMouseMove,onMouseUp:d.onMouseUp},eraser:{onClick:p.onClick,onMouseDown:p.onMouseDown,onMouseMove:p.onMouseMove,onMouseUp:p.onMouseUp}}),setSpacePressed:l,MIN_THICKNESS:50}},Iv=()=>{const e=tr([]);let t=null;const n=50;return{walls:e,setWallLayer:l=>{t=l},getWallLayer:()=>t,findWallById:l=>e.find(c=>c.id===l),updateWallThickness:(l,c)=>{l&&(l.thickness=Math.max(c,n))},MIN_THICKNESS:n}},Li="#421",jl={zoomMin:.01,zoomMax:10,zoomFactor:.125},Gf={zoomMin:.01,zoomMax:10,zoomFactor:.125,panning:!1},wo=kt(localStorage.getItem("showGrid")!=="false"),Ni=kt(localStorage.getItem("showKeys")!=="false"),e3=kt(localStorage.getItem("showDimension")!=="false"),ua=kt(localStorage.getItem("displayUnit")||"cm"),wd=es("floorEditorStore",()=>{let e=null,t=null;const n=void 0;let r=null,s=null,o=null,l=null;const{walls:c,setWallLayer:u}=Iv(),h=kt(null),d=tr([]),{toolState:p,setCurrentTool:m,setWallThickness:y,setSnapDistance:x,createToolHandlers:C}=Ov();let S=!1,M={x:0,y:0},$=null;const I=tr({selectedWallId:null}),D=se(()=>c.find(E=>E.id===I.selectedWallId)||null),{canUndo:q,canRedo:Q,saveState:W,undo:vt,redo:ut}=t3(),_t=Co.roundPoint,wt=Co.snapToMillimeter,ft=Co.getClosestPointOnLine,Ot=Co.getOrthogonalPoint,Lt=Co.isInBoundary,St=E=>Rv.getSVGCoordinates(E,e),Ct=()=>Mc.createGrid(e);let ct=null;const at=E=>{e=Mv().addTo(E).size("100%","100%").panZoom({...jl}),e.on("zoom",()=>{ct.viewbox.width=e.viewbox().width,$t()}),wo.value&&Ct(),ct=Pv(e),e.viewbox(ct.viewbox.x,ct.viewbox.y,ct.viewbox.width,ct.viewbox.height),r=e.group().addClass("wall-layer"),u(r),Ni.value||e.find(".key").forEach(P=>P.hide())},Qt=async E=>{try{h.value=E;const P=await Dt.get(`${n}/api/rooms/${E}/walls`);P.data&&P.data.walls&&(c.splice(0,c.length,...P.data.walls.filter(z=>z.isDeleted!==!0).map(z=>({id:z.id,x1:z.startx,y1:z.starty,x2:z.endx,y2:z.endy,thickness:z.thickness||100}))),r&&(r.children().forEach(z=>z.remove()),c.forEach(z=>{yt.renderWall(z)}),$t()))}catch(P){console.error("벽 데이터를 불러오는 중 오류 발생:",P)}},jt=async()=>{if(h.value)try{const E=c.filter(z=>!d.includes(z.id)).map(z=>({id:typeof z.id=="number"?z.id:null,roomid:h.value,startx:z.x1,starty:z.y1,endx:z.x2,endy:z.y2,thickness:z.thickness})),P={roomid:h.value,walls:E,deletedWalls:d};await Dt.put(`${n}/api/rooms/${h.value}/walls`,P),d.splice(0,d.length),await Qt(h.value)}catch(E){console.error("벽 데이터를 저장하는 중 오류 발생:",E)}},zt={start:E=>{if(!Lt(E))return;const P=N(E,r.children());s={x:wt(P.x),y:wt(P.y)},l=e.group().addClass("wall-preview-group"),o=l.line(s.x,s.y,s.x,s.y).stroke({width:p.wallThickness,color:Li,dasharray:"5,5"}),Bt(s,s)},preview:E=>{if(!s||!Lt(E))return;const P=N(E,r.children()),z=Ot(s,P);o==null||o.plot(s.x,s.y,z.x,z.y),Bt(s,z),l.find(".preview-length").forEach(lt=>lt.remove());const Z=Math.round(Math.hypot(z.x-s.x,z.y-s.y));if(Z>1){const lt=(s.x+z.x)/2,st=(s.y+z.y)/2,Et=ct.viewbox.width*.025;l.text(Me(Z)).font({size:Et,anchor:"middle"}).center(lt,st).addClass("preview-length")}},onClick:E=>{if(Lt(E))if(!s)zt.start(E);else{const P=N(E,r.children()),z=Ot(s,P);if(Math.hypot(z.x-s.x,z.y-s.y)>1){const Z=yt.createWallWithIntersections(s,z,p.wallThickness);yt.applyWallChanges(Z),s={x:z.x,y:z.y},o==null||o.plot(s.x,s.y,s.x,s.y),Bt(s,s),l.find(".preview-length").forEach(lt=>lt.remove()),$t()}}},cancel:()=>{l&&(l.find(".preview-length, .preview-key").forEach(E=>E.remove()),l.remove()),l=null,o=null,s=null}},Kt={start:E=>{I.selectedWallId&&(S=!0,M=St(E),$=p.snapDistance,p.snapDistance=25)},move:E=>{if(!S||!I.selectedWallId)return;const P=St(E),z=P.x-M.x,Z=P.y-M.y,lt=c.find(ve=>ve.id===I.selectedWallId);if(!lt)return;const st=Math.hypot(lt.x2-lt.x1,lt.y2-lt.y1),Et=Math.atan2(lt.y2-lt.y1,lt.x2-lt.x1),Rt=R({x:lt.x1+z,y:lt.y1+Z},c,lt.id),Nt={x:Rt.x+st*Math.cos(Et),y:Rt.y+st*Math.sin(Et)},Vt=R(Nt,c,lt.id);let ie,ye,Pe,Cn;if(Vt.x!==Nt.x||Vt.y!==Nt.y?(Pe=Vt.x,Cn=Vt.y,ie=Vt.x-st*Math.cos(Et),ye=Vt.y-st*Math.sin(Et)):(ie=Rt.x,ye=Rt.y,Pe=Nt.x,Cn=Nt.y),Lt({x:ie,y:ye})&&Lt({x:Pe,y:Cn})){lt.x1=ie,lt.y1=ye,lt.x2=Pe,lt.y2=Cn;const ve=r.find(`[data-id='${lt.id}']`);ve&&ve.plot(lt.x1,lt.y1,lt.x2,lt.y2),$t()}M=P},end:()=>{S=!1,M=null,p.snapDistance=$}},nt={startPoint:null,preview:null,start:E=>{if(!Lt(E))return;const P=N(E,r.children());nt.startPoint={x:wt(P.x),y:wt(P.y)},nt.preview=e.group().addClass("rect-preview"),nt.preview.rect(0,0).fill("none").stroke({width:1,color:Li,dasharray:"5,5"}),Bt(nt.startPoint,nt.startPoint)},move:E=>{if(!nt.startPoint||!nt.preview||!Lt(E))return;const P=N(E,r.children()),z={x:wt(P.x),y:wt(P.y)},Z=Math.abs(z.x-nt.startPoint.x),lt=Math.abs(z.y-nt.startPoint.y),st=Math.min(nt.startPoint.x,z.x),Et=Math.min(nt.startPoint.y,z.y);nt.preview.children().forEach(Nt=>Nt.remove()),nt.preview.rect(Z,lt).fill("none").stroke({width:1,color:Li,dasharray:"5,5"}).x(st).y(Et),[[st,Et,st+Z,Et],[st+Z,Et,st+Z,Et+lt],[st+Z,Et+lt,st,Et+lt],[st,Et+lt,st,Et]].forEach(([Nt,Vt,ie,ye])=>{nt.preview.line(Nt,Vt,ie,ye).stroke({width:p.wallThickness,color:Li,opacity:.5})});const Rt=ct.viewbox.width*.02;Z>1&&nt.preview.text(Me(Z)).font({size:Rt,anchor:"middle"}).center(st+Z/2,Et-Rt),lt>1&&nt.preview.text(Me(lt)).font({size:Rt,anchor:"middle"}).center(st-Rt*2,Et+lt/2).rotate(-90),Bt(nt.startPoint,z)},finish:E=>{if(!nt.startPoint||!nt.preview||!Lt(E))return;const P=N(E,r.children()),z={x:wt(P.x),y:wt(P.y)},Z=Math.abs(z.x-nt.startPoint.x),lt=Math.abs(z.y-nt.startPoint.y);if(Z<1||lt<1){nt.cancel();return}const st=Math.min(nt.startPoint.x,z.x),Et=Math.min(nt.startPoint.y,z.y);We();let Rt={wallsToRemove:[],newWalls:[]};[[{x:st,y:Et},{x:st+Z,y:Et}],[{x:st+Z,y:Et},{x:st+Z,y:Et+lt}],[{x:st+Z,y:Et+lt},{x:st,y:Et+lt}],[{x:st,y:Et+lt},{x:st,y:Et}]].forEach(([Nt,Vt])=>{const ie=yt.createWallWithIntersections(Nt,Vt,p.wallThickness);Rt.wallsToRemove.push(...ie.wallsToRemove),Rt.newWalls.push(...ie.newWalls)}),Rt.wallsToRemove=[...new Set(Rt.wallsToRemove)],yt.applyWallChanges(Rt),$t(),nt.preview&&(nt.preview.remove(),nt.preview=null),nt.startPoint=null},cancel:()=>{nt.preview&&(nt.preview.remove(),nt.preview=null),nt.startPoint=null}},At={isErasing:!1,preview:null,lastErasedWalls:new Set,createPreview:()=>{At.preview||(At.preview=e.circle(p.snapDistance*2).fill("none").stroke({color:"#000000",width:3,dasharray:"5,5"}).addClass("eraser-preview"))},start:()=>{At.isErasing=!0,At.lastErasedWalls.clear(),At.createPreview()},move:E=>{if(At.preview||At.createPreview(),At.preview.center(E.x,E.y),At.isErasing){const P=At.getWallsInRange(E).filter(z=>!At.lastErasedWalls.has(z.id));P.length>0&&(P.forEach(z=>{At.lastErasedWalls.add(z.id);const Z=r.find(`[data-id='${z.id}']`)[0];Z&&Z.remove();const lt=c.findIndex(st=>st.id===z.id);lt!==-1&&c.splice(lt,1),typeof z.id=="number"&&d.push(z.id)}),$t())}},stop:()=>{At.isErasing=!1,At.lastErasedWalls.clear()},cleanup:()=>{At.preview&&(At.preview.remove(),At.preview=null)},getWallsInRange:E=>{const P=p.snapDistance;return c.filter(z=>{const Z=ft({x:z.x1,y:z.y1},{x:z.x2,y:z.y2},E);return Math.hypot(Z.x-E.x,Z.y-E.y)<P})}},$t=()=>{Ut(),K(),A(),Ni.value||e.find(".key").forEach(E=>E.hide()),At.preview&&At.preview.front(),l&&l.node&&r.after(l),e.find(".enclosed-space-text").forEach(E=>E.front())},me=(E,P)=>{const z=ct.viewbox.width*.02;e.circle(z).fill("#fff").stroke({color:"#000",width:z*.1}).center(E,P).addClass("key")},K=()=>{e.find(".key").forEach(E=>E.remove()),r.children().forEach(E=>{me(parseFloat(E.attr("x1")),parseFloat(E.attr("y1"))),me(parseFloat(E.attr("x2")),parseFloat(E.attr("y2")))})},pt=(E,P,z,Z)=>{const lt=ct.viewbox.width*.0125,st=Math.PI*.4,Et=Z?1:-1,Rt={x:E+Et*lt*Math.cos(z+st),y:P+Et*lt*Math.sin(z+st)},Nt={x:E,y:P},Vt={x:E+Et*lt*Math.cos(z-st),y:P+Et*lt*Math.sin(z-st)};return e.polyline([[Rt.x,Rt.y],[Nt.x,Nt.y],[Vt.x,Vt.y]]).fill("none").stroke({width:ct.viewbox.width*.00125,color:"#000"}).addClass("dimension")},ht=(E,P)=>e.line(E.x,E.y,P.x,P.y).stroke({width:ct.viewbox.width*.00125,color:"#000"}).addClass("dimension"),Tt=(E,P,z)=>c.filter(Z=>Z.id!==P&&(Z.x1===E.x&&Z.y1===E.y||Z.x2===E.x&&Z.y2===E.y)).map(Z=>{const lt=Z.x1===E.x&&Z.y1===E.y,st=Math.abs(Z.y2-Z.y1)>Math.abs(Z.x2-Z.x1);return z?{...Z,isVertical:st,isLeftward:st?!1:lt?Z.x1>Z.x2:Z.x2>Z.x1,isRightward:st?!1:lt?Z.x1<Z.x2:Z.x2<Z.x1}:{...Z,isVertical:st,isLower:st?lt?Z.y1<Z.y2:Z.y2<Z.y1:!1,isUpper:st?lt?Z.y1>Z.y2:Z.y2>Z.y1:!1}}),xt=E=>{const P=c.find(Wn=>Wn.id===E);if(!P)return;const z=Math.abs(P.y2-P.y1)>Math.abs(P.x2-P.x1),Z=P.y1>P.y2,lt=P.x1<P.x2,st=P.thickness/2+ct.viewbox.width*.0125;let Et=0,Rt=0,Nt=0,Vt=0,ie=0,ye=0,Pe=0,Cn=0;if(z){let Wn=Z?{x:P.x2,y:P.y2}:{x:P.x1,y:P.y1},vs=Z?{x:P.x1,y:P.y1}:{x:P.x2,y:P.y2};const fr=Tt(Wn,E,!0),hr=Tt(vs,E,!0),En=fr.filter(je=>je.isLeftward),cn=fr.filter(je=>je.isRightward),Ye=hr.filter(je=>je.isLeftward),un=hr.filter(je=>je.isRightward);En.length>0&&cn.length>0?(ie-=En[0].thickness/2,Pe-=cn[0].thickness/2):En.length>0?(ie-=En[0].thickness/2,Pe+=En[0].thickness/2):cn.length>0&&(ie+=cn[0].thickness/2,Pe-=cn[0].thickness/2),Ye.length>0&&un.length>0?(ye-=Ye[0].thickness/2,Cn-=un[0].thickness/2):Ye.length>0?(ye-=Ye[0].thickness/2,Cn+=Ye[0].thickness/2):un.length>0&&(ye+=un[0].thickness/2,Cn-=un[0].thickness/2)}else{let Wn=lt?{x:P.x1,y:P.y1}:{x:P.x2,y:P.y2},vs=lt?{x:P.x2,y:P.y2}:{x:P.x1,y:P.y1};const fr=Tt(Wn,E,!1),hr=Tt(vs,E,!1),En=fr.filter(je=>je.isUpper),cn=fr.filter(je=>je.isLower),Ye=hr.filter(je=>je.isUpper),un=hr.filter(je=>je.isLower);En.length>0&&cn.length>0?(Et-=En[0].thickness/2,Nt-=cn[0].thickness/2):En.length>0?(Et-=En[0].thickness/2,Nt+=En[0].thickness/2):cn.length>0&&(Et+=cn[0].thickness/2,Nt-=cn[0].thickness/2),Ye.length>0&&un.length>0?(Rt-=Ye[0].thickness/2,Vt-=un[0].thickness/2):Ye.length>0?(Rt-=Ye[0].thickness/2,Vt+=Ye[0].thickness/2):un.length>0&&(Rt+=un[0].thickness/2,Vt-=un[0].thickness/2)}e.find(`.length-label[data-id='${P.id}']`).forEach(Wn=>Wn.remove()),e.find(`.dimension[data-id='${P.id}']`).forEach(Wn=>Wn.remove());const ve=(P.x1+P.x2)/2,sn=(P.y1+P.y2)/2,Ws=Math.round(Math.hypot(P.x2-P.x1,P.y2-P.y1)),Hr=Math.min(100,ct.viewbox.width/64),zs=Ws/2;if(Math.min(zs,Hr*(.5+Math.log10(Ws)/2))*(z?P.y2<P.y1?1:-1:P.x2>P.x1?1:-1),z?P.y2>P.y1?Math.PI*.5:-Math.PI*.5:P.x2>P.x1,z){const Wn=e.group().addClass("length-label").attr("data-id",`${P.id}-left`),vs=e.group().addClass("length-label").attr("data-id",`${P.id}-right`),fr=Ws+(ie+ye),hr=Ws+(Pe+Cn),En=P.y2<P.y1,cn=Math.PI*.5;let Ye=En?{x:P.x2,y:P.y2}:{x:P.x1,y:P.y1},un=En?{x:P.x1,y:P.y1}:{x:P.x2,y:P.y2};const je=Math.min(zs,Hr*(.5+Math.log10(fr)/2)),xi=Math.min(zs,Hr*(.5+Math.log10(hr)/2));Wn.text(Me(fr)).font({size:Hr,anchor:"middle"}).center(ve-st,sn).rotate(90,ve-st,sn),vs.text(Me(hr)).font({size:Hr,anchor:"middle"}).center(ve+st,sn).rotate(90,ve+st,sn),ht({x:ve-st,y:sn-je},{x:ve-st,y:Ye.y-ie}),ht({x:ve-st,y:sn+je},{x:ve-st,y:un.y+ye}),ht({x:ve+st,y:sn-xi},{x:ve+st,y:Ye.y-Pe}),ht({x:ve+st,y:sn+xi},{x:ve+st,y:un.y+Cn}),pt(ve-st,Ye.y-ie,cn,!0),pt(ve-st,un.y+ye,cn,!1),pt(ve+st,Ye.y-Pe,cn,!0),pt(ve+st,un.y+Cn,cn,!1)}else{const Wn=e.group().addClass("length-label").attr("data-id",`${P.id}-top`),vs=e.group().addClass("length-label").attr("data-id",`${P.id}-bottom`),fr=Ws+(Et+Rt),hr=Ws+(Nt+Vt),En=P.x1<P.x2,cn=0;let Ye=En?{x:P.x2,y:P.y2}:{x:P.x1,y:P.y1},un=En?{x:P.x1,y:P.y1}:{x:P.x2,y:P.y2};const je=Math.min(zs,Hr*(.5+Math.log10(fr)/2)),xi=Math.min(zs,Hr*(.5+Math.log10(hr)/2));Wn.text(Me(fr)).font({size:Hr,anchor:"middle"}).center(ve,sn-st),vs.text(Me(hr)).font({size:Hr,anchor:"middle"}).center(ve,sn+st),ht({x:ve-je,y:sn-st},{x:un.x-Et,y:sn-st}),ht({x:ve+je,y:sn-st},{x:Ye.x+Rt,y:sn-st}),ht({x:ve-xi,y:sn+st},{x:un.x-Nt,y:sn+st}),ht({x:ve+xi,y:sn+st},{x:Ye.x+Vt,y:sn+st}),pt(un.x-Et,sn-st,cn,!0),pt(Ye.x+Rt,sn-st,cn,!1),pt(un.x-Nt,sn+st,cn,!0),pt(Ye.x+Vt,sn+st,cn,!1)}},A=()=>{e.find(".length-label").forEach(E=>E.remove()),e.find(".dimension").forEach(E=>E.remove()),p.showLengthLabels&&c.forEach(E=>{const P=E.id;P&&xt(P)})},R=(E,P,z)=>{E=_t(E);const Z=p.snapDistance;let lt=null,st=Z;for(const Et of P){if(Et.id===z)continue;const Rt={x:Et.x1,y:Et.y1},Nt={x:Et.x2,y:Et.y2};[Rt,Nt].forEach(Vt=>{const ie=Math.hypot(Vt.x-E.x,Vt.y-E.y);ie<st&&(st=ie,lt={x:Vt.x,y:Vt.y})})}return lt?_t(lt):E},N=(E,P)=>{E=_t(E);const z=p.snapDistance;for(const st of P){const Et={x:+st.attr("x1"),y:+st.attr("y1")},Rt={x:+st.attr("x2"),y:+st.attr("y2")};if(Math.hypot(Et.x-E.x,Et.y-E.y)<z)return _t(Et);if(Math.hypot(Rt.x-E.x,Rt.y-E.y)<z)return _t(Rt)}let Z=null,lt=z;for(const st of P){const Et={x:+st.attr("x1"),y:+st.attr("y1")},Rt={x:+st.attr("x2"),y:+st.attr("y2")},Nt=ft(Et,Rt,E),Vt=Math.hypot(Nt.x-E.x,Nt.y-E.y);Vt<lt&&(lt=Vt,Z=Nt)}return Z?_t(Z):E},Y=E=>{if(!E)return;const P=r.children();let z=null;e.panZoom({...jl});let Z=p.snapDistance;P.forEach(lt=>{const st={x:+lt.attr("x1"),y:+lt.attr("y1")},Et={x:+lt.attr("x2"),y:+lt.attr("y2")},Rt=ft(st,Et,E),Nt=Math.hypot(Rt.x-E.x,Rt.y-E.y);Nt<Z&&(Z=Nt,z=lt.data("id"),e.panZoom({...Gf}))}),I.selectedWallId=z,tt()},tt=()=>{r.children().forEach(E=>{const P=c.find(z=>z.id===E.data("id"));P&&(E.data("id")===I.selectedWallId?E.stroke({color:"#007bff",width:P.thickness}):E.stroke({color:Li,width:P.thickness}))})},T=se(()=>{const E=c.find(P=>P.id===I.selectedWallId);return E?E.thickness:100}),k=E=>{if(!D.value)return;We();let P=typeof E=="string"&&E.includes("+")?D.value.thickness+10:typeof E=="string"&&E.includes("-")?D.value.thickness-10:parseInt(E);if(isNaN(P)||P<50)return;D.value.thickness=P;const z=r.find(`[data-id='${D.value.id}']`);z&&z.stroke({width:P}),$t()},j=se(()=>{if(!D.value)return 0;const{x1:E,y1:P,x2:z,y2:Z}=D.value;return Math.round(Math.hypot(z-E,Z-P))}),B=E=>{if(!D.value)return;We();let P=typeof E=="string"&&E.includes("+")?j.value+100:typeof E=="string"&&E.includes("-")?j.value-100:parseInt(E);if(isNaN(P)||P<1)return;const{x1:z,y1:Z,x2:lt,y2:st}=D.value,Et=Math.abs(st-Z)<Math.abs(lt-z),Rt=Et?z+(lt>z?P:-P):z,Nt=Et?Z:Z+(st>Z?P:-P);D.value.x2=Rt,D.value.y2=Nt;const Vt=r.find(`[data-id='${D.value.id}']`);Vt&&Vt.plot(z,Z,Rt,Nt),$t()},H=E=>{let P=null,z=p.snapDistance;return c.forEach(Z=>{const lt={x:Z.x1,y:Z.y1},st={x:Z.x2,y:Z.y2},Et=ft(lt,st,E),Rt=Math.hypot(Et.x-E.x,Et.y-E.y);Rt<z&&(z=Rt,P=Z.id)}),P},et=(E,P)=>{const z=E.x1,Z=E.y1,lt=E.x2,st=E.y2,Et=P.x1,Rt=P.y1,Nt=P.x2,Vt=P.y2,ie=(z-lt)*(Rt-Vt)-(Z-st)*(Et-Nt);if(Math.abs(ie)<.001)return null;const ye=((z-Et)*(Rt-Vt)-(Z-Rt)*(Et-Nt))/ie,Pe=-((z-lt)*(Z-Rt)-(Z-st)*(z-Et))/ie;return ye<-.001||ye>1.001||Pe<-.001||Pe>1.001?null:{x:z+ye*(lt-z),y:Z+ye*(st-Z)}},rt=(E,P)=>{const z={id:qf(),x1:E.x1,y1:E.y1,x2:P.x,y2:P.y,thickness:E.thickness},Z={id:qf(),x1:P.x,y1:P.y,x2:E.x2,y2:E.y2,thickness:E.thickness};return[z,Z].filter(lt=>Math.hypot(lt.x2-lt.x1,lt.y2-lt.y1)>1)},yt={createWall:(E,P,z)=>({id:qf(),x1:E.x,y1:E.y,x2:P.x,y2:P.y,thickness:z}),renderWall:E=>r.line(E.x1,E.y1,E.x2,E.y2).stroke({width:E.thickness,color:Li}).data("id",E.id),createWallWithIntersections:(E,P,z)=>{const Z=yt.createWall(E,P,z),lt=[],st=[],Et=[];if(c.forEach(Nt=>{const Vt=et(Z,Nt);if(Vt){Vt.x=Math.round(Vt.x),Vt.y=Math.round(Vt.y);const ie=Math.hypot(Vt.x-Nt.x1,Vt.y-Nt.y1)<1,ye=Math.hypot(Vt.x-Nt.x2,Vt.y-Nt.y2)<1;!ie&&!ye&&(lt.push({point:Vt,wall:Nt}),st.includes(Nt.id)||st.push(Nt.id),st.push(Nt.id))}}),lt.length>0){const Nt=P.x-E.x,Vt=P.y-E.y,ie=Math.abs(Nt)>Math.abs(Vt);lt.sort((Pe,Cn)=>ie?Nt>0?Pe.point.x-Cn.point.x:Cn.point.x-Pe.point.x:Vt>0?Pe.point.y-Cn.point.y:Cn.point.y-Pe.point.y);let ye={x:E.x,y:E.y};if(lt.forEach(Pe=>{if(Math.hypot(ye.x-Pe.point.x,ye.y-Pe.point.y)>1){const ve=yt.createWall(ye,Pe.point,z);Et.push(ve)}rt(Pe.wall,Pe.point).forEach(ve=>{Math.hypot(ve.x2-ve.x1,ve.y2-ve.y1)>1&&Et.push(ve)}),ye=Pe.point}),Math.hypot(ye.x-P.x,ye.y-P.y)>1){const Pe=yt.createWall(ye,P,z);Et.push(Pe)}}else Et.push(Z);const Rt=Et.filter((Nt,Vt,ie)=>!ie.slice(Vt+1).some(ye=>Math.abs(Nt.x1-ye.x1)<1&&Math.abs(Nt.y1-ye.y1)<1&&Math.abs(Nt.x2-ye.x2)<1&&Math.abs(Nt.y2-ye.y2)<1));return{wallsToRemove:st,newWalls:Rt}},applyWallChanges:E=>{We(),E.wallsToRemove.forEach(P=>{const z=r.find(`[data-id='${P}']`)[0];z&&z.remove();const Z=c.findIndex(lt=>lt.id===P);if(Z!==-1){const lt=c[Z];typeof lt.id=="number"&&d.push(lt.id),c.splice(Z,1)}}),E.newWalls.forEach(P=>{Math.hypot(P.x2-P.x1,P.y2-P.y1)>1&&(c.push(P),yt.renderWall(P))})}},Mt=()=>{if(!I.selectedWallId)return;We();const E=c.find(Z=>Z.id===I.selectedWallId);E&&typeof E.id=="number"&&d.push(E.id);const P=r.find(`[data-id='${I.selectedWallId}']`)[0];P&&P.remove();const z=c.findIndex(Z=>Z.id===I.selectedWallId);z!==-1&&c.splice(z,1),I.selectedWallId=null,$t()},Ut=()=>{e.find(".corner-space").forEach(P=>P.remove());const E=new Map;c.forEach(P=>{[[P.x1,P.y1],[P.x2,P.y2]].forEach(([Z,lt])=>{const st=`${Math.round(Z)},${Math.round(lt)}`;E.has(st)||E.set(st,[]),E.get(st).push(P)})}),E.forEach((P,z)=>{if(P.length===2){const[Z,lt]=P,[st,Et]=z.split(",").map(Number),Rt=Math.abs(Z.x1-Z.x2)<1,Nt=Math.abs(lt.x1-lt.x2)<1;if(Rt!==Nt){const Vt=Rt?Z:lt,ie=Rt?lt:Z;e.rect(Vt.thickness,ie.thickness).center(st,Et).fill(Li).addClass("corner-space")}}}),r.front()},Bt=(E,P)=>{const z=l||nt.preview;if(!z)return;z.find(".preview-key").forEach(Rt=>Rt.remove());const Z=ct.viewbox.width*.02,lt=Rt=>{const Nt=c.some(ie=>Math.abs(ie.x1-Rt.x)<=p.snapDistance&&Math.abs(ie.y1-Rt.y)<=p.snapDistance||Math.abs(ie.x2-Rt.x)<=p.snapDistance&&Math.abs(ie.y2-Rt.y)<=p.snapDistance),Vt=c.some(ie=>{const ye=ft({x:ie.x1,y:ie.y1},{x:ie.x2,y:ie.y2},Rt);return Math.hypot(ye.x-Rt.x,ye.y-Rt.y)<=p.snapDistance});return Nt||Vt},st=lt(E),Et=lt(P);l?[{point:E,isSnapped:st},{point:P,isSnapped:Et}].forEach(({point:Rt,isSnapped:Nt})=>{l.circle(Z).fill(Nt?"#FFD700":"#DDDDDD").stroke({color:"#000",width:Z*.1}).center(Rt.x,Rt.y).addClass("preview-key")}):nt.preview&&(Math.abs(P.x-E.x),Math.abs(P.y-E.y),Math.min(E.x,P.x),Math.min(E.y,P.y),[{x:E.x,y:E.y,isStart:!0},{x:P.x,y:P.y,isEnd:!0},{x:P.x,y:E.y,isCorner:!0},{x:E.x,y:P.y,isCorner:!0}].forEach(Rt=>{nt.preview.circle(Z).fill(Rt.isStart?st?"#FFD700":"#DDDDDD":Rt.isEnd&&Et?"#FFD700":"#DDDDDD").stroke({color:"#000",width:Z*.1}).center(Rt.x,Rt.y).addClass("preview-key")}))},qt=E=>{if(!(E.target.tagName==="INPUT"||E.target.tagName==="TEXTAREA")){switch(E.code==="Space"&&!E.repeat&&(E.preventDefault(),p.isSpacePressed=!0,e.panZoom({...jl}),document.body.style.cursor="grab"),E.key.toLowerCase()){case"[":if(p.currentTool==="eraser"){const P=Math.max(25,p.snapDistance-25);x(P),At.preview&&At.preview.size(P*2)}else if(p.currentTool==="wall"||p.currentTool==="rect"){const P=Math.max(10,p.wallThickness-10);y(P),o&&o.stroke({width:P}),nt.preview&&nt.preview.find("line").forEach(z=>z.stroke({width:P}))}break;case"]":if(p.currentTool==="eraser"){const P=Math.min(500,p.snapDistance+25);x(P),At.preview&&At.preview.size(P*2)}else if(p.currentTool==="wall"||p.currentTool==="rect"){const P=Math.min(500,p.wallThickness+10);y(P),o&&o.stroke({width:P}),nt.preview&&nt.preview.find("line").forEach(z=>z.stroke({width:P}))}break;case"escape":p.currentTool==="wall"?zt.cancel():p.currentTool==="rect"&&nt.cancel();break;case"delete":I.selectedWallId&&Mt();break;case"1":ln("select");break;case"2":ln("wall");break;case"3":ln("rect");break;case"4":ln("eraser");break;case"l":_e(),$t();break;case"g":mn();break;case"k":ke();break;default:if(E.ctrlKey)switch(E.key){case"z":E.preventDefault(),hn();break;case"y":E.preventDefault(),Ie();break}break}if((E.ctrlKey||E.metaKey)&&E.key==="s"){E.preventDefault(),jt();return}if(E.ctrlKey||E.metaKey)switch(E.key){case"+":case"=":E.preventDefault(),t=Math.min(e.zoom()*1.125,10),e.zoom(t),$t();return;case"-":E.preventDefault(),t=Math.max(e.zoom()*.875,.01),e.zoom(t),$t();return}}},Te=E=>{E.code==="Space"&&(E.preventDefault(),p.isSpacePressed=!1,document.body.style.cursor="",p.currentTool!=="select"&&e.panZoom({...Gf}))},ke=()=>{Ni.value=!Ni.value,e.find(".key").forEach(E=>{Ni.value?E.show():E.hide()}),localStorage.setItem("showKeys",Ni.value)},Jt=C({selectHandlers:{onClick:E=>{const P=St(E);Y(P),tt()},onMouseDown:E=>{const P=St(E),z=H(P);z?I.selectedWallId===z?Kt.start(E):(I.selectedWallId=z,tt()):I.selectedWallId=null},onMouseMove:E=>{S&&Kt.move(E)},onMouseUp:()=>{S&&Kt.end()}},wallHandlers:{onClick:E=>{p.isSpacePressed||zt.onClick(St(E))},onMouseDown:E=>{p.isSpacePressed},onMouseMove:E=>{p.isSpacePressed||zt.preview(St(E))},onMouseUp:()=>{p.isSpacePressed}},rectHandlers:{onClick:E=>{if(!p.isSpacePressed){const P=St(E);nt.startPoint?nt.finish(P):nt.start(P)}},onMouseDown:E=>{p.isSpacePressed},onMouseMove:E=>{p.isSpacePressed||nt.move(St(E))},onMouseUp:()=>{p.isSpacePressed}},eraserHandlers:{onClick:E=>{if(p.isSpacePressed)return;const P=St(E),z=At.getWallsInRange(P);z.length>0&&(We(),z.forEach(Z=>{const lt=r.find(`[data-id='${Z.id}']`)[0];lt&&lt.remove();const st=c.findIndex(Et=>Et.id===Z.id);st!==-1&&c.splice(st,1),typeof Z.id=="number"&&d.push(Z.id)}),$t())},onMouseDown:E=>{p.isSpacePressed||(We(),At.start())},onMouseMove:E=>{p.isSpacePressed?(ct==null||ct.panControls.move(E),At.cleanup()):At.move(St(E))},onMouseUp:()=>{p.isSpacePressed||At.stop()}}}),Zt=(E,P)=>{if(P.button===2){p.currentTool==="wall"?zt.cancel():p.currentTool==="rect"&&nt.cancel();return}if(E==="onMouseMove"&&le(P),P.button===1||p.isSpacePressed)switch(E){case"onMouseDown":document.body.style.cursor="grab";return;case"onMouseMove":return;case"onMouseUp":document.body.style.cursor="";return}const z=Jt[p.currentTool];z&&z[E]&&z[E](P)},We=()=>W(c),hn=()=>vt(c,r,yt.renderWall,$t),Ie=()=>ut(c,r,yt.renderWall,$t),_e=()=>{p.showLengthLabels=!p.showLengthLabels,localStorage.setItem("showLengthLabels",p.showLengthLabels),$t()},mn=()=>{wo.value=!wo.value,wo.value?Ct():Mc.toggleGrid(e,!1),localStorage.setItem("showGrid",wo.value)},ln=E=>{switch(p.currentTool){case"wall":zt.cancel();break;case"rect":nt.cancel();break;case"eraser":At.cleanup(),At.stop();break}m(E),E==="eraser"&&At.createPreview(),E==="select"?e.panZoom({...jl}):e.panZoom({...Gf})},yn=kt({x:0,y:0}),Me=E=>{switch(ua.value){case"cm":return`${(E/10).toFixed(1)}cm`;case"m":return`${(E/1e3).toFixed(2)}m`;default:return`${Math.round(E)}mm`}},Le=()=>{const E=["mm","cm","m"],P=E.indexOf(ua.value);ua.value=E[(P+1)%E.length],localStorage.setItem("displayUnit",ua.value),$t()},le=E=>{const P=St(E);yn.value={x:Math.round(P.x),y:Math.round(P.y)}},Je=E=>{le(E),Zt("onMouseMove",E)};return{walls:c,roomId:h,fetchWalls:Qt,saveWalls:jt,toolState:p,executeToolEvent:Zt,initializeCanvas:at,handleKeyDown:qt,handleKeyUp:Te,handleToolChange:ln,setWallThickness:y,setSnapDistance:x,wallControls:zt,rectTool:nt,canUndo:q,canRedo:Q,undo:hn,redo:Ie,toggleLengthLabels:_e,selection:I,selectWall:Y,selectedWallLength:j,selectedWallThickness:T,updateSelectedWallLength:B,updateSelectedWallThickness:k,deleteSelectedWall:Mt,viewbox:se(()=>ct==null?void 0:ct.viewbox),showGrid:wo,toggleGrid:mn,showKeys:Ni,toggleKeys:ke,showDimension:e3,mousePosition:yn,displayUnit:ua,formatLength:Me,cycleDisplayUnit:Le,handleSVGMouseMove:Je}}),n3={class:"sidebar-left"},r3={class:"tools-container"},s3={class:"tool-group"},i3=["disabled"],o3=["disabled"],a3={class:"tool-group"},l3={class:"toggle-tools"},c3={class:"tooltip"},u3={class:"tooltip"},f3={class:"tooltip"},h3={__name:"LeftSidebar",setup(e){const t=wd();return(n,r)=>{const s=to("router-link");return mt(),bt("aside",n3,[b("div",r3,[Ce(s,{to:"/room",class:"tool-button"},{default:jr(()=>r[9]||(r[9]=[b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)])),_:1}),b("div",s3,[b("button",{class:"tool-button",onClick:r[0]||(r[0]=(...o)=>F(t).undo&&F(t).undo(...o)),disabled:!F(t).canUndo},r[10]||(r[10]=[b("i",{class:"icon"},"↩",-1),b("span",{class:"tooltip"},"뒤로 [Ctrl + Z]",-1)]),8,i3),b("button",{class:"tool-button",onClick:r[1]||(r[1]=(...o)=>F(t).redo&&F(t).redo(...o)),disabled:!F(t).canRedo},r[11]||(r[11]=[b("i",{class:"icon"},"↪",-1),b("span",{class:"tooltip"},"앞으로 [Ctrl + Y]",-1)]),8,o3)]),b("div",a3,[b("button",{class:or(["tool-button",{active:F(t).toolState.currentTool==="select"}]),onClick:r[2]||(r[2]=o=>F(t).handleToolChange("select"))},r[12]||(r[12]=[b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("path",{d:"M4 4l7 7m-7-7l7 16l3-7l7-3z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),b("span",{class:"tooltip"},"선택 [1]",-1)]),2),b("button",{class:or(["tool-button",{active:F(t).toolState.currentTool==="wall"}]),onClick:r[3]||(r[3]=o=>F(t).handleToolChange("wall"))},r[13]||(r[13]=[b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("path",{d:"M4 12h16",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1),b("span",{class:"tooltip"},"선 그리기 [2]",-1)]),2),b("button",{class:or(["tool-button",{active:F(t).toolState.currentTool==="rect"}]),onClick:r[4]||(r[4]=o=>F(t).handleToolChange("rect"))},r[14]||(r[14]=[b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("rect",{x:"4",y:"4",width:"16",height:"16",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),b("span",{class:"tooltip"},"사각형 그리기 [3]",-1)]),2),b("button",{class:or(["tool-button",{active:F(t).toolState.currentTool==="eraser"}]),onClick:r[5]||(r[5]=o=>F(t).handleToolChange("eraser"))},r[15]||(r[15]=[b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("path",{d:"M20 20H4l4-4m3.5-3.5l7-7a2.12 2.12 0 013 0v0a2.12 2.12 0 010 3l-7 7z",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1),b("span",{class:"tooltip"},"지우개 [4]",-1)]),2)]),b("div",l3,[b("button",{onClick:r[6]||(r[6]=o=>F(t).toggleLengthLabels()),class:"tool-button"},[r[16]||(r[16]=b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("path",{d:"M4 12h16m-3-3l3 3-3 3M7 9l-3 3 3 3",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)),b("span",c3,"길이표시 "+ae(F(t).toolState.showLengthLabels?"끄기":"켜기")+" [L]",1)]),b("button",{onClick:r[7]||(r[7]=o=>F(t).toggleGrid()),class:"tool-button"},[r[17]||(r[17]=b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("path",{d:"M4 4h16v16H4zm5.333 0v16M14.667 4v16M4 9.333h16M4 14.667h16",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),b("span",u3,"그리드 "+ae(F(t).showGrid?"끄기":"켜기")+" [G]",1)]),b("button",{onClick:r[8]||(r[8]=o=>F(t).toggleKeys()),class:"tool-button"},[r[18]||(r[18]=b("svg",{viewBox:"0 0 24 24",class:"icon"},[b("path",{d:"M12 12m-8 0a8 8 0 1 0 16 0a8 8 0 1 0 -16 0M12 2v20M2 12h20",fill:"none",stroke:"currentColor","stroke-width":"2"})],-1)),b("span",f3,"키포인트 "+ae(F(t).showKeys?"끄기":"켜기")+" [K]",1)])])])])}}},d3=nn(h3,[["__scopeId","data-v-29ec463a"]]),ms=Dt.create({baseURL:void 0,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("accessToken")}`}});ms.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e.data instanceof FormData&&(e.headers["Content-Type"]="multipart/form-data"),e},e=>Promise.reject(e));const Bo=es("editorStore",()=>{const e=kt(null),t=kt(""),n=kt(!1),r=kt("");return{roomId:e,role:t,isExistsFurniture:n,editorMode:r,initEditor:async c=>{e.value=c;try{0<(await ms.get(`/api/rooms/${c}/furnitures/count`)).data.count?n.value=!0:n.value=!1}catch(u){console.error("Error fetching furniture:",u)}},getRole:async c=>{try{const u=await ms.get(`/api/rooms/${e.value}/users`);t.value="",u.data.users.forEach(h=>{const{nickname:d,isHost:p,profileImageUrl:m}=h;c===d&&(p?t.value="host":t.value="guest")})}catch(u){console.error("Error fetching users:",u)}},changeEditorMode:c=>{if(c){r.value=c;return}t.value==="host"?n.value?r.value="furniture":r.value="floor":t.value==="guest"?r.value="furniture":r.value="none"}}}),p3={class:"sidebar-right"},g3={class:"settings-panel"},m3={class:"property-group"},y3={class:"property-item"},v3={class:"input-group"},b3=["value"],x3={class:"button-group"},w3={class:"properties-panel"},_3={key:0,class:"property-group"},S3={class:"property-item"},C3={class:"input-group"},E3=["value"],A3={class:"button-group"},T3={class:"property-item"},k3={class:"input-group"},M3=["value"],R3={class:"button-group"},P3={key:1,class:"no-selection"},O3={class:"bottom-container"},I3={class:"coordinates-panel"},L3={class:"coordinates-content"},N3={class:"coordinate-row"},D3={class:"coordinate-row"},$3={__name:"RightSidebar",setup(e){const t=Bo(),n=wd();return Br(),(r,s)=>(mt(),bt("aside",p3,[b("div",{onMousedown:s[0]||(s[0]=(...o)=>F(n).saveWalls&&F(n).saveWalls(...o)),onClick:s[1]||(s[1]=o=>F(t).changeEditorMode("furniture")),class:"back-button"},s[14]||(s[14]=[Dn(" 가구 에디터로 "),b("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none"},[b("path",{d:"M9 6l6 6-6 6"})],-1)]),32),b("div",g3,[s[16]||(s[16]=b("h3",{class:"panel-title"},"기본 설정",-1)),b("div",m3,[b("div",y3,[s[15]||(s[15]=b("label",null,"기본 벽 두께 (mm)",-1)),b("div",v3,[b("input",{type:"number",value:F(n).toolState.wallThickness,onInput:s[2]||(s[2]=o=>F(n).setWallThickness(o.target.value)),min:"1",step:"10"},null,40,b3),b("div",x3,[b("button",{onClick:s[3]||(s[3]=o=>F(n).setWallThickness(F(n).toolState.wallThickness-10))},"-"),b("button",{onClick:s[4]||(s[4]=o=>F(n).setWallThickness(F(n).toolState.wallThickness+10))},"+")])])])])]),b("div",w3,[s[20]||(s[20]=b("h3",{class:"panel-title"},"속성 편집",-1)),F(n).selection.selectedWallId?(mt(),bt("div",_3,[b("div",S3,[s[17]||(s[17]=b("label",null,"벽 두께 (mm)",-1)),b("div",C3,[b("input",{type:"number",value:F(n).selectedWallThickness,onInput:s[5]||(s[5]=o=>F(n).updateSelectedWallThickness(o.target.value)),min:"1",step:"10"},null,40,E3),b("div",A3,[b("button",{onClick:s[6]||(s[6]=o=>F(n).updateSelectedWallThickness("-"))},"-"),b("button",{onClick:s[7]||(s[7]=o=>F(n).updateSelectedWallThickness("+"))},"+")])])]),b("div",T3,[s[18]||(s[18]=b("label",null,"벽 길이 (mm)",-1)),b("div",k3,[b("input",{type:"number",value:F(n).selectedWallLength,onInput:s[8]||(s[8]=o=>F(n).updateSelectedWallLength(o.target.value)),min:"1",step:"100"},null,40,M3),b("div",R3,[b("button",{onClick:s[9]||(s[9]=o=>F(n).updateSelectedWallLength("-"))},"-"),b("button",{onClick:s[10]||(s[10]=o=>F(n).updateSelectedWallLength("+"))},"+")])])]),b("button",{onClick:s[11]||(s[11]=(...o)=>F(n).deleteSelectedWall&&F(n).deleteSelectedWall(...o)),class:"delete-button"}," 벽 삭제 ")])):(mt(),bt("div",P3,s[19]||(s[19]=[b("p",null,"선택된 개체가 없습니다.",-1)])))]),b("div",O3,[b("div",I3,[b("div",L3,[b("div",N3,[s[21]||(s[21]=b("span",null,"X:",-1)),b("span",null,ae(F(n).formatLength(F(n).mousePosition.x)),1)]),b("div",D3,[s[22]||(s[22]=b("span",null,"Y:",-1)),b("span",null,ae(F(n).formatLength(F(n).mousePosition.y)),1)]),b("button",{onClick:s[12]||(s[12]=(...o)=>F(n).cycleDisplayUnit&&F(n).cycleDisplayUnit(...o)),class:"unit-button"}," 단위: "+ae(F(n).displayUnit),1)])]),b("button",{onClick:s[13]||(s[13]=(...o)=>F(n).saveWalls&&F(n).saveWalls(...o)),class:"save-button",style:{"margin-top":"auto",background:"#4f46e5"}}," 도면 저장하기 ")])]))}},U3=nn($3,[["__scopeId","data-v-591cc4c6"]]),F3={key:0,class:"tutorial-overlay"},V3={class:"tutorial-text"},B3={class:"tutorial-buttons"},H3={__name:"Tutorial",setup(e){const t=kt(!1),n=kt(0),r=[{text:"여기서 도면을 그리거나 수정할 수 있어요",position:"center-left",highlight:{top:"190px",left:"12px",width:"40px",height:"190px"}},{text:"여기서 그리드와 길이를 껐다 킬 수 있어요",position:"bottom-left",highlight:{bottom:"8px",left:"12px",width:"40px",height:"140px"}},{text:"그럼 시작해 볼까요?",position:"center",highlight:null}],s=se(()=>r[n.value]),o=se(()=>n.value===r.length-1),l=se(()=>s.value.highlight?s.value.highlight:{});Hn(()=>{localStorage.getItem("hasSeenFloorEditorTutorial")||(t.value=!0)});const c=()=>{if(o.value){t.value=!1,localStorage.setItem("hasSeenFloorEditorTutorial","true");return}n.value++},u=()=>{n.value>0&&n.value--};return(h,d)=>(mt(),Fs(hT,{name:"fade"},{default:jr(()=>[t.value?(mt(),bt("div",F3,[d[0]||(d[0]=b("div",{class:"overlay-background"},null,-1)),b("div",{class:or(["tutorial-content",s.value.position])},[b("p",V3,ae(s.value.text),1),b("div",B3,[n.value>0?(mt(),bt("button",{key:0,onClick:u,class:"tutorial-button secondary"}," 이전 ")):re("",!0),b("button",{onClick:c,class:"tutorial-button primary"},ae(o.value?"시작하기":"다음"),1)])],2),s.value.highlight?(mt(),bt("div",{key:0,class:"highlight-area",style:qa(l.value)},null,4)):re("",!0)])):re("",!0)]),_:1}))}},W3=nn(H3,[["__scopeId","data-v-9bcc3d9a"]]),z3={class:"editor"},q3={__name:"FloorEditor",setup(e){const t=wd(),n=kt(null),r=Br();Bo();const s=o=>{(o.ctrlKey||o.metaKey)&&(o.key==="-"||o.key==="+"||o.key==="=")&&o.preventDefault()};return Hn(()=>{t.fetchWalls(r.params.roomId),t.initializeCanvas(n.value),window.addEventListener("keydown",t.handleKeyDown),window.addEventListener("keyup",t.handleKeyUp),window.addEventListener("keydown",s)}),Xa(()=>{window.removeEventListener("keydown",t.handleKeyDown),window.removeEventListener("keyup",t.handleKeyUp),window.removeEventListener("keydown",s)}),(o,l)=>(mt(),bt("div",z3,[Ce(d3),Ce(W3),b("div",{class:"canvas",ref_key:"canvas",ref:n,onMousedown:[l[0]||(l[0]=wr(c=>F(t).executeToolEvent("onMouseDown",c),["middle","prevent"])),l[1]||(l[1]=c=>F(t).executeToolEvent("onMouseDown",c))],onMousemove:l[2]||(l[2]=c=>F(t).executeToolEvent("onMouseMove",c)),onMouseup:[l[3]||(l[3]=wr(c=>F(t).executeToolEvent("onMouseUp",c),["middle","prevent"])),l[4]||(l[4]=c=>F(t).executeToolEvent("onMouseUp",c))],onClick:l[5]||(l[5]=c=>F(t).executeToolEvent("onClick",c)),onContextmenu:l[6]||(l[6]=wr(()=>{},["prevent"]))},null,544),Ce(U3)]))}},Lv=nn(q3,[["__scopeId","data-v-8ac962f5"]]),wy=e=>(e.changedTouches&&(e=e.changedTouches[0]),{x:e.clientX,y:e.clientY});class G3{constructor(t){t.remember("_draggable",this),this.el=t,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(t){t?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(t){const n=!t.type.indexOf("mouse");if(n&&t.which!==1&&t.buttons!==0||this.el.dispatch("beforedrag",{event:t,handler:this}).defaultPrevented)return;t.preventDefault(),t.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(wy(t));const r=(n?"mousemove":"touchmove")+".drag",s=(n?"mouseup":"touchend")+".drag";Us(window,r,this.drag,this,{passive:!1}),Us(window,s,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:t,handler:this,box:this.box})}drag(t){const{box:n,lastClick:r}=this,s=this.el.point(wy(t)),o=s.x-r.x,l=s.y-r.y;if(!o&&!l)return n;const c=n.x+o,u=n.y+l;this.box=new Sn(c,u,n.w,n.h),this.lastClick=s,!this.el.dispatch("dragmove",{event:t,handler:this,box:this.box,dx:o,dy:l}).defaultPrevented&&this.move(c,u)}move(t,n){this.el.type==="svg"?ru.prototype.move.call(this.el,t,n):this.el.move(t,n)}endDrag(t){this.drag(t),this.el.fire("dragend",{event:t,handler:this,box:this.box}),ar(window,"mousemove.drag"),ar(window,"touchmove.drag"),ar(window,"mouseup.drag"),ar(window,"touchend.drag"),this.init(!0)}}ge(ss,{draggable(e=!0){return(this.remember("_draggable")||new G3(this)).init(e),this}});var fa=function(t){return t.touches||[{clientX:t.clientX,clientY:t.clientY}]};ge(eu,{panZoom:function(t){var n,r,s,o,l,c,u,h,d,p,m,y,x=this;if(this.off(".panZoom"),t===!1)return this;t=(n=t)!=null?n:{};var C=(r=t.zoomFactor)!=null?r:2,S=(s=t.zoomMin)!=null?s:Number.MIN_VALUE,M=(o=t.zoomMax)!=null?o:Number.MAX_VALUE,$=(l=t.wheelZoom)!=null?l:!0,I=(c=t.pinchZoom)!=null?c:!0,D=(u=t.panning)!=null?u:!0,q=(h=t.panButton)!=null?h:0,Q=(d=t.oneFingerPan)!=null?d:!1,W=(p=t.margins)!=null?p:!1,vt=(m=t.wheelZoomDeltaModeLinePixels)!=null?m:17,ut=(y=t.wheelZoomDeltaModeScreenPixels)!=null?y:53,_t,wt,ft=!1,Ot=this.viewbox(),Lt=function(nt){if(!W)return nt;var At=W.top,$t=W.left,me=W.bottom,K=W.right,pt=x.attr(["width","height"]),ht=pt.width,Tt=pt.height,xt=x.node.preserveAspectRatio.baseVal,A=0,R=0,N=0,Y=0;if(xt.align!==xt.SVG_PRESERVEASPECTRATIO_NONE){var tt=ht/Tt,T=Ot.width/Ot.height;if(T!==tt){var k=xt.meetOrSlice!==xt.SVG_MEETORSLICE_SLICE,j=tt>T?"width":"height",B=j==="width",H=k&&B||!k&&!B,et=H?tt/T:T/tt,rt=nt[j]-nt[j]*et;H?xt.align===xt.SVG_PRESERVEASPECTRATIO_XMIDYMIN||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMIDYMID||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMIDYMAX?(A=rt/2,R=-rt/2):xt.align===xt.SVG_PRESERVEASPECTRATIO_XMINYMIN||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMINYMID||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMINYMAX?R=-rt:(xt.align===xt.SVG_PRESERVEASPECTRATIO_XMAXYMIN||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMAXYMID||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMAXYMAX)&&(A=rt):xt.align===xt.SVG_PRESERVEASPECTRATIO_XMINYMID||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMIDYMID||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMAXYMID?(N=rt/2,Y=-rt/2):xt.align===xt.SVG_PRESERVEASPECTRATIO_XMINYMIN||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMIDYMIN||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMAXYMIN?Y=-rt:(xt.align===xt.SVG_PRESERVEASPECTRATIO_XMINYMAX||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMIDYMAX||xt.align===xt.SVG_PRESERVEASPECTRATIO_XMAXYMAX)&&(N=rt)}}var yt=Ot.width+Ot.x-$t-A,Mt=Ot.x+K-nt.width-R,Ut=Ot.height+Ot.y-At-N,Bt=Ot.y+me-nt.height-Y;return nt.x=Math.min(yt,Math.max(Mt,nt.x)),nt.y=Math.min(Ut,Math.max(Bt,nt.y)),nt},St=function(nt){nt.preventDefault();var At;switch(nt.deltaMode){case 1:At=nt.deltaY*vt;break;case 2:At=nt.deltaY*ut;break;default:At=nt.deltaY;break}var $t=Math.pow(1+C,-1*At/100)*this.zoom(),me=this.point(nt.clientX,nt.clientY);if($t>M&&($t=M),$t<S&&($t=S),this.dispatch("zoom",{level:$t,focus:me}).defaultPrevented)return this;if(this.zoom($t,me),W){var K=Lt(this.viewbox());this.viewbox(K)}},Ct=function Kt(nt){if(wt=fa(nt),wt.length<2){D&&Q&&Qt.call(this,nt);return}D&&Q&&jt.call(this,nt),nt.preventDefault(),!this.dispatch("pinchZoomStart",{event:nt}).defaultPrevented&&(this.off("touchstart.panZoom",Kt),ft=!0,Us(document,"touchmove.panZoom",at,this,{passive:!1}),Us(document,"touchend.panZoom",ct,this,{passive:!1}))},ct=function Kt(nt){nt.preventDefault();var At=fa(nt);At.length>1||(ft=!1,this.dispatch("pinchZoomEnd",{event:nt}),ar(document,"touchmove.panZoom",at),ar(document,"touchend.panZoom",Kt),this.on("touchstart.panZoom",Ct),At.length&&D&&Q&&Qt.call(this,nt))},at=function(nt){nt.preventDefault();var At=fa(nt),$t=this.zoom(),me=Math.sqrt(Math.pow(wt[0].clientX-wt[1].clientX,2)+Math.pow(wt[0].clientY-wt[1].clientY,2)),K=Math.sqrt(Math.pow(At[0].clientX-At[1].clientX,2)+Math.pow(At[0].clientY-At[1].clientY,2)),pt=me/K;($t<S&&pt>1||$t>M&&pt<1)&&(pt=1);var ht={x:At[0].clientX+.5*(At[1].clientX-At[0].clientX),y:At[0].clientY+.5*(At[1].clientY-At[0].clientY)},Tt={x:wt[0].clientX+.5*(wt[1].clientX-wt[0].clientX),y:wt[0].clientY+.5*(wt[1].clientY-wt[0].clientY)},xt=this.point(ht.x,ht.y),A=this.point(2*ht.x-Tt.x,2*ht.y-Tt.y),R=new Sn(this.viewbox()).transform(new we().translate(-A.x,-A.y).scale(pt,0,0).translate(xt.x,xt.y));Lt(R),this.viewbox(R),wt=At,this.dispatch("zoom",{box:R,focus:A})},Qt=function Kt(nt){var At=nt.type.indexOf("mouse")>-1;At&&nt.button!==q&&nt.which!==q+1||(nt.preventDefault(),this.off("mousedown.panZoom",Kt),wt=fa(nt),!ft&&(this.dispatch("panStart",{event:nt}),_t={x:wt[0].clientX,y:wt[0].clientY},Us(document,"touchmove.panZoom mousemove.panZoom",zt,this,{passive:!1}),Us(document,"touchend.panZoom mouseup.panZoom",jt,this,{passive:!1})))},jt=function Kt(nt){nt.preventDefault(),ar(document,"touchmove.panZoom mousemove.panZoom",zt),ar(document,"touchend.panZoom mouseup.panZoom",Kt),this.on("mousedown.panZoom",Qt),this.dispatch("panEnd",{event:nt})},zt=function(nt){nt.preventDefault();var At=fa(nt),$t={x:At[0].clientX,y:At[0].clientY},me=this.point($t.x,$t.y),K=this.point(_t.x,_t.y),pt=[K.x-me.x,K.y-me.y];if(!(!pt[0]&&!pt[1])){var ht=new Sn(this.viewbox()).transform(new we().translate(pt[0],pt[1]));_t=$t,Lt(ht),!this.dispatch("panning",{box:ht,event:nt}).defaultPrevented&&this.viewbox(ht)}};return $&&this.on("wheel.panZoom",St,this,{passive:!1}),I&&this.on("touchstart.panZoom",Ct,this,{passive:!1}),D&&this.on("mousedown.panZoom",Qt,this,{passive:!1}),this}});const ma={LF:`
`,NULL:"\0"};class ci{constructor(t){const{command:n,headers:r,body:s,binaryBody:o,escapeHeaderValues:l,skipContentLengthHeader:c}=t;this.command=n,this.headers=Object.assign({},r||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=s||"",this.isBinaryBody=!1),this.escapeHeaderValues=l||!1,this.skipContentLengthHeader=c||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}static fromRawFrame(t,n){const r={},s=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const l=s(o[0]);let c=s(o[1]);n&&t.command!=="CONNECT"&&t.command!=="CONNECTED"&&(c=ci.hdrValueUnEscape(c)),r[l]=c}return new ci({command:t.command,headers:r,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?ci.toUnit8Array(t,this._binaryBody).buffer:t+this._body+ma.NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){const r=this.headers[n];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?t.push(`${n}:${ci.hdrValueEscape(`${r}`)}`):t.push(`${n}:${r}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(ma.LF)+ma.LF+ma.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?new TextEncoder().encode(t).length:0}static toUnit8Array(t,n){const r=new TextEncoder().encode(t),s=new Uint8Array([0]),o=new Uint8Array(r.length+n.length+s.length);return o.set(r),o.set(n,r.length),o.set(s,r.length+n.length),o}static marshall(t){return new ci(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}}const _y=0,Kl=10,Zl=13,X3=58;let Y3=class{constructor(t,n){this.onFrame=t,this.onIncomingPing=n,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,n=!1){let r;if(typeof t=="string"?r=this._encoder.encode(t):r=new Uint8Array(t),n&&r[r.length-1]!==0){const s=new Uint8Array(r.length+1);s.set(r,0),s[r.length]=0,r=s}for(let s=0;s<r.length;s++){const o=r[s];this._onByte(o)}}_collectFrame(t){if(t!==_y&&t!==Zl){if(t===Kl){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(t!==Zl){if(t===Kl){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_collectHeaders(t){if(t!==Zl){if(t===Kl){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(t===X3){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(t)}_collectHeaderValue(t){if(t!==Zl){if(t===Kl){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(n=>n[0]==="content-length")[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){if(t===_y){this._retrievedBody();return}this._consumeByte(t)}_collectBodyFixedSize(t){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(t)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var Ds;(function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"})(Ds=Ds||(Ds={}));var Dr;(function(e){e[e.ACTIVE=0]="ACTIVE",e[e.DEACTIVATING=1]="DEACTIVATING",e[e.INACTIVE=2]="INACTIVE"})(Dr=Dr||(Dr={}));class Kn{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Kn.V1_0="1.0";Kn.V1_1="1.1";Kn.V1_2="1.2";Kn.default=new Kn([Kn.V1_2,Kn.V1_1,Kn.V1_0]);function j3(e,t){e.terminate=function(){const n=()=>{};this.onerror=n,this.onmessage=n,this.onopen=n;const r=new Date,s=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=l=>{const c=new Date().getTime()-r.getTime();t(`Discarded socket (#${s})  closed after ${c}ms, with code/reason: ${l.code}/${l.reason}`)},this.close(),o==null||o.call(e,{code:4001,reason:`Quick discarding socket (#${s}) without waiting for the shutdown sequence.`,wasClean:!1})}}class K3{constructor(t,n,r){this._client=t,this._webSocket=n,this._connected=!1,this._serverFrameHandlers={CONNECTED:s=>{this.debug(`connected to server ${s.headers.server}`),this._connected=!0,this._connectedVersion=s.headers.version,this._connectedVersion===Kn.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(s.headers),this.onConnect(s)},MESSAGE:s=>{const o=s.headers.subscription,l=this._subscriptions[o]||this.onUnhandledMessage,c=s,u=this,h=this._connectedVersion===Kn.V1_2?c.headers.ack:c.headers["message-id"];c.ack=(d={})=>u.ack(h,o,d),c.nack=(d={})=>u.nack(h,o,d),l(c)},RECEIPT:s=>{const o=this._receiptWatchers[s.headers["receipt-id"]];o?(o(s),delete this._receiptWatchers[s.headers["receipt-id"]]):this.onUnhandledReceipt(s)},ERROR:s=>{this.onStompError(s)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=r.debug,this.stompVersions=r.stompVersions,this.connectHeaders=r.connectHeaders,this.disconnectHeaders=r.disconnectHeaders,this.heartbeatIncoming=r.heartbeatIncoming,this.heartbeatOutgoing=r.heartbeatOutgoing,this.splitLargeFrames=r.splitLargeFrames,this.maxWebSocketChunkSize=r.maxWebSocketChunkSize,this.forceBinaryWSFrames=r.forceBinaryWSFrames,this.logRawCommunication=r.logRawCommunication,this.appendMissingNULLonIncoming=r.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=r.discardWebsocketOnCommFailure,this.onConnect=r.onConnect,this.onDisconnect=r.onDisconnect,this.onStompError=r.onStompError,this.onWebSocketClose=r.onWebSocketClose,this.onWebSocketError=r.onWebSocketError,this.onUnhandledMessage=r.onUnhandledMessage,this.onUnhandledReceipt=r.onUnhandledReceipt,this.onUnhandledFrame=r.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new Y3(n=>{const r=ci.fromRawFrame(n,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${r}`),(this._serverFrameHandlers[r.command]||this.onUnhandledFrame)(r)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=n=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const r=n.data instanceof ArrayBuffer?new TextDecoder().decode(n.data):n.data;this.debug(`<<< ${r}`)}t.parseChunk(n.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=n=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(n)},this._webSocket.onerror=n=>{this.onWebSocketError(n)},this._webSocket.onopen=()=>{const n=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),n["accept-version"]=this.stompVersions.supportedVersions(),n["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:n})}}_setupHeartbeat(t){if(t.version!==Kn.V1_1&&t.version!==Kn.V1_2||!t["heart-beat"])return;const[n,r]=t["heart-beat"].split(",").map(s=>parseInt(s,10));if(this.heartbeatOutgoing!==0&&r!==0){const s=Math.max(this.heartbeatOutgoing,r);this.debug(`send PING every ${s}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===Ds.OPEN&&(this._webSocket.send(ma.LF),this.debug(">>> PING"))},s)}if(this.heartbeatIncoming!==0&&n!==0){const s=Math.max(this.heartbeatIncoming,n);this.debug(`check PONG every ${s}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>s*2&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},s)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===Ds.CONNECTING||this._webSocket.readyState===Ds.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&j3(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:n,headers:r,body:s,binaryBody:o,skipContentLengthHeader:l}=t,c=new ci({command:n,headers:r,body:s,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:l});let u=c.serialize();if(this.logRawCommunication?this.debug(`>>> ${u}`):this.debug(`>>> ${c}`),this.forceBinaryWSFrames&&typeof u=="string"&&(u=new TextEncoder().encode(u)),typeof u!="string"||!this.splitLargeFrames)this._webSocket.send(u);else{let h=u;for(;h.length>0;){const d=h.substring(0,this.maxWebSocketChunkSize);h=h.substring(this.maxWebSocketChunkSize),this._webSocket.send(d),this.debug(`chunk sent = ${d.length}, remaining = ${h.length}`)}}}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt=`close-${this._counter++}`),this.watchForReceipt(t.receipt,n=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(n)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===Ds.CONNECTING||this._webSocket.readyState===Ds.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:n,headers:r,body:s,binaryBody:o,skipContentLengthHeader:l}=t,c=Object.assign({destination:n},r);this._transmit({command:"SEND",headers:c,body:s,binaryBody:o,skipContentLengthHeader:l})}watchForReceipt(t,n){this._receiptWatchers[t]=n}subscribe(t,n,r={}){r=Object.assign({},r),r.id||(r.id=`sub-${this._counter++}`),r.destination=t,this._subscriptions[r.id]=n,this._transmit({command:"SUBSCRIBE",headers:r});const s=this;return{id:r.id,unsubscribe(o){return s.unsubscribe(r.id,o)}}}unsubscribe(t,n={}){n=Object.assign({},n),delete this._subscriptions[t],n.id=t,this._transmit({command:"UNSUBSCRIBE",headers:n})}begin(t){const n=t||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:n}});const r=this;return{id:n,commit(){r.commit(n)},abort(){r.abort(n)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,n,r={}){r=Object.assign({},r),this._connectedVersion===Kn.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"ACK",headers:r})}nack(t,n,r={}){return r=Object.assign({},r),this._connectedVersion===Kn.V1_2?r.id=t:r["message-id"]=t,r.subscription=n,this._transmit({command:"NACK",headers:r})}}class Z3{constructor(t={}){this.stompVersions=Kn.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=Dr.INACTIVE;const n=()=>{};this.debug=n,this.beforeConnect=n,this.onConnect=n,this.onDisconnect=n,this.onUnhandledMessage=n,this.onUnhandledReceipt=n,this.onUnhandledFrame=n,this.onStompError=n,this.onWebSocketClose=n,this.onWebSocketError=n,this.logRawCommunication=!1,this.onChangeState=n,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return(t=this._stompHandler)==null?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===Dr.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState(Dr.ACTIVE),this._connect()};this.state===Dr.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}async _connect(){if(await this.beforeConnect(),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");const t=this._createWebSocket();this._stompHandler=new K3(this,t,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:n=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(n)},onDisconnect:n=>{this.onDisconnect(n)},onStompError:n=>{this.onStompError(n)},onWebSocketClose:n=>{this._stompHandler=void 0,this.state===Dr.DEACTIVATING&&this._changeState(Dr.INACTIVE),this.onWebSocketClose(n),this.active&&this._schedule_reconnect()},onWebSocketError:n=>{this.onWebSocketError(n)},onUnhandledMessage:n=>{this.onUnhandledMessage(n)},onUnhandledReceipt:n=>{this.onUnhandledReceipt(n)},onUnhandledFrame:n=>{this.onUnhandledFrame(n)}}),this._stompHandler.start()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else if(this.brokerURL)t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}async deactivate(t={}){var o;const n=t.force||!1,r=this.active;let s;if(this.state===Dr.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState(Dr.DEACTIVATING),this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==Ds.CLOSED){const l=this._stompHandler.onWebSocketClose;s=new Promise((c,u)=>{this._stompHandler.onWebSocketClose=h=>{l(h),c()}})}else return this._changeState(Dr.INACTIVE),Promise.resolve();return n?(o=this._stompHandler)==null||o.discardWebsocket():r&&this._disposeStompHandler(),s}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,n){this._checkConnection(),this._stompHandler.watchForReceipt(t,n)}subscribe(t,n,r={}){return this._checkConnection(),this._stompHandler.subscribe(t,n,r)}unsubscribe(t,n={}){this._checkConnection(),this._stompHandler.unsubscribe(t,n)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,n,r={}){this._checkConnection(),this._stompHandler.ack(t,n,r)}nack(t,n,r={}){this._checkConnection(),this._stompHandler.nack(t,n,r)}}const $s=new Z3({brokerURL:void 0,reconnectDelay:5e3,heartbeatIncoming:4e3,heartbeatOutgoing:4e3}),ds={};$s.onStompError=e=>{console.error("WebSocket Error:",e)};const Q3=(e,t,n)=>{let r=`/sub/rooms/${e}`,s=`/sub/chat/${e}`;$s.onConnect=()=>{ds[r]||(ds[r]=$s.subscribe(r,o=>{t(JSON.parse(o.body))},{id:r})),ds[s]||(ds[s]=$s.subscribe(s,o=>{n(JSON.parse(o.body))},{id:s}))},$s.onWebSocketError=o=>{console.error("WebSocket 연결 오류:",o)},$s.activate()},Nv=e=>{let t=`/sub/rooms/${e}`,n=`/sub/chat/${e}`;ds[t]&&(ds[t].unsubscribe(),delete ds[t]),ds[n]&&(ds[n].unsubscribe(),delete ds[n]),$s.deactivate()},Dv=(e,t)=>{$s.connected&&$s.publish({destination:e,body:JSON.stringify(t)})},Sy="#421",su=es("furnitureEditorStore",()=>{let e=null,t=null,n=null;const{walls:r,setWallLayer:s}=Iv(),o=kt(null),{toolState:l,toggleLengthLabels:c,createToolHandlers:u}=Ov();tr({selectedWallId:null});const h=T=>Rv.getSVGCoordinates(T,e),d=()=>Mc.createGrid(e);let p=null;const m=kt(localStorage.getItem("showGrid")!=="false"),y=()=>{m.value=!m.value,m.value?d():Mc.toggleGrid(e,!1),localStorage.setItem("showGrid",m.value)},x=T=>{e=Mv().addTo(T).size("100%","100%").panZoom({zoomMin:.01,zoomMax:10,zoomFactor:.125}),e.on("zoom",()=>{p.viewbox.width=e.viewbox().width,S()}),e.on("panStart",()=>{at.furnitureName&&Ct.value[at.index].children()[0].children()[1].attr({"stroke-width":0})}),m.value&&d(),p=Pv(e),e.viewbox(p.viewbox.x,p.viewbox.y,p.viewbox.width,p.viewbox.height),n=e.group().addClass("furniture-group"),t=e.group().addClass("wall-layer"),s(t)},C=async()=>{try{const T=await ms.get(`/api/rooms/${o.value}/walls`);T.data&&T.data.walls&&(r.splice(0,r.length,...T.data.walls.filter(k=>k.isDeleted!==!0).map(k=>({id:k.id,x1:k.startx,y1:k.starty,x2:k.endx,y2:k.endy,thickness:k.thickness||100}))),t&&(t.children().forEach(k=>k.remove()),r.forEach(k=>{Q.renderWall(k)}),S(),W()))}catch(T){console.error("벽 데이터를 불러오는 중 오류 발생:",T)}},S=()=>{q()},M=(T,k,j,B)=>{const H=p.viewbox.width*.0125,et=Math.PI*.4,rt=B?1:-1,yt={x:T+rt*H*Math.cos(j+et),y:k+rt*H*Math.sin(j+et)},Mt={x:T,y:k},Ut={x:T+rt*H*Math.cos(j-et),y:k+rt*H*Math.sin(j-et)};return e.polyline([[yt.x,yt.y],[Mt.x,Mt.y],[Ut.x,Ut.y]]).fill("none").stroke({width:p.viewbox.width*.00125,color:"#000"}).addClass("dimension")},$=(T,k)=>e.line(T.x,T.y,k.x,k.y).stroke({width:p.viewbox.width*.00125,color:"#000"}).addClass("dimension"),I=(T,k,j)=>r.filter(B=>B.id!==k&&(B.x1===T.x&&B.y1===T.y||B.x2===T.x&&B.y2===T.y)).map(B=>{const H=B.x1===T.x&&B.y1===T.y,et=Math.abs(B.y2-B.y1)>Math.abs(B.x2-B.x1);return j?{...B,isVertical:et,isLeftward:et?!1:H?B.x1>B.x2:B.x2>B.x1,isRightward:et?!1:H?B.x1<B.x2:B.x2<B.x1}:{...B,isVertical:et,isLower:et?H?B.y1<B.y2:B.y2<B.y1:!1,isUpper:et?H?B.y1>B.y2:B.y2>B.y1:!1}}),D=T=>{const k=r.find(_e=>_e.id===T);if(!k)return;const j=Math.abs(k.y2-k.y1)>Math.abs(k.x2-k.x1),B=k.y1>k.y2,H=k.x1<k.x2,et=k.thickness/2+p.viewbox.width*.0125;let rt=0,yt=0,Mt=0,Ut=0,Bt=0,qt=0,Te=0,ke=0;if(j){let _e=B?{x:k.x2,y:k.y2}:{x:k.x1,y:k.y1},mn=B?{x:k.x1,y:k.y1}:{x:k.x2,y:k.y2};const ln=I(_e,T,!0),yn=I(mn,T,!0),Me=ln.filter(E=>E.isLeftward),Le=ln.filter(E=>E.isRightward),le=yn.filter(E=>E.isLeftward),Je=yn.filter(E=>E.isRightward);Me.length>0&&Le.length>0?(Bt-=Me[0].thickness/2,Te-=Le[0].thickness/2):Me.length>0?(Bt-=Me[0].thickness/2,Te+=Me[0].thickness/2):Le.length>0&&(Bt+=Le[0].thickness/2,Te-=Le[0].thickness/2),le.length>0&&Je.length>0?(qt-=le[0].thickness/2,ke-=Je[0].thickness/2):le.length>0?(qt-=le[0].thickness/2,ke+=le[0].thickness/2):Je.length>0&&(qt+=Je[0].thickness/2,ke-=Je[0].thickness/2)}else{let _e=H?{x:k.x1,y:k.y1}:{x:k.x2,y:k.y2},mn=H?{x:k.x2,y:k.y2}:{x:k.x1,y:k.y1};const ln=I(_e,T,!1),yn=I(mn,T,!1),Me=ln.filter(E=>E.isUpper),Le=ln.filter(E=>E.isLower),le=yn.filter(E=>E.isUpper),Je=yn.filter(E=>E.isLower);Me.length>0&&Le.length>0?(rt-=Me[0].thickness/2,Mt-=Le[0].thickness/2):Me.length>0?(rt-=Me[0].thickness/2,Mt+=Me[0].thickness/2):Le.length>0&&(rt+=Le[0].thickness/2,Mt-=Le[0].thickness/2),le.length>0&&Je.length>0?(yt-=le[0].thickness/2,Ut-=Je[0].thickness/2):le.length>0?(yt-=le[0].thickness/2,Ut+=le[0].thickness/2):Je.length>0&&(yt+=Je[0].thickness/2,Ut-=Je[0].thickness/2)}e.find(`.length-label[data-id='${k.id}']`).forEach(_e=>_e.remove()),e.find(`.dimension[data-id='${k.id}']`).forEach(_e=>_e.remove());const Jt=(k.x1+k.x2)/2,Zt=(k.y1+k.y2)/2,We=Math.round(Math.hypot(k.x2-k.x1,k.y2-k.y1)),hn=Math.min(100,p.viewbox.width/64),Ie=We/2;if(Math.min(Ie,hn*(.5+Math.log10(We)/2))*(j?k.y2<k.y1?1:-1:k.x2>k.x1?1:-1),j?k.y2>k.y1?Math.PI*.5:-Math.PI*.5:k.x2>k.x1,j){const _e=e.group().addClass("length-label").attr("data-id",`${k.id}-left`),mn=e.group().addClass("length-label").attr("data-id",`${k.id}-right`),ln=We+(Bt+qt),yn=We+(Te+ke),Me=k.y2<k.y1,Le=Math.PI*.5;let le=Me?{x:k.x2,y:k.y2}:{x:k.x1,y:k.y1},Je=Me?{x:k.x1,y:k.y1}:{x:k.x2,y:k.y2};const E=Math.min(Ie,hn*(.5+Math.log10(ln)/2)),P=Math.min(Ie,hn*(.5+Math.log10(yn)/2));_e.text(`${ln}mm`).font({size:hn,anchor:"middle"}).center(Jt-et,Zt).rotate(90,Jt-et,Zt),mn.text(`${yn}mm`).font({size:hn,anchor:"middle"}).center(Jt+et,Zt).rotate(90,Jt+et,Zt),$({x:Jt-et,y:Zt-E},{x:Jt-et,y:le.y-Bt}),$({x:Jt-et,y:Zt+E},{x:Jt-et,y:Je.y+qt}),$({x:Jt+et,y:Zt-P},{x:Jt+et,y:le.y-Te}),$({x:Jt+et,y:Zt+P},{x:Jt+et,y:Je.y+ke}),M(Jt-et,le.y-Bt,Le,!0),M(Jt-et,Je.y+qt,Le,!1),M(Jt+et,le.y-Te,Le,!0),M(Jt+et,Je.y+ke,Le,!1)}else{const _e=e.group().addClass("length-label").attr("data-id",`${k.id}-top`),mn=e.group().addClass("length-label").attr("data-id",`${k.id}-bottom`),ln=We+(rt+yt),yn=We+(Mt+Ut),Me=k.x1<k.x2,Le=0;let le=Me?{x:k.x2,y:k.y2}:{x:k.x1,y:k.y1},Je=Me?{x:k.x1,y:k.y1}:{x:k.x2,y:k.y2};const E=Math.min(Ie,hn*(.5+Math.log10(ln)/2)),P=Math.min(Ie,hn*(.5+Math.log10(yn)/2));_e.text(`${ln}mm`).font({size:hn,anchor:"middle"}).center(Jt,Zt-et),mn.text(`${yn}mm`).font({size:hn,anchor:"middle"}).center(Jt,Zt+et),$({x:Jt-E,y:Zt-et},{x:Je.x-rt,y:Zt-et}),$({x:Jt+E,y:Zt-et},{x:le.x+yt,y:Zt-et}),$({x:Jt-P,y:Zt+et},{x:Je.x-Mt,y:Zt+et}),$({x:Jt+P,y:Zt+et},{x:le.x+Ut,y:Zt+et}),M(Je.x-rt,Zt-et,Le,!0),M(le.x+yt,Zt-et,Le,!1),M(Je.x-Mt,Zt+et,Le,!0),M(le.x+Ut,Zt+et,Le,!1)}},q=()=>{e.find(".length-label").forEach(T=>T.remove()),e.find(".dimension").forEach(T=>T.remove()),l.showLengthLabels&&r.forEach(T=>{const k=T.id;k&&D(k)})},Q={renderWall:T=>t.line(T.x1,T.y1,T.x2,T.y2).stroke({width:T.thickness,color:Sy}).data("id",T.id)},W=()=>{e.find(".corner-space").forEach(k=>k.remove());const T=new Map;t.children().forEach(k=>{[[k.attr("x1"),k.attr("y1")],[k.attr("x2"),k.attr("y2")]].forEach(([B,H])=>{const et=`${Math.round(B)},${Math.round(H)}`;T.has(et)||T.set(et,[]),T.get(et).push(k)})}),T.forEach((k,j)=>{if(k.length===2){const[B,H]=k,[et,rt]=j.split(",").map(Number),yt=Math.abs(B.attr("x1")-B.attr("x2"))<1,Mt=Math.abs(H.attr("x1")-H.attr("x2"))<1;if(yt!==Mt){const Ut=B.attr("stroke-width"),Bt=H.attr("stroke-width"),qt=yt?Ut:Bt,Te=yt?Bt:Ut;t.rect(qt,Te).center(et,rt).fill(Sy).addClass("corner-space")}}})},vt=T=>{if(!(T.target.tagName==="INPUT"||T.target.tagName==="TEXTAREA"))switch(T.key.toLowerCase()){case"g":y();break;case"escape":break;case"delete":me();break;case"1":break;case"2":break;case"3":break;case"l":case"L":c(),S();break;default:if(T.ctrlKey)switch(T.key){}break}},ut=u({selectHandlers:{},wallHandlers:{onClick:T=>wallControls.onClick(h(T)),onMouseMove:T=>wallControls.preview(h(T))},rectHandlers:{onClick:T=>{const k=h(T);rectTool.startPoint?rectTool.finish(k):rectTool.start(k)},onMouseMove:T=>rectTool.move(h(T))},eraserHandlers:{}}),_t=(T,k)=>{const j=ut[l.currentTool];j&&j[T]&&j[T](k)},wt=T=>{S()},ft=async T=>{o.value=T},Ot=async T=>{`${o.value}`,Q3(o.value,K,T)},Lt=()=>{Nv(o.value)},St=T=>{const k=`/pub/rooms/${o.value}`;Dv(k,T)},Ct=kt([]),ct=kt([]),at=tr({id:null,furnitureId:null,furnitureName:null,imageUrl:null,roomId:null,xpos:null,ypos:null,width:null,height:null,rotation:null,layer:null,collapse:!1,holderName:null,isDeleted:!1,index:null}),Qt=()=>{at.id=null,at.furnitureId=null,at.furnitureName=null,at.imageUrl=null,at.roomId=null,at.xpos=null,at.ypos=null,at.width=null,at.height=null,at.rotation=null,at.layer=null,at.collapse=!1,at.holderName=null,at.isDeleted=!1,at.index=null},jt=T=>{const k=T.children()[0];at.xpos=T.cx(),at.ypos=T.cy(),at.width=k.width(),at.height=k.height(),at.rotation=Math.round(k.transform("rotate"))},zt=(T,k)=>{const j=T.children()[0],[B,H]=j.children();j.transform({rotate:k.rotation}),B.size(k.width,k.height),H.size(k.width-10,k.height-10),T.center(k.xpos,k.ypos)},Kt=async()=>{Ct.value=[],ct.value=[];try{(await ms.get(`/api/rooms/${o.value}/furnitures/fetch`)).data.furnitureList.forEach(k=>{K(k)})}catch(T){console.error("가구 데이터를 불러오는 중 오류 발생:",T)}},nt=T=>{const k=T.dataTransfer.getData("furnitureId"),j=parseInt(T.dataTransfer.getData("selectedLayer"))||0,{x:B,y:H}=Co.roundPoint(h(T));At(k,B,H,j)},At=async(T,k,j,B)=>{try{const H=await ms.get(`/api/rooms/${o.value}/furnitures/${T}?xpos=${k}&ypos=${j}&layer=${B}`);H.data&&H.data.event==="CREATE"&&K(H.data)}catch(H){console.error("가구 생성 중 오류 발생:",H)}},$t=()=>{at.layer<0&&(at.layer=0),at.layer>10&&(at.layer=10),St({event:"UPDATE",furniture:{...at}})},me=()=>{at.index!==null&&(at.isDeleted=!0,St({event:"DELETE",furniture:{...at}}),Qt())},K=T=>{const{event:k,furniture:j}=T;k==="CREATE"?(j.index!==void 0&&ct.value[j.index]&&(j.layer=ct.value[j.index].layer),ht(j)):k==="UPDATE"?Tt(j):k==="DELETE"&&xt(j)},pt=(T,k)=>{const j=Ct.value.filter(B=>B!==null).sort((B,H)=>{var Ut,Bt;const et=parseInt(B.attr("id").split("-")[1]),rt=parseInt(H.attr("id").split("-")[1]),yt=((Ut=ct.value[et])==null?void 0:Ut.layer)||0,Mt=((Bt=ct.value[rt])==null?void 0:Bt.layer)||0;return yt===Mt?et-rt:yt-Mt});j.forEach(B=>{var rt;const H=parseInt(B.attr("id").split("-")[1]);(((rt=ct.value[H])==null?void 0:rt.layer)||0)<=0?B.before(t):B.after(t)}),j.forEach(B=>{var rt;const H=parseInt(B.attr("id").split("-")[1]);(((rt=ct.value[H])==null?void 0:rt.layer)||0)<=0?B.back():B.front()})},ht=T=>{if(T.isDeleted===!0)return;const k=n.group(),j=k.group();j.image(T.imageUrl).size(T.width,T.height).attr("preserveAspectRatio","none").attr("crossOrigin","anonymous"),j.rect(T.width-10,T.height-10).move(5,5).fill("none").stroke({color:"#F00",width:0}),k.attr("id",`furniture-${T.index}`),k.draggable(),zt(k,T),ct.value[T.index]=T,pt(k,T.layer),k.on("dragstart",async B=>{const H=Ct.value[at.index];H&&H.children()[0].children()[1].attr({"stroke-width":0}),k.front(),k.children()[0].children()[1].attr({"stroke-width":10}),Object.assign(at,T)}),k.on("dragmove",B=>{jt(k)}),k.on("dragend",B=>{jt(k),pt(k,at.layer),$t()}),Ct.value[T.index]=k},Tt=T=>{T.index===at.index&&Object.assign(at,T);const k=Ct.value[T.index];k&&(zt(k,T),pt(k,T.layer))},xt=T=>{const k=Ct.value[T.index];k&&(k.draggable(!1),k.remove()),Ct.value[T.index]=null},A=T=>{const k=Math.max(0,Math.min(10,T));at.index!==null&&(at.layer=k,$t())},R=(T,k)=>{at.index!==null&&(T==="x"?at.xpos+=k:T==="y"&&(at.ypos+=k),$t())},N=(T,k)=>{at.index!==null&&(T==="width"?at.width=Math.max(10,at.width+k):T==="height"&&(at.height=Math.max(10,at.height+k)),$t())},Y=T=>{at.index!==null&&(at.rotation=(at.rotation+T+360)%360,$t())},tt=T=>{if(at.index!==null){const k=Math.max(0,Math.min(10,at.layer+T));at.layer=k,ct.value[at.index].layer=k,Ct.value[at.index]&&pt(),$t()}};return{initializeWebSocket:ft,subscribeToRoom:Ot,unsubscribeFromRoom:Lt,publishFurnitureEvent:St,selectedFurniture:at,fetchFurnitureList:Kt,dropFurniture:nt,updateFurniture:$t,deleteFurniture:me,walls:r,roomId:o,fetchWalls:C,executeToolEvent:_t,initializeCanvas:x,zoomCanvas:wt,handleKeyDown:vt,toggleLengthLabels:c,viewbox:se(()=>p==null?void 0:p.viewbox),changeFurnitureLayer:A,toggleGrid:y,showGrid:m,adjustLayer:tt,adjustPosition:R,adjustSize:N,adjustRotation:Y}}),J3=es("leftSidebarStore",()=>{const e=kt([]),t=kt(!1),n=kt(null),r=kt("");return{furnitureList:e,loading:t,error:n,searchKeyword:r,fetchFurnitureList:async(o="")=>{t.value=!0,n.value=null;try{const l=await ms.get("/api/furnitures",{params:{page:0,keyword:o}}),c=l.data.totalPages;e.value=l.data.furnitures;const u=[];for(let d=1;d<c;d++)u.push(ms.get("/api/furnitures",{params:{page:d,keyword:o}}));(await Promise.all(u)).forEach(d=>{e.value=[...e.value,...d.data.furnitures]})}catch(l){console.error("API 오류:",l),n.value="데이터를 불러오는 중 오류 발생"}finally{t.value=!1}}}});var ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var va={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var tL=va.exports,Cy;function eL(){return Cy||(Cy=1,function(e,t){(function(){var n,r="4.17.21",s=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",p=1,m=2,y=4,x=1,C=2,S=1,M=2,$=4,I=8,D=16,q=32,Q=64,W=128,vt=256,ut=512,_t=30,wt="...",ft=800,Ot=16,Lt=1,St=2,Ct=3,ct=1/0,at=9007199254740991,Qt=17976931348623157e292,jt=NaN,zt=4294967295,Kt=zt-1,nt=zt>>>1,At=[["ary",W],["bind",S],["bindKey",M],["curry",I],["curryRight",D],["flip",ut],["partial",q],["partialRight",Q],["rearg",vt]],$t="[object Arguments]",me="[object Array]",K="[object AsyncFunction]",pt="[object Boolean]",ht="[object Date]",Tt="[object DOMException]",xt="[object Error]",A="[object Function]",R="[object GeneratorFunction]",N="[object Map]",Y="[object Number]",tt="[object Null]",T="[object Object]",k="[object Promise]",j="[object Proxy]",B="[object RegExp]",H="[object Set]",et="[object String]",rt="[object Symbol]",yt="[object Undefined]",Mt="[object WeakMap]",Ut="[object WeakSet]",Bt="[object ArrayBuffer]",qt="[object DataView]",Te="[object Float32Array]",ke="[object Float64Array]",Jt="[object Int8Array]",Zt="[object Int16Array]",We="[object Int32Array]",hn="[object Uint8Array]",Ie="[object Uint8ClampedArray]",_e="[object Uint16Array]",mn="[object Uint32Array]",ln=/\b__p \+= '';/g,yn=/\b(__p \+=) '' \+/g,Me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,le=/[&<>"']/g,Je=RegExp(Le.source),E=RegExp(le.source),P=/<%-([\s\S]+?)%>/g,z=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,st=/^\w*$/,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rt=/[\\^$.*+?()[\]{}|]/g,Nt=RegExp(Rt.source),Vt=/^\s+/,ie=/\s/,ye=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pe=/\{\n\/\* \[wrapped with (.+)\] \*/,Cn=/,? & /,ve=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sn=/[()=,{}\[\]\/\s]/,Ws=/\\(\\)?/g,Hr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zs=/\w*$/,Wn=/^[-+]0x[0-9a-f]+$/i,vs=/^0b[01]+$/i,fr=/^\[object .+?Constructor\]$/,hr=/^0o[0-7]+$/i,En=/^(?:0|[1-9]\d*)$/,cn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ye=/($^)/,un=/['\n\r\u2028\u2029\\]/g,je="\\ud800-\\udfff",xi="\\u0300-\\u036f",tb="\\ufe20-\\ufe2f",eb="\\u20d0-\\u20ff",Td=xi+tb+eb,kd="\\u2700-\\u27bf",Md="a-z\\xdf-\\xf6\\xf8-\\xff",nb="\\xac\\xb1\\xd7\\xf7",rb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sb="\\u2000-\\u206f",ib=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rd="A-Z\\xc0-\\xd6\\xd8-\\xde",Pd="\\ufe0e\\ufe0f",Od=nb+rb+sb+ib,lu="['’]",ob="["+je+"]",Id="["+Od+"]",il="["+Td+"]",Ld="\\d+",ab="["+kd+"]",Nd="["+Md+"]",Dd="[^"+je+Od+Ld+kd+Md+Rd+"]",cu="\\ud83c[\\udffb-\\udfff]",lb="(?:"+il+"|"+cu+")",$d="[^"+je+"]",uu="(?:\\ud83c[\\udde6-\\uddff]){2}",fu="[\\ud800-\\udbff][\\udc00-\\udfff]",no="["+Rd+"]",Ud="\\u200d",Fd="(?:"+Nd+"|"+Dd+")",cb="(?:"+no+"|"+Dd+")",Vd="(?:"+lu+"(?:d|ll|m|re|s|t|ve))?",Bd="(?:"+lu+"(?:D|LL|M|RE|S|T|VE))?",Hd=lb+"?",Wd="["+Pd+"]?",ub="(?:"+Ud+"(?:"+[$d,uu,fu].join("|")+")"+Wd+Hd+")*",fb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",hb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zd=Wd+Hd+ub,db="(?:"+[ab,uu,fu].join("|")+")"+zd,pb="(?:"+[$d+il+"?",il,uu,fu,ob].join("|")+")",gb=RegExp(lu,"g"),mb=RegExp(il,"g"),hu=RegExp(cu+"(?="+cu+")|"+pb+zd,"g"),yb=RegExp([no+"?"+Nd+"+"+Vd+"(?="+[Id,no,"$"].join("|")+")",cb+"+"+Bd+"(?="+[Id,no+Fd,"$"].join("|")+")",no+"?"+Fd+"+"+Vd,no+"+"+Bd,hb,fb,Ld,db].join("|"),"g"),vb=RegExp("["+Ud+je+Td+Pd+"]"),bb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,xb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],wb=-1,tn={};tn[Te]=tn[ke]=tn[Jt]=tn[Zt]=tn[We]=tn[hn]=tn[Ie]=tn[_e]=tn[mn]=!0,tn[$t]=tn[me]=tn[Bt]=tn[pt]=tn[qt]=tn[ht]=tn[xt]=tn[A]=tn[N]=tn[Y]=tn[T]=tn[B]=tn[H]=tn[et]=tn[Mt]=!1;var Ke={};Ke[$t]=Ke[me]=Ke[Bt]=Ke[qt]=Ke[pt]=Ke[ht]=Ke[Te]=Ke[ke]=Ke[Jt]=Ke[Zt]=Ke[We]=Ke[N]=Ke[Y]=Ke[T]=Ke[B]=Ke[H]=Ke[et]=Ke[rt]=Ke[hn]=Ke[Ie]=Ke[_e]=Ke[mn]=!0,Ke[xt]=Ke[A]=Ke[Mt]=!1;var _b={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Sb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Cb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Eb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ab=parseFloat,Tb=parseInt,qd=typeof ya=="object"&&ya&&ya.Object===Object&&ya,kb=typeof self=="object"&&self&&self.Object===Object&&self,In=qd||kb||Function("return this")(),du=t&&!t.nodeType&&t,wi=du&&!0&&e&&!e.nodeType&&e,Gd=wi&&wi.exports===du,pu=Gd&&qd.process,Tr=function(){try{var U=wi&&wi.require&&wi.require("util").types;return U||pu&&pu.binding&&pu.binding("util")}catch{}}(),Xd=Tr&&Tr.isArrayBuffer,Yd=Tr&&Tr.isDate,jd=Tr&&Tr.isMap,Kd=Tr&&Tr.isRegExp,Zd=Tr&&Tr.isSet,Qd=Tr&&Tr.isTypedArray;function dr(U,J,G){switch(G.length){case 0:return U.call(J);case 1:return U.call(J,G[0]);case 2:return U.call(J,G[0],G[1]);case 3:return U.call(J,G[0],G[1],G[2])}return U.apply(J,G)}function Mb(U,J,G,It){for(var te=-1,Oe=U==null?0:U.length;++te<Oe;){var An=U[te];J(It,An,G(An),U)}return It}function kr(U,J){for(var G=-1,It=U==null?0:U.length;++G<It&&J(U[G],G,U)!==!1;);return U}function Rb(U,J){for(var G=U==null?0:U.length;G--&&J(U[G],G,U)!==!1;);return U}function Jd(U,J){for(var G=-1,It=U==null?0:U.length;++G<It;)if(!J(U[G],G,U))return!1;return!0}function qs(U,J){for(var G=-1,It=U==null?0:U.length,te=0,Oe=[];++G<It;){var An=U[G];J(An,G,U)&&(Oe[te++]=An)}return Oe}function ol(U,J){var G=U==null?0:U.length;return!!G&&ro(U,J,0)>-1}function gu(U,J,G){for(var It=-1,te=U==null?0:U.length;++It<te;)if(G(J,U[It]))return!0;return!1}function on(U,J){for(var G=-1,It=U==null?0:U.length,te=Array(It);++G<It;)te[G]=J(U[G],G,U);return te}function Gs(U,J){for(var G=-1,It=J.length,te=U.length;++G<It;)U[te+G]=J[G];return U}function mu(U,J,G,It){var te=-1,Oe=U==null?0:U.length;for(It&&Oe&&(G=U[++te]);++te<Oe;)G=J(G,U[te],te,U);return G}function Pb(U,J,G,It){var te=U==null?0:U.length;for(It&&te&&(G=U[--te]);te--;)G=J(G,U[te],te,U);return G}function yu(U,J){for(var G=-1,It=U==null?0:U.length;++G<It;)if(J(U[G],G,U))return!0;return!1}var Ob=vu("length");function Ib(U){return U.split("")}function Lb(U){return U.match(ve)||[]}function tp(U,J,G){var It;return G(U,function(te,Oe,An){if(J(te,Oe,An))return It=Oe,!1}),It}function al(U,J,G,It){for(var te=U.length,Oe=G+(It?1:-1);It?Oe--:++Oe<te;)if(J(U[Oe],Oe,U))return Oe;return-1}function ro(U,J,G){return J===J?Gb(U,J,G):al(U,ep,G)}function Nb(U,J,G,It){for(var te=G-1,Oe=U.length;++te<Oe;)if(It(U[te],J))return te;return-1}function ep(U){return U!==U}function np(U,J){var G=U==null?0:U.length;return G?xu(U,J)/G:jt}function vu(U){return function(J){return J==null?n:J[U]}}function bu(U){return function(J){return U==null?n:U[J]}}function rp(U,J,G,It,te){return te(U,function(Oe,An,ze){G=It?(It=!1,Oe):J(G,Oe,An,ze)}),G}function Db(U,J){var G=U.length;for(U.sort(J);G--;)U[G]=U[G].value;return U}function xu(U,J){for(var G,It=-1,te=U.length;++It<te;){var Oe=J(U[It]);Oe!==n&&(G=G===n?Oe:G+Oe)}return G}function wu(U,J){for(var G=-1,It=Array(U);++G<U;)It[G]=J(G);return It}function $b(U,J){return on(J,function(G){return[G,U[G]]})}function sp(U){return U&&U.slice(0,lp(U)+1).replace(Vt,"")}function pr(U){return function(J){return U(J)}}function _u(U,J){return on(J,function(G){return U[G]})}function Wo(U,J){return U.has(J)}function ip(U,J){for(var G=-1,It=U.length;++G<It&&ro(J,U[G],0)>-1;);return G}function op(U,J){for(var G=U.length;G--&&ro(J,U[G],0)>-1;);return G}function Ub(U,J){for(var G=U.length,It=0;G--;)U[G]===J&&++It;return It}var Fb=bu(_b),Vb=bu(Sb);function Bb(U){return"\\"+Eb[U]}function Hb(U,J){return U==null?n:U[J]}function so(U){return vb.test(U)}function Wb(U){return bb.test(U)}function zb(U){for(var J,G=[];!(J=U.next()).done;)G.push(J.value);return G}function Su(U){var J=-1,G=Array(U.size);return U.forEach(function(It,te){G[++J]=[te,It]}),G}function ap(U,J){return function(G){return U(J(G))}}function Xs(U,J){for(var G=-1,It=U.length,te=0,Oe=[];++G<It;){var An=U[G];(An===J||An===d)&&(U[G]=d,Oe[te++]=G)}return Oe}function ll(U){var J=-1,G=Array(U.size);return U.forEach(function(It){G[++J]=It}),G}function qb(U){var J=-1,G=Array(U.size);return U.forEach(function(It){G[++J]=[It,It]}),G}function Gb(U,J,G){for(var It=G-1,te=U.length;++It<te;)if(U[It]===J)return It;return-1}function Xb(U,J,G){for(var It=G+1;It--;)if(U[It]===J)return It;return It}function io(U){return so(U)?jb(U):Ob(U)}function Wr(U){return so(U)?Kb(U):Ib(U)}function lp(U){for(var J=U.length;J--&&ie.test(U.charAt(J)););return J}var Yb=bu(Cb);function jb(U){for(var J=hu.lastIndex=0;hu.test(U);)++J;return J}function Kb(U){return U.match(hu)||[]}function Zb(U){return U.match(yb)||[]}var Qb=function U(J){J=J==null?In:oo.defaults(In.Object(),J,oo.pick(In,xb));var G=J.Array,It=J.Date,te=J.Error,Oe=J.Function,An=J.Math,ze=J.Object,Cu=J.RegExp,Jb=J.String,Mr=J.TypeError,cl=G.prototype,tx=Oe.prototype,ao=ze.prototype,ul=J["__core-js_shared__"],fl=tx.toString,Fe=ao.hasOwnProperty,ex=0,cp=function(){var i=/[^.]+$/.exec(ul&&ul.keys&&ul.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),hl=ao.toString,nx=fl.call(ze),rx=In._,sx=Cu("^"+fl.call(Fe).replace(Rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dl=Gd?J.Buffer:n,Ys=J.Symbol,pl=J.Uint8Array,up=dl?dl.allocUnsafe:n,gl=ap(ze.getPrototypeOf,ze),fp=ze.create,hp=ao.propertyIsEnumerable,ml=cl.splice,dp=Ys?Ys.isConcatSpreadable:n,zo=Ys?Ys.iterator:n,_i=Ys?Ys.toStringTag:n,yl=function(){try{var i=Ti(ze,"defineProperty");return i({},"",{}),i}catch{}}(),ix=J.clearTimeout!==In.clearTimeout&&J.clearTimeout,ox=It&&It.now!==In.Date.now&&It.now,ax=J.setTimeout!==In.setTimeout&&J.setTimeout,vl=An.ceil,bl=An.floor,Eu=ze.getOwnPropertySymbols,lx=dl?dl.isBuffer:n,pp=J.isFinite,cx=cl.join,ux=ap(ze.keys,ze),Tn=An.max,$n=An.min,fx=It.now,hx=J.parseInt,gp=An.random,dx=cl.reverse,Au=Ti(J,"DataView"),qo=Ti(J,"Map"),Tu=Ti(J,"Promise"),lo=Ti(J,"Set"),Go=Ti(J,"WeakMap"),Xo=Ti(ze,"create"),xl=Go&&new Go,co={},px=ki(Au),gx=ki(qo),mx=ki(Tu),yx=ki(lo),vx=ki(Go),wl=Ys?Ys.prototype:n,Yo=wl?wl.valueOf:n,mp=wl?wl.toString:n;function w(i){if(dn(i)&&!oe(i)&&!(i instanceof xe)){if(i instanceof Rr)return i;if(Fe.call(i,"__wrapped__"))return yg(i)}return new Rr(i)}var uo=function(){function i(){}return function(a){if(!fn(a))return{};if(fp)return fp(a);i.prototype=a;var f=new i;return i.prototype=n,f}}();function _l(){}function Rr(i,a){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}w.templateSettings={escape:P,evaluate:z,interpolate:Z,variable:"",imports:{_:w}},w.prototype=_l.prototype,w.prototype.constructor=w,Rr.prototype=uo(_l.prototype),Rr.prototype.constructor=Rr;function xe(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=zt,this.__views__=[]}function bx(){var i=new xe(this.__wrapped__);return i.__actions__=er(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=er(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=er(this.__views__),i}function xx(){if(this.__filtered__){var i=new xe(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function wx(){var i=this.__wrapped__.value(),a=this.__dir__,f=oe(i),g=a<0,v=f?i.length:0,_=Iw(0,v,this.__views__),O=_.start,L=_.end,V=L-O,it=g?L:O-1,ot=this.__iteratees__,dt=ot.length,Pt=0,Ft=$n(V,this.__takeCount__);if(!f||!g&&v==V&&Ft==V)return Vp(i,this.__actions__);var Xt=[];t:for(;V--&&Pt<Ft;){it+=a;for(var de=-1,Yt=i[it];++de<dt;){var be=ot[de],Se=be.iteratee,yr=be.type,Gn=Se(Yt);if(yr==St)Yt=Gn;else if(!Gn){if(yr==Lt)continue t;break t}}Xt[Pt++]=Yt}return Xt}xe.prototype=uo(_l.prototype),xe.prototype.constructor=xe;function Si(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var g=i[a];this.set(g[0],g[1])}}function _x(){this.__data__=Xo?Xo(null):{},this.size=0}function Sx(i){var a=this.has(i)&&delete this.__data__[i];return this.size-=a?1:0,a}function Cx(i){var a=this.__data__;if(Xo){var f=a[i];return f===u?n:f}return Fe.call(a,i)?a[i]:n}function Ex(i){var a=this.__data__;return Xo?a[i]!==n:Fe.call(a,i)}function Ax(i,a){var f=this.__data__;return this.size+=this.has(i)?0:1,f[i]=Xo&&a===n?u:a,this}Si.prototype.clear=_x,Si.prototype.delete=Sx,Si.prototype.get=Cx,Si.prototype.has=Ex,Si.prototype.set=Ax;function bs(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var g=i[a];this.set(g[0],g[1])}}function Tx(){this.__data__=[],this.size=0}function kx(i){var a=this.__data__,f=Sl(a,i);if(f<0)return!1;var g=a.length-1;return f==g?a.pop():ml.call(a,f,1),--this.size,!0}function Mx(i){var a=this.__data__,f=Sl(a,i);return f<0?n:a[f][1]}function Rx(i){return Sl(this.__data__,i)>-1}function Px(i,a){var f=this.__data__,g=Sl(f,i);return g<0?(++this.size,f.push([i,a])):f[g][1]=a,this}bs.prototype.clear=Tx,bs.prototype.delete=kx,bs.prototype.get=Mx,bs.prototype.has=Rx,bs.prototype.set=Px;function xs(i){var a=-1,f=i==null?0:i.length;for(this.clear();++a<f;){var g=i[a];this.set(g[0],g[1])}}function Ox(){this.size=0,this.__data__={hash:new Si,map:new(qo||bs),string:new Si}}function Ix(i){var a=Nl(this,i).delete(i);return this.size-=a?1:0,a}function Lx(i){return Nl(this,i).get(i)}function Nx(i){return Nl(this,i).has(i)}function Dx(i,a){var f=Nl(this,i),g=f.size;return f.set(i,a),this.size+=f.size==g?0:1,this}xs.prototype.clear=Ox,xs.prototype.delete=Ix,xs.prototype.get=Lx,xs.prototype.has=Nx,xs.prototype.set=Dx;function Ci(i){var a=-1,f=i==null?0:i.length;for(this.__data__=new xs;++a<f;)this.add(i[a])}function $x(i){return this.__data__.set(i,u),this}function Ux(i){return this.__data__.has(i)}Ci.prototype.add=Ci.prototype.push=$x,Ci.prototype.has=Ux;function zr(i){var a=this.__data__=new bs(i);this.size=a.size}function Fx(){this.__data__=new bs,this.size=0}function Vx(i){var a=this.__data__,f=a.delete(i);return this.size=a.size,f}function Bx(i){return this.__data__.get(i)}function Hx(i){return this.__data__.has(i)}function Wx(i,a){var f=this.__data__;if(f instanceof bs){var g=f.__data__;if(!qo||g.length<s-1)return g.push([i,a]),this.size=++f.size,this;f=this.__data__=new xs(g)}return f.set(i,a),this.size=f.size,this}zr.prototype.clear=Fx,zr.prototype.delete=Vx,zr.prototype.get=Bx,zr.prototype.has=Hx,zr.prototype.set=Wx;function yp(i,a){var f=oe(i),g=!f&&Mi(i),v=!f&&!g&&Js(i),_=!f&&!g&&!v&&go(i),O=f||g||v||_,L=O?wu(i.length,Jb):[],V=L.length;for(var it in i)(a||Fe.call(i,it))&&!(O&&(it=="length"||v&&(it=="offset"||it=="parent")||_&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||Cs(it,V)))&&L.push(it);return L}function vp(i){var a=i.length;return a?i[Uu(0,a-1)]:n}function zx(i,a){return Dl(er(i),Ei(a,0,i.length))}function qx(i){return Dl(er(i))}function ku(i,a,f){(f!==n&&!qr(i[a],f)||f===n&&!(a in i))&&ws(i,a,f)}function jo(i,a,f){var g=i[a];(!(Fe.call(i,a)&&qr(g,f))||f===n&&!(a in i))&&ws(i,a,f)}function Sl(i,a){for(var f=i.length;f--;)if(qr(i[f][0],a))return f;return-1}function Gx(i,a,f,g){return js(i,function(v,_,O){a(g,v,f(v),O)}),g}function bp(i,a){return i&&as(a,Rn(a),i)}function Xx(i,a){return i&&as(a,rr(a),i)}function ws(i,a,f){a=="__proto__"&&yl?yl(i,a,{configurable:!0,enumerable:!0,value:f,writable:!0}):i[a]=f}function Mu(i,a){for(var f=-1,g=a.length,v=G(g),_=i==null;++f<g;)v[f]=_?n:uf(i,a[f]);return v}function Ei(i,a,f){return i===i&&(f!==n&&(i=i<=f?i:f),a!==n&&(i=i>=a?i:a)),i}function Pr(i,a,f,g,v,_){var O,L=a&p,V=a&m,it=a&y;if(f&&(O=v?f(i,g,v,_):f(i)),O!==n)return O;if(!fn(i))return i;var ot=oe(i);if(ot){if(O=Nw(i),!L)return er(i,O)}else{var dt=Un(i),Pt=dt==A||dt==R;if(Js(i))return Wp(i,L);if(dt==T||dt==$t||Pt&&!v){if(O=V||Pt?{}:lg(i),!L)return V?Cw(i,Xx(O,i)):Sw(i,bp(O,i))}else{if(!Ke[dt])return v?i:{};O=Dw(i,dt,L)}}_||(_=new zr);var Ft=_.get(i);if(Ft)return Ft;_.set(i,O),$g(i)?i.forEach(function(Yt){O.add(Pr(Yt,a,f,Yt,i,_))}):Ng(i)&&i.forEach(function(Yt,be){O.set(be,Pr(Yt,a,f,be,i,_))});var Xt=it?V?ju:Yu:V?rr:Rn,de=ot?n:Xt(i);return kr(de||i,function(Yt,be){de&&(be=Yt,Yt=i[be]),jo(O,be,Pr(Yt,a,f,be,i,_))}),O}function Yx(i){var a=Rn(i);return function(f){return xp(f,i,a)}}function xp(i,a,f){var g=f.length;if(i==null)return!g;for(i=ze(i);g--;){var v=f[g],_=a[v],O=i[v];if(O===n&&!(v in i)||!_(O))return!1}return!0}function wp(i,a,f){if(typeof i!="function")throw new Mr(l);return na(function(){i.apply(n,f)},a)}function Ko(i,a,f,g){var v=-1,_=ol,O=!0,L=i.length,V=[],it=a.length;if(!L)return V;f&&(a=on(a,pr(f))),g?(_=gu,O=!1):a.length>=s&&(_=Wo,O=!1,a=new Ci(a));t:for(;++v<L;){var ot=i[v],dt=f==null?ot:f(ot);if(ot=g||ot!==0?ot:0,O&&dt===dt){for(var Pt=it;Pt--;)if(a[Pt]===dt)continue t;V.push(ot)}else _(a,dt,g)||V.push(ot)}return V}var js=Yp(os),_p=Yp(Pu,!0);function jx(i,a){var f=!0;return js(i,function(g,v,_){return f=!!a(g,v,_),f}),f}function Cl(i,a,f){for(var g=-1,v=i.length;++g<v;){var _=i[g],O=a(_);if(O!=null&&(L===n?O===O&&!mr(O):f(O,L)))var L=O,V=_}return V}function Kx(i,a,f,g){var v=i.length;for(f=fe(f),f<0&&(f=-f>v?0:v+f),g=g===n||g>v?v:fe(g),g<0&&(g+=v),g=f>g?0:Fg(g);f<g;)i[f++]=a;return i}function Sp(i,a){var f=[];return js(i,function(g,v,_){a(g,v,_)&&f.push(g)}),f}function Ln(i,a,f,g,v){var _=-1,O=i.length;for(f||(f=Uw),v||(v=[]);++_<O;){var L=i[_];a>0&&f(L)?a>1?Ln(L,a-1,f,g,v):Gs(v,L):g||(v[v.length]=L)}return v}var Ru=jp(),Cp=jp(!0);function os(i,a){return i&&Ru(i,a,Rn)}function Pu(i,a){return i&&Cp(i,a,Rn)}function El(i,a){return qs(a,function(f){return Es(i[f])})}function Ai(i,a){a=Zs(a,i);for(var f=0,g=a.length;i!=null&&f<g;)i=i[ls(a[f++])];return f&&f==g?i:n}function Ep(i,a,f){var g=a(i);return oe(i)?g:Gs(g,f(i))}function zn(i){return i==null?i===n?yt:tt:_i&&_i in ze(i)?Ow(i):qw(i)}function Ou(i,a){return i>a}function Zx(i,a){return i!=null&&Fe.call(i,a)}function Qx(i,a){return i!=null&&a in ze(i)}function Jx(i,a,f){return i>=$n(a,f)&&i<Tn(a,f)}function Iu(i,a,f){for(var g=f?gu:ol,v=i[0].length,_=i.length,O=_,L=G(_),V=1/0,it=[];O--;){var ot=i[O];O&&a&&(ot=on(ot,pr(a))),V=$n(ot.length,V),L[O]=!f&&(a||v>=120&&ot.length>=120)?new Ci(O&&ot):n}ot=i[0];var dt=-1,Pt=L[0];t:for(;++dt<v&&it.length<V;){var Ft=ot[dt],Xt=a?a(Ft):Ft;if(Ft=f||Ft!==0?Ft:0,!(Pt?Wo(Pt,Xt):g(it,Xt,f))){for(O=_;--O;){var de=L[O];if(!(de?Wo(de,Xt):g(i[O],Xt,f)))continue t}Pt&&Pt.push(Xt),it.push(Ft)}}return it}function tw(i,a,f,g){return os(i,function(v,_,O){a(g,f(v),_,O)}),g}function Zo(i,a,f){a=Zs(a,i),i=hg(i,a);var g=i==null?i:i[ls(Ir(a))];return g==null?n:dr(g,i,f)}function Ap(i){return dn(i)&&zn(i)==$t}function ew(i){return dn(i)&&zn(i)==Bt}function nw(i){return dn(i)&&zn(i)==ht}function Qo(i,a,f,g,v){return i===a?!0:i==null||a==null||!dn(i)&&!dn(a)?i!==i&&a!==a:rw(i,a,f,g,Qo,v)}function rw(i,a,f,g,v,_){var O=oe(i),L=oe(a),V=O?me:Un(i),it=L?me:Un(a);V=V==$t?T:V,it=it==$t?T:it;var ot=V==T,dt=it==T,Pt=V==it;if(Pt&&Js(i)){if(!Js(a))return!1;O=!0,ot=!1}if(Pt&&!ot)return _||(_=new zr),O||go(i)?ig(i,a,f,g,v,_):Rw(i,a,V,f,g,v,_);if(!(f&x)){var Ft=ot&&Fe.call(i,"__wrapped__"),Xt=dt&&Fe.call(a,"__wrapped__");if(Ft||Xt){var de=Ft?i.value():i,Yt=Xt?a.value():a;return _||(_=new zr),v(de,Yt,f,g,_)}}return Pt?(_||(_=new zr),Pw(i,a,f,g,v,_)):!1}function sw(i){return dn(i)&&Un(i)==N}function Lu(i,a,f,g){var v=f.length,_=v,O=!g;if(i==null)return!_;for(i=ze(i);v--;){var L=f[v];if(O&&L[2]?L[1]!==i[L[0]]:!(L[0]in i))return!1}for(;++v<_;){L=f[v];var V=L[0],it=i[V],ot=L[1];if(O&&L[2]){if(it===n&&!(V in i))return!1}else{var dt=new zr;if(g)var Pt=g(it,ot,V,i,a,dt);if(!(Pt===n?Qo(ot,it,x|C,g,dt):Pt))return!1}}return!0}function Tp(i){if(!fn(i)||Vw(i))return!1;var a=Es(i)?sx:fr;return a.test(ki(i))}function iw(i){return dn(i)&&zn(i)==B}function ow(i){return dn(i)&&Un(i)==H}function aw(i){return dn(i)&&Hl(i.length)&&!!tn[zn(i)]}function kp(i){return typeof i=="function"?i:i==null?sr:typeof i=="object"?oe(i)?Pp(i[0],i[1]):Rp(i):Kg(i)}function Nu(i){if(!ea(i))return ux(i);var a=[];for(var f in ze(i))Fe.call(i,f)&&f!="constructor"&&a.push(f);return a}function lw(i){if(!fn(i))return zw(i);var a=ea(i),f=[];for(var g in i)g=="constructor"&&(a||!Fe.call(i,g))||f.push(g);return f}function Du(i,a){return i<a}function Mp(i,a){var f=-1,g=nr(i)?G(i.length):[];return js(i,function(v,_,O){g[++f]=a(v,_,O)}),g}function Rp(i){var a=Zu(i);return a.length==1&&a[0][2]?ug(a[0][0],a[0][1]):function(f){return f===i||Lu(f,i,a)}}function Pp(i,a){return Ju(i)&&cg(a)?ug(ls(i),a):function(f){var g=uf(f,i);return g===n&&g===a?ff(f,i):Qo(a,g,x|C)}}function Al(i,a,f,g,v){i!==a&&Ru(a,function(_,O){if(v||(v=new zr),fn(_))cw(i,a,O,f,Al,g,v);else{var L=g?g(ef(i,O),_,O+"",i,a,v):n;L===n&&(L=_),ku(i,O,L)}},rr)}function cw(i,a,f,g,v,_,O){var L=ef(i,f),V=ef(a,f),it=O.get(V);if(it){ku(i,f,it);return}var ot=_?_(L,V,f+"",i,a,O):n,dt=ot===n;if(dt){var Pt=oe(V),Ft=!Pt&&Js(V),Xt=!Pt&&!Ft&&go(V);ot=V,Pt||Ft||Xt?oe(L)?ot=L:vn(L)?ot=er(L):Ft?(dt=!1,ot=Wp(V,!0)):Xt?(dt=!1,ot=zp(V,!0)):ot=[]:ra(V)||Mi(V)?(ot=L,Mi(L)?ot=Vg(L):(!fn(L)||Es(L))&&(ot=lg(V))):dt=!1}dt&&(O.set(V,ot),v(ot,V,g,_,O),O.delete(V)),ku(i,f,ot)}function Op(i,a){var f=i.length;if(f)return a+=a<0?f:0,Cs(a,f)?i[a]:n}function Ip(i,a,f){a.length?a=on(a,function(_){return oe(_)?function(O){return Ai(O,_.length===1?_[0]:_)}:_}):a=[sr];var g=-1;a=on(a,pr(Gt()));var v=Mp(i,function(_,O,L){var V=on(a,function(it){return it(_)});return{criteria:V,index:++g,value:_}});return Db(v,function(_,O){return _w(_,O,f)})}function uw(i,a){return Lp(i,a,function(f,g){return ff(i,g)})}function Lp(i,a,f){for(var g=-1,v=a.length,_={};++g<v;){var O=a[g],L=Ai(i,O);f(L,O)&&Jo(_,Zs(O,i),L)}return _}function fw(i){return function(a){return Ai(a,i)}}function $u(i,a,f,g){var v=g?Nb:ro,_=-1,O=a.length,L=i;for(i===a&&(a=er(a)),f&&(L=on(i,pr(f)));++_<O;)for(var V=0,it=a[_],ot=f?f(it):it;(V=v(L,ot,V,g))>-1;)L!==i&&ml.call(L,V,1),ml.call(i,V,1);return i}function Np(i,a){for(var f=i?a.length:0,g=f-1;f--;){var v=a[f];if(f==g||v!==_){var _=v;Cs(v)?ml.call(i,v,1):Bu(i,v)}}return i}function Uu(i,a){return i+bl(gp()*(a-i+1))}function hw(i,a,f,g){for(var v=-1,_=Tn(vl((a-i)/(f||1)),0),O=G(_);_--;)O[g?_:++v]=i,i+=f;return O}function Fu(i,a){var f="";if(!i||a<1||a>at)return f;do a%2&&(f+=i),a=bl(a/2),a&&(i+=i);while(a);return f}function pe(i,a){return nf(fg(i,a,sr),i+"")}function dw(i){return vp(mo(i))}function pw(i,a){var f=mo(i);return Dl(f,Ei(a,0,f.length))}function Jo(i,a,f,g){if(!fn(i))return i;a=Zs(a,i);for(var v=-1,_=a.length,O=_-1,L=i;L!=null&&++v<_;){var V=ls(a[v]),it=f;if(V==="__proto__"||V==="constructor"||V==="prototype")return i;if(v!=O){var ot=L[V];it=g?g(ot,V,L):n,it===n&&(it=fn(ot)?ot:Cs(a[v+1])?[]:{})}jo(L,V,it),L=L[V]}return i}var Dp=xl?function(i,a){return xl.set(i,a),i}:sr,gw=yl?function(i,a){return yl(i,"toString",{configurable:!0,enumerable:!1,value:df(a),writable:!0})}:sr;function mw(i){return Dl(mo(i))}function Or(i,a,f){var g=-1,v=i.length;a<0&&(a=-a>v?0:v+a),f=f>v?v:f,f<0&&(f+=v),v=a>f?0:f-a>>>0,a>>>=0;for(var _=G(v);++g<v;)_[g]=i[g+a];return _}function yw(i,a){var f;return js(i,function(g,v,_){return f=a(g,v,_),!f}),!!f}function Tl(i,a,f){var g=0,v=i==null?g:i.length;if(typeof a=="number"&&a===a&&v<=nt){for(;g<v;){var _=g+v>>>1,O=i[_];O!==null&&!mr(O)&&(f?O<=a:O<a)?g=_+1:v=_}return v}return Vu(i,a,sr,f)}function Vu(i,a,f,g){var v=0,_=i==null?0:i.length;if(_===0)return 0;a=f(a);for(var O=a!==a,L=a===null,V=mr(a),it=a===n;v<_;){var ot=bl((v+_)/2),dt=f(i[ot]),Pt=dt!==n,Ft=dt===null,Xt=dt===dt,de=mr(dt);if(O)var Yt=g||Xt;else it?Yt=Xt&&(g||Pt):L?Yt=Xt&&Pt&&(g||!Ft):V?Yt=Xt&&Pt&&!Ft&&(g||!de):Ft||de?Yt=!1:Yt=g?dt<=a:dt<a;Yt?v=ot+1:_=ot}return $n(_,Kt)}function $p(i,a){for(var f=-1,g=i.length,v=0,_=[];++f<g;){var O=i[f],L=a?a(O):O;if(!f||!qr(L,V)){var V=L;_[v++]=O===0?0:O}}return _}function Up(i){return typeof i=="number"?i:mr(i)?jt:+i}function gr(i){if(typeof i=="string")return i;if(oe(i))return on(i,gr)+"";if(mr(i))return mp?mp.call(i):"";var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function Ks(i,a,f){var g=-1,v=ol,_=i.length,O=!0,L=[],V=L;if(f)O=!1,v=gu;else if(_>=s){var it=a?null:kw(i);if(it)return ll(it);O=!1,v=Wo,V=new Ci}else V=a?[]:L;t:for(;++g<_;){var ot=i[g],dt=a?a(ot):ot;if(ot=f||ot!==0?ot:0,O&&dt===dt){for(var Pt=V.length;Pt--;)if(V[Pt]===dt)continue t;a&&V.push(dt),L.push(ot)}else v(V,dt,f)||(V!==L&&V.push(dt),L.push(ot))}return L}function Bu(i,a){return a=Zs(a,i),i=hg(i,a),i==null||delete i[ls(Ir(a))]}function Fp(i,a,f,g){return Jo(i,a,f(Ai(i,a)),g)}function kl(i,a,f,g){for(var v=i.length,_=g?v:-1;(g?_--:++_<v)&&a(i[_],_,i););return f?Or(i,g?0:_,g?_+1:v):Or(i,g?_+1:0,g?v:_)}function Vp(i,a){var f=i;return f instanceof xe&&(f=f.value()),mu(a,function(g,v){return v.func.apply(v.thisArg,Gs([g],v.args))},f)}function Hu(i,a,f){var g=i.length;if(g<2)return g?Ks(i[0]):[];for(var v=-1,_=G(g);++v<g;)for(var O=i[v],L=-1;++L<g;)L!=v&&(_[v]=Ko(_[v]||O,i[L],a,f));return Ks(Ln(_,1),a,f)}function Bp(i,a,f){for(var g=-1,v=i.length,_=a.length,O={};++g<v;){var L=g<_?a[g]:n;f(O,i[g],L)}return O}function Wu(i){return vn(i)?i:[]}function zu(i){return typeof i=="function"?i:sr}function Zs(i,a){return oe(i)?i:Ju(i,a)?[i]:mg(Ne(i))}var vw=pe;function Qs(i,a,f){var g=i.length;return f=f===n?g:f,!a&&f>=g?i:Or(i,a,f)}var Hp=ix||function(i){return In.clearTimeout(i)};function Wp(i,a){if(a)return i.slice();var f=i.length,g=up?up(f):new i.constructor(f);return i.copy(g),g}function qu(i){var a=new i.constructor(i.byteLength);return new pl(a).set(new pl(i)),a}function bw(i,a){var f=a?qu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.byteLength)}function xw(i){var a=new i.constructor(i.source,zs.exec(i));return a.lastIndex=i.lastIndex,a}function ww(i){return Yo?ze(Yo.call(i)):{}}function zp(i,a){var f=a?qu(i.buffer):i.buffer;return new i.constructor(f,i.byteOffset,i.length)}function qp(i,a){if(i!==a){var f=i!==n,g=i===null,v=i===i,_=mr(i),O=a!==n,L=a===null,V=a===a,it=mr(a);if(!L&&!it&&!_&&i>a||_&&O&&V&&!L&&!it||g&&O&&V||!f&&V||!v)return 1;if(!g&&!_&&!it&&i<a||it&&f&&v&&!g&&!_||L&&f&&v||!O&&v||!V)return-1}return 0}function _w(i,a,f){for(var g=-1,v=i.criteria,_=a.criteria,O=v.length,L=f.length;++g<O;){var V=qp(v[g],_[g]);if(V){if(g>=L)return V;var it=f[g];return V*(it=="desc"?-1:1)}}return i.index-a.index}function Gp(i,a,f,g){for(var v=-1,_=i.length,O=f.length,L=-1,V=a.length,it=Tn(_-O,0),ot=G(V+it),dt=!g;++L<V;)ot[L]=a[L];for(;++v<O;)(dt||v<_)&&(ot[f[v]]=i[v]);for(;it--;)ot[L++]=i[v++];return ot}function Xp(i,a,f,g){for(var v=-1,_=i.length,O=-1,L=f.length,V=-1,it=a.length,ot=Tn(_-L,0),dt=G(ot+it),Pt=!g;++v<ot;)dt[v]=i[v];for(var Ft=v;++V<it;)dt[Ft+V]=a[V];for(;++O<L;)(Pt||v<_)&&(dt[Ft+f[O]]=i[v++]);return dt}function er(i,a){var f=-1,g=i.length;for(a||(a=G(g));++f<g;)a[f]=i[f];return a}function as(i,a,f,g){var v=!f;f||(f={});for(var _=-1,O=a.length;++_<O;){var L=a[_],V=g?g(f[L],i[L],L,f,i):n;V===n&&(V=i[L]),v?ws(f,L,V):jo(f,L,V)}return f}function Sw(i,a){return as(i,Qu(i),a)}function Cw(i,a){return as(i,og(i),a)}function Ml(i,a){return function(f,g){var v=oe(f)?Mb:Gx,_=a?a():{};return v(f,i,Gt(g,2),_)}}function fo(i){return pe(function(a,f){var g=-1,v=f.length,_=v>1?f[v-1]:n,O=v>2?f[2]:n;for(_=i.length>3&&typeof _=="function"?(v--,_):n,O&&qn(f[0],f[1],O)&&(_=v<3?n:_,v=1),a=ze(a);++g<v;){var L=f[g];L&&i(a,L,g,_)}return a})}function Yp(i,a){return function(f,g){if(f==null)return f;if(!nr(f))return i(f,g);for(var v=f.length,_=a?v:-1,O=ze(f);(a?_--:++_<v)&&g(O[_],_,O)!==!1;);return f}}function jp(i){return function(a,f,g){for(var v=-1,_=ze(a),O=g(a),L=O.length;L--;){var V=O[i?L:++v];if(f(_[V],V,_)===!1)break}return a}}function Ew(i,a,f){var g=a&S,v=ta(i);function _(){var O=this&&this!==In&&this instanceof _?v:i;return O.apply(g?f:this,arguments)}return _}function Kp(i){return function(a){a=Ne(a);var f=so(a)?Wr(a):n,g=f?f[0]:a.charAt(0),v=f?Qs(f,1).join(""):a.slice(1);return g[i]()+v}}function ho(i){return function(a){return mu(Yg(Xg(a).replace(gb,"")),i,"")}}function ta(i){return function(){var a=arguments;switch(a.length){case 0:return new i;case 1:return new i(a[0]);case 2:return new i(a[0],a[1]);case 3:return new i(a[0],a[1],a[2]);case 4:return new i(a[0],a[1],a[2],a[3]);case 5:return new i(a[0],a[1],a[2],a[3],a[4]);case 6:return new i(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new i(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var f=uo(i.prototype),g=i.apply(f,a);return fn(g)?g:f}}function Aw(i,a,f){var g=ta(i);function v(){for(var _=arguments.length,O=G(_),L=_,V=po(v);L--;)O[L]=arguments[L];var it=_<3&&O[0]!==V&&O[_-1]!==V?[]:Xs(O,V);if(_-=it.length,_<f)return eg(i,a,Rl,v.placeholder,n,O,it,n,n,f-_);var ot=this&&this!==In&&this instanceof v?g:i;return dr(ot,this,O)}return v}function Zp(i){return function(a,f,g){var v=ze(a);if(!nr(a)){var _=Gt(f,3);a=Rn(a),f=function(L){return _(v[L],L,v)}}var O=i(a,f,g);return O>-1?v[_?a[O]:O]:n}}function Qp(i){return Ss(function(a){var f=a.length,g=f,v=Rr.prototype.thru;for(i&&a.reverse();g--;){var _=a[g];if(typeof _!="function")throw new Mr(l);if(v&&!O&&Ll(_)=="wrapper")var O=new Rr([],!0)}for(g=O?g:f;++g<f;){_=a[g];var L=Ll(_),V=L=="wrapper"?Ku(_):n;V&&tf(V[0])&&V[1]==(W|I|q|vt)&&!V[4].length&&V[9]==1?O=O[Ll(V[0])].apply(O,V[3]):O=_.length==1&&tf(_)?O[L]():O.thru(_)}return function(){var it=arguments,ot=it[0];if(O&&it.length==1&&oe(ot))return O.plant(ot).value();for(var dt=0,Pt=f?a[dt].apply(this,it):ot;++dt<f;)Pt=a[dt].call(this,Pt);return Pt}})}function Rl(i,a,f,g,v,_,O,L,V,it){var ot=a&W,dt=a&S,Pt=a&M,Ft=a&(I|D),Xt=a&ut,de=Pt?n:ta(i);function Yt(){for(var be=arguments.length,Se=G(be),yr=be;yr--;)Se[yr]=arguments[yr];if(Ft)var Gn=po(Yt),vr=Ub(Se,Gn);if(g&&(Se=Gp(Se,g,v,Ft)),_&&(Se=Xp(Se,_,O,Ft)),be-=vr,Ft&&be<it){var bn=Xs(Se,Gn);return eg(i,a,Rl,Yt.placeholder,f,Se,bn,L,V,it-be)}var Gr=dt?f:this,Ts=Pt?Gr[i]:i;return be=Se.length,L?Se=Gw(Se,L):Xt&&be>1&&Se.reverse(),ot&&V<be&&(Se.length=V),this&&this!==In&&this instanceof Yt&&(Ts=de||ta(Ts)),Ts.apply(Gr,Se)}return Yt}function Jp(i,a){return function(f,g){return tw(f,i,a(g),{})}}function Pl(i,a){return function(f,g){var v;if(f===n&&g===n)return a;if(f!==n&&(v=f),g!==n){if(v===n)return g;typeof f=="string"||typeof g=="string"?(f=gr(f),g=gr(g)):(f=Up(f),g=Up(g)),v=i(f,g)}return v}}function Gu(i){return Ss(function(a){return a=on(a,pr(Gt())),pe(function(f){var g=this;return i(a,function(v){return dr(v,g,f)})})})}function Ol(i,a){a=a===n?" ":gr(a);var f=a.length;if(f<2)return f?Fu(a,i):a;var g=Fu(a,vl(i/io(a)));return so(a)?Qs(Wr(g),0,i).join(""):g.slice(0,i)}function Tw(i,a,f,g){var v=a&S,_=ta(i);function O(){for(var L=-1,V=arguments.length,it=-1,ot=g.length,dt=G(ot+V),Pt=this&&this!==In&&this instanceof O?_:i;++it<ot;)dt[it]=g[it];for(;V--;)dt[it++]=arguments[++L];return dr(Pt,v?f:this,dt)}return O}function tg(i){return function(a,f,g){return g&&typeof g!="number"&&qn(a,f,g)&&(f=g=n),a=As(a),f===n?(f=a,a=0):f=As(f),g=g===n?a<f?1:-1:As(g),hw(a,f,g,i)}}function Il(i){return function(a,f){return typeof a=="string"&&typeof f=="string"||(a=Lr(a),f=Lr(f)),i(a,f)}}function eg(i,a,f,g,v,_,O,L,V,it){var ot=a&I,dt=ot?O:n,Pt=ot?n:O,Ft=ot?_:n,Xt=ot?n:_;a|=ot?q:Q,a&=~(ot?Q:q),a&$||(a&=-4);var de=[i,a,v,Ft,dt,Xt,Pt,L,V,it],Yt=f.apply(n,de);return tf(i)&&dg(Yt,de),Yt.placeholder=g,pg(Yt,i,a)}function Xu(i){var a=An[i];return function(f,g){if(f=Lr(f),g=g==null?0:$n(fe(g),292),g&&pp(f)){var v=(Ne(f)+"e").split("e"),_=a(v[0]+"e"+(+v[1]+g));return v=(Ne(_)+"e").split("e"),+(v[0]+"e"+(+v[1]-g))}return a(f)}}var kw=lo&&1/ll(new lo([,-0]))[1]==ct?function(i){return new lo(i)}:mf;function ng(i){return function(a){var f=Un(a);return f==N?Su(a):f==H?qb(a):$b(a,i(a))}}function _s(i,a,f,g,v,_,O,L){var V=a&M;if(!V&&typeof i!="function")throw new Mr(l);var it=g?g.length:0;if(it||(a&=-97,g=v=n),O=O===n?O:Tn(fe(O),0),L=L===n?L:fe(L),it-=v?v.length:0,a&Q){var ot=g,dt=v;g=v=n}var Pt=V?n:Ku(i),Ft=[i,a,f,g,v,ot,dt,_,O,L];if(Pt&&Ww(Ft,Pt),i=Ft[0],a=Ft[1],f=Ft[2],g=Ft[3],v=Ft[4],L=Ft[9]=Ft[9]===n?V?0:i.length:Tn(Ft[9]-it,0),!L&&a&(I|D)&&(a&=-25),!a||a==S)var Xt=Ew(i,a,f);else a==I||a==D?Xt=Aw(i,a,L):(a==q||a==(S|q))&&!v.length?Xt=Tw(i,a,f,g):Xt=Rl.apply(n,Ft);var de=Pt?Dp:dg;return pg(de(Xt,Ft),i,a)}function rg(i,a,f,g){return i===n||qr(i,ao[f])&&!Fe.call(g,f)?a:i}function sg(i,a,f,g,v,_){return fn(i)&&fn(a)&&(_.set(a,i),Al(i,a,n,sg,_),_.delete(a)),i}function Mw(i){return ra(i)?n:i}function ig(i,a,f,g,v,_){var O=f&x,L=i.length,V=a.length;if(L!=V&&!(O&&V>L))return!1;var it=_.get(i),ot=_.get(a);if(it&&ot)return it==a&&ot==i;var dt=-1,Pt=!0,Ft=f&C?new Ci:n;for(_.set(i,a),_.set(a,i);++dt<L;){var Xt=i[dt],de=a[dt];if(g)var Yt=O?g(de,Xt,dt,a,i,_):g(Xt,de,dt,i,a,_);if(Yt!==n){if(Yt)continue;Pt=!1;break}if(Ft){if(!yu(a,function(be,Se){if(!Wo(Ft,Se)&&(Xt===be||v(Xt,be,f,g,_)))return Ft.push(Se)})){Pt=!1;break}}else if(!(Xt===de||v(Xt,de,f,g,_))){Pt=!1;break}}return _.delete(i),_.delete(a),Pt}function Rw(i,a,f,g,v,_,O){switch(f){case qt:if(i.byteLength!=a.byteLength||i.byteOffset!=a.byteOffset)return!1;i=i.buffer,a=a.buffer;case Bt:return!(i.byteLength!=a.byteLength||!_(new pl(i),new pl(a)));case pt:case ht:case Y:return qr(+i,+a);case xt:return i.name==a.name&&i.message==a.message;case B:case et:return i==a+"";case N:var L=Su;case H:var V=g&x;if(L||(L=ll),i.size!=a.size&&!V)return!1;var it=O.get(i);if(it)return it==a;g|=C,O.set(i,a);var ot=ig(L(i),L(a),g,v,_,O);return O.delete(i),ot;case rt:if(Yo)return Yo.call(i)==Yo.call(a)}return!1}function Pw(i,a,f,g,v,_){var O=f&x,L=Yu(i),V=L.length,it=Yu(a),ot=it.length;if(V!=ot&&!O)return!1;for(var dt=V;dt--;){var Pt=L[dt];if(!(O?Pt in a:Fe.call(a,Pt)))return!1}var Ft=_.get(i),Xt=_.get(a);if(Ft&&Xt)return Ft==a&&Xt==i;var de=!0;_.set(i,a),_.set(a,i);for(var Yt=O;++dt<V;){Pt=L[dt];var be=i[Pt],Se=a[Pt];if(g)var yr=O?g(Se,be,Pt,a,i,_):g(be,Se,Pt,i,a,_);if(!(yr===n?be===Se||v(be,Se,f,g,_):yr)){de=!1;break}Yt||(Yt=Pt=="constructor")}if(de&&!Yt){var Gn=i.constructor,vr=a.constructor;Gn!=vr&&"constructor"in i&&"constructor"in a&&!(typeof Gn=="function"&&Gn instanceof Gn&&typeof vr=="function"&&vr instanceof vr)&&(de=!1)}return _.delete(i),_.delete(a),de}function Ss(i){return nf(fg(i,n,xg),i+"")}function Yu(i){return Ep(i,Rn,Qu)}function ju(i){return Ep(i,rr,og)}var Ku=xl?function(i){return xl.get(i)}:mf;function Ll(i){for(var a=i.name+"",f=co[a],g=Fe.call(co,a)?f.length:0;g--;){var v=f[g],_=v.func;if(_==null||_==i)return v.name}return a}function po(i){var a=Fe.call(w,"placeholder")?w:i;return a.placeholder}function Gt(){var i=w.iteratee||pf;return i=i===pf?kp:i,arguments.length?i(arguments[0],arguments[1]):i}function Nl(i,a){var f=i.__data__;return Fw(a)?f[typeof a=="string"?"string":"hash"]:f.map}function Zu(i){for(var a=Rn(i),f=a.length;f--;){var g=a[f],v=i[g];a[f]=[g,v,cg(v)]}return a}function Ti(i,a){var f=Hb(i,a);return Tp(f)?f:n}function Ow(i){var a=Fe.call(i,_i),f=i[_i];try{i[_i]=n;var g=!0}catch{}var v=hl.call(i);return g&&(a?i[_i]=f:delete i[_i]),v}var Qu=Eu?function(i){return i==null?[]:(i=ze(i),qs(Eu(i),function(a){return hp.call(i,a)}))}:yf,og=Eu?function(i){for(var a=[];i;)Gs(a,Qu(i)),i=gl(i);return a}:yf,Un=zn;(Au&&Un(new Au(new ArrayBuffer(1)))!=qt||qo&&Un(new qo)!=N||Tu&&Un(Tu.resolve())!=k||lo&&Un(new lo)!=H||Go&&Un(new Go)!=Mt)&&(Un=function(i){var a=zn(i),f=a==T?i.constructor:n,g=f?ki(f):"";if(g)switch(g){case px:return qt;case gx:return N;case mx:return k;case yx:return H;case vx:return Mt}return a});function Iw(i,a,f){for(var g=-1,v=f.length;++g<v;){var _=f[g],O=_.size;switch(_.type){case"drop":i+=O;break;case"dropRight":a-=O;break;case"take":a=$n(a,i+O);break;case"takeRight":i=Tn(i,a-O);break}}return{start:i,end:a}}function Lw(i){var a=i.match(Pe);return a?a[1].split(Cn):[]}function ag(i,a,f){a=Zs(a,i);for(var g=-1,v=a.length,_=!1;++g<v;){var O=ls(a[g]);if(!(_=i!=null&&f(i,O)))break;i=i[O]}return _||++g!=v?_:(v=i==null?0:i.length,!!v&&Hl(v)&&Cs(O,v)&&(oe(i)||Mi(i)))}function Nw(i){var a=i.length,f=new i.constructor(a);return a&&typeof i[0]=="string"&&Fe.call(i,"index")&&(f.index=i.index,f.input=i.input),f}function lg(i){return typeof i.constructor=="function"&&!ea(i)?uo(gl(i)):{}}function Dw(i,a,f){var g=i.constructor;switch(a){case Bt:return qu(i);case pt:case ht:return new g(+i);case qt:return bw(i,f);case Te:case ke:case Jt:case Zt:case We:case hn:case Ie:case _e:case mn:return zp(i,f);case N:return new g;case Y:case et:return new g(i);case B:return xw(i);case H:return new g;case rt:return ww(i)}}function $w(i,a){var f=a.length;if(!f)return i;var g=f-1;return a[g]=(f>1?"& ":"")+a[g],a=a.join(f>2?", ":" "),i.replace(ye,`{
/* [wrapped with `+a+`] */
`)}function Uw(i){return oe(i)||Mi(i)||!!(dp&&i&&i[dp])}function Cs(i,a){var f=typeof i;return a=a??at,!!a&&(f=="number"||f!="symbol"&&En.test(i))&&i>-1&&i%1==0&&i<a}function qn(i,a,f){if(!fn(f))return!1;var g=typeof a;return(g=="number"?nr(f)&&Cs(a,f.length):g=="string"&&a in f)?qr(f[a],i):!1}function Ju(i,a){if(oe(i))return!1;var f=typeof i;return f=="number"||f=="symbol"||f=="boolean"||i==null||mr(i)?!0:st.test(i)||!lt.test(i)||a!=null&&i in ze(a)}function Fw(i){var a=typeof i;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?i!=="__proto__":i===null}function tf(i){var a=Ll(i),f=w[a];if(typeof f!="function"||!(a in xe.prototype))return!1;if(i===f)return!0;var g=Ku(f);return!!g&&i===g[0]}function Vw(i){return!!cp&&cp in i}var Bw=ul?Es:vf;function ea(i){var a=i&&i.constructor,f=typeof a=="function"&&a.prototype||ao;return i===f}function cg(i){return i===i&&!fn(i)}function ug(i,a){return function(f){return f==null?!1:f[i]===a&&(a!==n||i in ze(f))}}function Hw(i){var a=Vl(i,function(g){return f.size===h&&f.clear(),g}),f=a.cache;return a}function Ww(i,a){var f=i[1],g=a[1],v=f|g,_=v<(S|M|W),O=g==W&&f==I||g==W&&f==vt&&i[7].length<=a[8]||g==(W|vt)&&a[7].length<=a[8]&&f==I;if(!(_||O))return i;g&S&&(i[2]=a[2],v|=f&S?0:$);var L=a[3];if(L){var V=i[3];i[3]=V?Gp(V,L,a[4]):L,i[4]=V?Xs(i[3],d):a[4]}return L=a[5],L&&(V=i[5],i[5]=V?Xp(V,L,a[6]):L,i[6]=V?Xs(i[5],d):a[6]),L=a[7],L&&(i[7]=L),g&W&&(i[8]=i[8]==null?a[8]:$n(i[8],a[8])),i[9]==null&&(i[9]=a[9]),i[0]=a[0],i[1]=v,i}function zw(i){var a=[];if(i!=null)for(var f in ze(i))a.push(f);return a}function qw(i){return hl.call(i)}function fg(i,a,f){return a=Tn(a===n?i.length-1:a,0),function(){for(var g=arguments,v=-1,_=Tn(g.length-a,0),O=G(_);++v<_;)O[v]=g[a+v];v=-1;for(var L=G(a+1);++v<a;)L[v]=g[v];return L[a]=f(O),dr(i,this,L)}}function hg(i,a){return a.length<2?i:Ai(i,Or(a,0,-1))}function Gw(i,a){for(var f=i.length,g=$n(a.length,f),v=er(i);g--;){var _=a[g];i[g]=Cs(_,f)?v[_]:n}return i}function ef(i,a){if(!(a==="constructor"&&typeof i[a]=="function")&&a!="__proto__")return i[a]}var dg=gg(Dp),na=ax||function(i,a){return In.setTimeout(i,a)},nf=gg(gw);function pg(i,a,f){var g=a+"";return nf(i,$w(g,Xw(Lw(g),f)))}function gg(i){var a=0,f=0;return function(){var g=fx(),v=Ot-(g-f);if(f=g,v>0){if(++a>=ft)return arguments[0]}else a=0;return i.apply(n,arguments)}}function Dl(i,a){var f=-1,g=i.length,v=g-1;for(a=a===n?g:a;++f<a;){var _=Uu(f,v),O=i[_];i[_]=i[f],i[f]=O}return i.length=a,i}var mg=Hw(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(Et,function(f,g,v,_){a.push(v?_.replace(Ws,"$1"):g||f)}),a});function ls(i){if(typeof i=="string"||mr(i))return i;var a=i+"";return a=="0"&&1/i==-1/0?"-0":a}function ki(i){if(i!=null){try{return fl.call(i)}catch{}try{return i+""}catch{}}return""}function Xw(i,a){return kr(At,function(f){var g="_."+f[0];a&f[1]&&!ol(i,g)&&i.push(g)}),i.sort()}function yg(i){if(i instanceof xe)return i.clone();var a=new Rr(i.__wrapped__,i.__chain__);return a.__actions__=er(i.__actions__),a.__index__=i.__index__,a.__values__=i.__values__,a}function Yw(i,a,f){(f?qn(i,a,f):a===n)?a=1:a=Tn(fe(a),0);var g=i==null?0:i.length;if(!g||a<1)return[];for(var v=0,_=0,O=G(vl(g/a));v<g;)O[_++]=Or(i,v,v+=a);return O}function jw(i){for(var a=-1,f=i==null?0:i.length,g=0,v=[];++a<f;){var _=i[a];_&&(v[g++]=_)}return v}function Kw(){var i=arguments.length;if(!i)return[];for(var a=G(i-1),f=arguments[0],g=i;g--;)a[g-1]=arguments[g];return Gs(oe(f)?er(f):[f],Ln(a,1))}var Zw=pe(function(i,a){return vn(i)?Ko(i,Ln(a,1,vn,!0)):[]}),Qw=pe(function(i,a){var f=Ir(a);return vn(f)&&(f=n),vn(i)?Ko(i,Ln(a,1,vn,!0),Gt(f,2)):[]}),Jw=pe(function(i,a){var f=Ir(a);return vn(f)&&(f=n),vn(i)?Ko(i,Ln(a,1,vn,!0),n,f):[]});function t_(i,a,f){var g=i==null?0:i.length;return g?(a=f||a===n?1:fe(a),Or(i,a<0?0:a,g)):[]}function e_(i,a,f){var g=i==null?0:i.length;return g?(a=f||a===n?1:fe(a),a=g-a,Or(i,0,a<0?0:a)):[]}function n_(i,a){return i&&i.length?kl(i,Gt(a,3),!0,!0):[]}function r_(i,a){return i&&i.length?kl(i,Gt(a,3),!0):[]}function s_(i,a,f,g){var v=i==null?0:i.length;return v?(f&&typeof f!="number"&&qn(i,a,f)&&(f=0,g=v),Kx(i,a,f,g)):[]}function vg(i,a,f){var g=i==null?0:i.length;if(!g)return-1;var v=f==null?0:fe(f);return v<0&&(v=Tn(g+v,0)),al(i,Gt(a,3),v)}function bg(i,a,f){var g=i==null?0:i.length;if(!g)return-1;var v=g-1;return f!==n&&(v=fe(f),v=f<0?Tn(g+v,0):$n(v,g-1)),al(i,Gt(a,3),v,!0)}function xg(i){var a=i==null?0:i.length;return a?Ln(i,1):[]}function i_(i){var a=i==null?0:i.length;return a?Ln(i,ct):[]}function o_(i,a){var f=i==null?0:i.length;return f?(a=a===n?1:fe(a),Ln(i,a)):[]}function a_(i){for(var a=-1,f=i==null?0:i.length,g={};++a<f;){var v=i[a];g[v[0]]=v[1]}return g}function wg(i){return i&&i.length?i[0]:n}function l_(i,a,f){var g=i==null?0:i.length;if(!g)return-1;var v=f==null?0:fe(f);return v<0&&(v=Tn(g+v,0)),ro(i,a,v)}function c_(i){var a=i==null?0:i.length;return a?Or(i,0,-1):[]}var u_=pe(function(i){var a=on(i,Wu);return a.length&&a[0]===i[0]?Iu(a):[]}),f_=pe(function(i){var a=Ir(i),f=on(i,Wu);return a===Ir(f)?a=n:f.pop(),f.length&&f[0]===i[0]?Iu(f,Gt(a,2)):[]}),h_=pe(function(i){var a=Ir(i),f=on(i,Wu);return a=typeof a=="function"?a:n,a&&f.pop(),f.length&&f[0]===i[0]?Iu(f,n,a):[]});function d_(i,a){return i==null?"":cx.call(i,a)}function Ir(i){var a=i==null?0:i.length;return a?i[a-1]:n}function p_(i,a,f){var g=i==null?0:i.length;if(!g)return-1;var v=g;return f!==n&&(v=fe(f),v=v<0?Tn(g+v,0):$n(v,g-1)),a===a?Xb(i,a,v):al(i,ep,v,!0)}function g_(i,a){return i&&i.length?Op(i,fe(a)):n}var m_=pe(_g);function _g(i,a){return i&&i.length&&a&&a.length?$u(i,a):i}function y_(i,a,f){return i&&i.length&&a&&a.length?$u(i,a,Gt(f,2)):i}function v_(i,a,f){return i&&i.length&&a&&a.length?$u(i,a,n,f):i}var b_=Ss(function(i,a){var f=i==null?0:i.length,g=Mu(i,a);return Np(i,on(a,function(v){return Cs(v,f)?+v:v}).sort(qp)),g});function x_(i,a){var f=[];if(!(i&&i.length))return f;var g=-1,v=[],_=i.length;for(a=Gt(a,3);++g<_;){var O=i[g];a(O,g,i)&&(f.push(O),v.push(g))}return Np(i,v),f}function rf(i){return i==null?i:dx.call(i)}function w_(i,a,f){var g=i==null?0:i.length;return g?(f&&typeof f!="number"&&qn(i,a,f)?(a=0,f=g):(a=a==null?0:fe(a),f=f===n?g:fe(f)),Or(i,a,f)):[]}function __(i,a){return Tl(i,a)}function S_(i,a,f){return Vu(i,a,Gt(f,2))}function C_(i,a){var f=i==null?0:i.length;if(f){var g=Tl(i,a);if(g<f&&qr(i[g],a))return g}return-1}function E_(i,a){return Tl(i,a,!0)}function A_(i,a,f){return Vu(i,a,Gt(f,2),!0)}function T_(i,a){var f=i==null?0:i.length;if(f){var g=Tl(i,a,!0)-1;if(qr(i[g],a))return g}return-1}function k_(i){return i&&i.length?$p(i):[]}function M_(i,a){return i&&i.length?$p(i,Gt(a,2)):[]}function R_(i){var a=i==null?0:i.length;return a?Or(i,1,a):[]}function P_(i,a,f){return i&&i.length?(a=f||a===n?1:fe(a),Or(i,0,a<0?0:a)):[]}function O_(i,a,f){var g=i==null?0:i.length;return g?(a=f||a===n?1:fe(a),a=g-a,Or(i,a<0?0:a,g)):[]}function I_(i,a){return i&&i.length?kl(i,Gt(a,3),!1,!0):[]}function L_(i,a){return i&&i.length?kl(i,Gt(a,3)):[]}var N_=pe(function(i){return Ks(Ln(i,1,vn,!0))}),D_=pe(function(i){var a=Ir(i);return vn(a)&&(a=n),Ks(Ln(i,1,vn,!0),Gt(a,2))}),$_=pe(function(i){var a=Ir(i);return a=typeof a=="function"?a:n,Ks(Ln(i,1,vn,!0),n,a)});function U_(i){return i&&i.length?Ks(i):[]}function F_(i,a){return i&&i.length?Ks(i,Gt(a,2)):[]}function V_(i,a){return a=typeof a=="function"?a:n,i&&i.length?Ks(i,n,a):[]}function sf(i){if(!(i&&i.length))return[];var a=0;return i=qs(i,function(f){if(vn(f))return a=Tn(f.length,a),!0}),wu(a,function(f){return on(i,vu(f))})}function Sg(i,a){if(!(i&&i.length))return[];var f=sf(i);return a==null?f:on(f,function(g){return dr(a,n,g)})}var B_=pe(function(i,a){return vn(i)?Ko(i,a):[]}),H_=pe(function(i){return Hu(qs(i,vn))}),W_=pe(function(i){var a=Ir(i);return vn(a)&&(a=n),Hu(qs(i,vn),Gt(a,2))}),z_=pe(function(i){var a=Ir(i);return a=typeof a=="function"?a:n,Hu(qs(i,vn),n,a)}),q_=pe(sf);function G_(i,a){return Bp(i||[],a||[],jo)}function X_(i,a){return Bp(i||[],a||[],Jo)}var Y_=pe(function(i){var a=i.length,f=a>1?i[a-1]:n;return f=typeof f=="function"?(i.pop(),f):n,Sg(i,f)});function Cg(i){var a=w(i);return a.__chain__=!0,a}function j_(i,a){return a(i),i}function $l(i,a){return a(i)}var K_=Ss(function(i){var a=i.length,f=a?i[0]:0,g=this.__wrapped__,v=function(_){return Mu(_,i)};return a>1||this.__actions__.length||!(g instanceof xe)||!Cs(f)?this.thru(v):(g=g.slice(f,+f+(a?1:0)),g.__actions__.push({func:$l,args:[v],thisArg:n}),new Rr(g,this.__chain__).thru(function(_){return a&&!_.length&&_.push(n),_}))});function Z_(){return Cg(this)}function Q_(){return new Rr(this.value(),this.__chain__)}function J_(){this.__values__===n&&(this.__values__=Ug(this.value()));var i=this.__index__>=this.__values__.length,a=i?n:this.__values__[this.__index__++];return{done:i,value:a}}function t2(){return this}function e2(i){for(var a,f=this;f instanceof _l;){var g=yg(f);g.__index__=0,g.__values__=n,a?v.__wrapped__=g:a=g;var v=g;f=f.__wrapped__}return v.__wrapped__=i,a}function n2(){var i=this.__wrapped__;if(i instanceof xe){var a=i;return this.__actions__.length&&(a=new xe(this)),a=a.reverse(),a.__actions__.push({func:$l,args:[rf],thisArg:n}),new Rr(a,this.__chain__)}return this.thru(rf)}function r2(){return Vp(this.__wrapped__,this.__actions__)}var s2=Ml(function(i,a,f){Fe.call(i,f)?++i[f]:ws(i,f,1)});function i2(i,a,f){var g=oe(i)?Jd:jx;return f&&qn(i,a,f)&&(a=n),g(i,Gt(a,3))}function o2(i,a){var f=oe(i)?qs:Sp;return f(i,Gt(a,3))}var a2=Zp(vg),l2=Zp(bg);function c2(i,a){return Ln(Ul(i,a),1)}function u2(i,a){return Ln(Ul(i,a),ct)}function f2(i,a,f){return f=f===n?1:fe(f),Ln(Ul(i,a),f)}function Eg(i,a){var f=oe(i)?kr:js;return f(i,Gt(a,3))}function Ag(i,a){var f=oe(i)?Rb:_p;return f(i,Gt(a,3))}var h2=Ml(function(i,a,f){Fe.call(i,f)?i[f].push(a):ws(i,f,[a])});function d2(i,a,f,g){i=nr(i)?i:mo(i),f=f&&!g?fe(f):0;var v=i.length;return f<0&&(f=Tn(v+f,0)),Wl(i)?f<=v&&i.indexOf(a,f)>-1:!!v&&ro(i,a,f)>-1}var p2=pe(function(i,a,f){var g=-1,v=typeof a=="function",_=nr(i)?G(i.length):[];return js(i,function(O){_[++g]=v?dr(a,O,f):Zo(O,a,f)}),_}),g2=Ml(function(i,a,f){ws(i,f,a)});function Ul(i,a){var f=oe(i)?on:Mp;return f(i,Gt(a,3))}function m2(i,a,f,g){return i==null?[]:(oe(a)||(a=a==null?[]:[a]),f=g?n:f,oe(f)||(f=f==null?[]:[f]),Ip(i,a,f))}var y2=Ml(function(i,a,f){i[f?0:1].push(a)},function(){return[[],[]]});function v2(i,a,f){var g=oe(i)?mu:rp,v=arguments.length<3;return g(i,Gt(a,4),f,v,js)}function b2(i,a,f){var g=oe(i)?Pb:rp,v=arguments.length<3;return g(i,Gt(a,4),f,v,_p)}function x2(i,a){var f=oe(i)?qs:Sp;return f(i,Bl(Gt(a,3)))}function w2(i){var a=oe(i)?vp:dw;return a(i)}function _2(i,a,f){(f?qn(i,a,f):a===n)?a=1:a=fe(a);var g=oe(i)?zx:pw;return g(i,a)}function S2(i){var a=oe(i)?qx:mw;return a(i)}function C2(i){if(i==null)return 0;if(nr(i))return Wl(i)?io(i):i.length;var a=Un(i);return a==N||a==H?i.size:Nu(i).length}function E2(i,a,f){var g=oe(i)?yu:yw;return f&&qn(i,a,f)&&(a=n),g(i,Gt(a,3))}var A2=pe(function(i,a){if(i==null)return[];var f=a.length;return f>1&&qn(i,a[0],a[1])?a=[]:f>2&&qn(a[0],a[1],a[2])&&(a=[a[0]]),Ip(i,Ln(a,1),[])}),Fl=ox||function(){return In.Date.now()};function T2(i,a){if(typeof a!="function")throw new Mr(l);return i=fe(i),function(){if(--i<1)return a.apply(this,arguments)}}function Tg(i,a,f){return a=f?n:a,a=i&&a==null?i.length:a,_s(i,W,n,n,n,n,a)}function kg(i,a){var f;if(typeof a!="function")throw new Mr(l);return i=fe(i),function(){return--i>0&&(f=a.apply(this,arguments)),i<=1&&(a=n),f}}var of=pe(function(i,a,f){var g=S;if(f.length){var v=Xs(f,po(of));g|=q}return _s(i,g,a,f,v)}),Mg=pe(function(i,a,f){var g=S|M;if(f.length){var v=Xs(f,po(Mg));g|=q}return _s(a,g,i,f,v)});function Rg(i,a,f){a=f?n:a;var g=_s(i,I,n,n,n,n,n,a);return g.placeholder=Rg.placeholder,g}function Pg(i,a,f){a=f?n:a;var g=_s(i,D,n,n,n,n,n,a);return g.placeholder=Pg.placeholder,g}function Og(i,a,f){var g,v,_,O,L,V,it=0,ot=!1,dt=!1,Pt=!0;if(typeof i!="function")throw new Mr(l);a=Lr(a)||0,fn(f)&&(ot=!!f.leading,dt="maxWait"in f,_=dt?Tn(Lr(f.maxWait)||0,a):_,Pt="trailing"in f?!!f.trailing:Pt);function Ft(bn){var Gr=g,Ts=v;return g=v=n,it=bn,O=i.apply(Ts,Gr),O}function Xt(bn){return it=bn,L=na(be,a),ot?Ft(bn):O}function de(bn){var Gr=bn-V,Ts=bn-it,Zg=a-Gr;return dt?$n(Zg,_-Ts):Zg}function Yt(bn){var Gr=bn-V,Ts=bn-it;return V===n||Gr>=a||Gr<0||dt&&Ts>=_}function be(){var bn=Fl();if(Yt(bn))return Se(bn);L=na(be,de(bn))}function Se(bn){return L=n,Pt&&g?Ft(bn):(g=v=n,O)}function yr(){L!==n&&Hp(L),it=0,g=V=v=L=n}function Gn(){return L===n?O:Se(Fl())}function vr(){var bn=Fl(),Gr=Yt(bn);if(g=arguments,v=this,V=bn,Gr){if(L===n)return Xt(V);if(dt)return Hp(L),L=na(be,a),Ft(V)}return L===n&&(L=na(be,a)),O}return vr.cancel=yr,vr.flush=Gn,vr}var k2=pe(function(i,a){return wp(i,1,a)}),M2=pe(function(i,a,f){return wp(i,Lr(a)||0,f)});function R2(i){return _s(i,ut)}function Vl(i,a){if(typeof i!="function"||a!=null&&typeof a!="function")throw new Mr(l);var f=function(){var g=arguments,v=a?a.apply(this,g):g[0],_=f.cache;if(_.has(v))return _.get(v);var O=i.apply(this,g);return f.cache=_.set(v,O)||_,O};return f.cache=new(Vl.Cache||xs),f}Vl.Cache=xs;function Bl(i){if(typeof i!="function")throw new Mr(l);return function(){var a=arguments;switch(a.length){case 0:return!i.call(this);case 1:return!i.call(this,a[0]);case 2:return!i.call(this,a[0],a[1]);case 3:return!i.call(this,a[0],a[1],a[2])}return!i.apply(this,a)}}function P2(i){return kg(2,i)}var O2=vw(function(i,a){a=a.length==1&&oe(a[0])?on(a[0],pr(Gt())):on(Ln(a,1),pr(Gt()));var f=a.length;return pe(function(g){for(var v=-1,_=$n(g.length,f);++v<_;)g[v]=a[v].call(this,g[v]);return dr(i,this,g)})}),af=pe(function(i,a){var f=Xs(a,po(af));return _s(i,q,n,a,f)}),Ig=pe(function(i,a){var f=Xs(a,po(Ig));return _s(i,Q,n,a,f)}),I2=Ss(function(i,a){return _s(i,vt,n,n,n,a)});function L2(i,a){if(typeof i!="function")throw new Mr(l);return a=a===n?a:fe(a),pe(i,a)}function N2(i,a){if(typeof i!="function")throw new Mr(l);return a=a==null?0:Tn(fe(a),0),pe(function(f){var g=f[a],v=Qs(f,0,a);return g&&Gs(v,g),dr(i,this,v)})}function D2(i,a,f){var g=!0,v=!0;if(typeof i!="function")throw new Mr(l);return fn(f)&&(g="leading"in f?!!f.leading:g,v="trailing"in f?!!f.trailing:v),Og(i,a,{leading:g,maxWait:a,trailing:v})}function $2(i){return Tg(i,1)}function U2(i,a){return af(zu(a),i)}function F2(){if(!arguments.length)return[];var i=arguments[0];return oe(i)?i:[i]}function V2(i){return Pr(i,y)}function B2(i,a){return a=typeof a=="function"?a:n,Pr(i,y,a)}function H2(i){return Pr(i,p|y)}function W2(i,a){return a=typeof a=="function"?a:n,Pr(i,p|y,a)}function z2(i,a){return a==null||xp(i,a,Rn(a))}function qr(i,a){return i===a||i!==i&&a!==a}var q2=Il(Ou),G2=Il(function(i,a){return i>=a}),Mi=Ap(function(){return arguments}())?Ap:function(i){return dn(i)&&Fe.call(i,"callee")&&!hp.call(i,"callee")},oe=G.isArray,X2=Xd?pr(Xd):ew;function nr(i){return i!=null&&Hl(i.length)&&!Es(i)}function vn(i){return dn(i)&&nr(i)}function Y2(i){return i===!0||i===!1||dn(i)&&zn(i)==pt}var Js=lx||vf,j2=Yd?pr(Yd):nw;function K2(i){return dn(i)&&i.nodeType===1&&!ra(i)}function Z2(i){if(i==null)return!0;if(nr(i)&&(oe(i)||typeof i=="string"||typeof i.splice=="function"||Js(i)||go(i)||Mi(i)))return!i.length;var a=Un(i);if(a==N||a==H)return!i.size;if(ea(i))return!Nu(i).length;for(var f in i)if(Fe.call(i,f))return!1;return!0}function Q2(i,a){return Qo(i,a)}function J2(i,a,f){f=typeof f=="function"?f:n;var g=f?f(i,a):n;return g===n?Qo(i,a,n,f):!!g}function lf(i){if(!dn(i))return!1;var a=zn(i);return a==xt||a==Tt||typeof i.message=="string"&&typeof i.name=="string"&&!ra(i)}function tS(i){return typeof i=="number"&&pp(i)}function Es(i){if(!fn(i))return!1;var a=zn(i);return a==A||a==R||a==K||a==j}function Lg(i){return typeof i=="number"&&i==fe(i)}function Hl(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=at}function fn(i){var a=typeof i;return i!=null&&(a=="object"||a=="function")}function dn(i){return i!=null&&typeof i=="object"}var Ng=jd?pr(jd):sw;function eS(i,a){return i===a||Lu(i,a,Zu(a))}function nS(i,a,f){return f=typeof f=="function"?f:n,Lu(i,a,Zu(a),f)}function rS(i){return Dg(i)&&i!=+i}function sS(i){if(Bw(i))throw new te(o);return Tp(i)}function iS(i){return i===null}function oS(i){return i==null}function Dg(i){return typeof i=="number"||dn(i)&&zn(i)==Y}function ra(i){if(!dn(i)||zn(i)!=T)return!1;var a=gl(i);if(a===null)return!0;var f=Fe.call(a,"constructor")&&a.constructor;return typeof f=="function"&&f instanceof f&&fl.call(f)==nx}var cf=Kd?pr(Kd):iw;function aS(i){return Lg(i)&&i>=-9007199254740991&&i<=at}var $g=Zd?pr(Zd):ow;function Wl(i){return typeof i=="string"||!oe(i)&&dn(i)&&zn(i)==et}function mr(i){return typeof i=="symbol"||dn(i)&&zn(i)==rt}var go=Qd?pr(Qd):aw;function lS(i){return i===n}function cS(i){return dn(i)&&Un(i)==Mt}function uS(i){return dn(i)&&zn(i)==Ut}var fS=Il(Du),hS=Il(function(i,a){return i<=a});function Ug(i){if(!i)return[];if(nr(i))return Wl(i)?Wr(i):er(i);if(zo&&i[zo])return zb(i[zo]());var a=Un(i),f=a==N?Su:a==H?ll:mo;return f(i)}function As(i){if(!i)return i===0?i:0;if(i=Lr(i),i===ct||i===-1/0){var a=i<0?-1:1;return a*Qt}return i===i?i:0}function fe(i){var a=As(i),f=a%1;return a===a?f?a-f:a:0}function Fg(i){return i?Ei(fe(i),0,zt):0}function Lr(i){if(typeof i=="number")return i;if(mr(i))return jt;if(fn(i)){var a=typeof i.valueOf=="function"?i.valueOf():i;i=fn(a)?a+"":a}if(typeof i!="string")return i===0?i:+i;i=sp(i);var f=vs.test(i);return f||hr.test(i)?Tb(i.slice(2),f?2:8):Wn.test(i)?jt:+i}function Vg(i){return as(i,rr(i))}function dS(i){return i?Ei(fe(i),-9007199254740991,at):i===0?i:0}function Ne(i){return i==null?"":gr(i)}var pS=fo(function(i,a){if(ea(a)||nr(a)){as(a,Rn(a),i);return}for(var f in a)Fe.call(a,f)&&jo(i,f,a[f])}),Bg=fo(function(i,a){as(a,rr(a),i)}),zl=fo(function(i,a,f,g){as(a,rr(a),i,g)}),gS=fo(function(i,a,f,g){as(a,Rn(a),i,g)}),mS=Ss(Mu);function yS(i,a){var f=uo(i);return a==null?f:bp(f,a)}var vS=pe(function(i,a){i=ze(i);var f=-1,g=a.length,v=g>2?a[2]:n;for(v&&qn(a[0],a[1],v)&&(g=1);++f<g;)for(var _=a[f],O=rr(_),L=-1,V=O.length;++L<V;){var it=O[L],ot=i[it];(ot===n||qr(ot,ao[it])&&!Fe.call(i,it))&&(i[it]=_[it])}return i}),bS=pe(function(i){return i.push(n,sg),dr(Hg,n,i)});function xS(i,a){return tp(i,Gt(a,3),os)}function wS(i,a){return tp(i,Gt(a,3),Pu)}function _S(i,a){return i==null?i:Ru(i,Gt(a,3),rr)}function SS(i,a){return i==null?i:Cp(i,Gt(a,3),rr)}function CS(i,a){return i&&os(i,Gt(a,3))}function ES(i,a){return i&&Pu(i,Gt(a,3))}function AS(i){return i==null?[]:El(i,Rn(i))}function TS(i){return i==null?[]:El(i,rr(i))}function uf(i,a,f){var g=i==null?n:Ai(i,a);return g===n?f:g}function kS(i,a){return i!=null&&ag(i,a,Zx)}function ff(i,a){return i!=null&&ag(i,a,Qx)}var MS=Jp(function(i,a,f){a!=null&&typeof a.toString!="function"&&(a=hl.call(a)),i[a]=f},df(sr)),RS=Jp(function(i,a,f){a!=null&&typeof a.toString!="function"&&(a=hl.call(a)),Fe.call(i,a)?i[a].push(f):i[a]=[f]},Gt),PS=pe(Zo);function Rn(i){return nr(i)?yp(i):Nu(i)}function rr(i){return nr(i)?yp(i,!0):lw(i)}function OS(i,a){var f={};return a=Gt(a,3),os(i,function(g,v,_){ws(f,a(g,v,_),g)}),f}function IS(i,a){var f={};return a=Gt(a,3),os(i,function(g,v,_){ws(f,v,a(g,v,_))}),f}var LS=fo(function(i,a,f){Al(i,a,f)}),Hg=fo(function(i,a,f,g){Al(i,a,f,g)}),NS=Ss(function(i,a){var f={};if(i==null)return f;var g=!1;a=on(a,function(_){return _=Zs(_,i),g||(g=_.length>1),_}),as(i,ju(i),f),g&&(f=Pr(f,p|m|y,Mw));for(var v=a.length;v--;)Bu(f,a[v]);return f});function DS(i,a){return Wg(i,Bl(Gt(a)))}var $S=Ss(function(i,a){return i==null?{}:uw(i,a)});function Wg(i,a){if(i==null)return{};var f=on(ju(i),function(g){return[g]});return a=Gt(a),Lp(i,f,function(g,v){return a(g,v[0])})}function US(i,a,f){a=Zs(a,i);var g=-1,v=a.length;for(v||(v=1,i=n);++g<v;){var _=i==null?n:i[ls(a[g])];_===n&&(g=v,_=f),i=Es(_)?_.call(i):_}return i}function FS(i,a,f){return i==null?i:Jo(i,a,f)}function VS(i,a,f,g){return g=typeof g=="function"?g:n,i==null?i:Jo(i,a,f,g)}var zg=ng(Rn),qg=ng(rr);function BS(i,a,f){var g=oe(i),v=g||Js(i)||go(i);if(a=Gt(a,4),f==null){var _=i&&i.constructor;v?f=g?new _:[]:fn(i)?f=Es(_)?uo(gl(i)):{}:f={}}return(v?kr:os)(i,function(O,L,V){return a(f,O,L,V)}),f}function HS(i,a){return i==null?!0:Bu(i,a)}function WS(i,a,f){return i==null?i:Fp(i,a,zu(f))}function zS(i,a,f,g){return g=typeof g=="function"?g:n,i==null?i:Fp(i,a,zu(f),g)}function mo(i){return i==null?[]:_u(i,Rn(i))}function qS(i){return i==null?[]:_u(i,rr(i))}function GS(i,a,f){return f===n&&(f=a,a=n),f!==n&&(f=Lr(f),f=f===f?f:0),a!==n&&(a=Lr(a),a=a===a?a:0),Ei(Lr(i),a,f)}function XS(i,a,f){return a=As(a),f===n?(f=a,a=0):f=As(f),i=Lr(i),Jx(i,a,f)}function YS(i,a,f){if(f&&typeof f!="boolean"&&qn(i,a,f)&&(a=f=n),f===n&&(typeof a=="boolean"?(f=a,a=n):typeof i=="boolean"&&(f=i,i=n)),i===n&&a===n?(i=0,a=1):(i=As(i),a===n?(a=i,i=0):a=As(a)),i>a){var g=i;i=a,a=g}if(f||i%1||a%1){var v=gp();return $n(i+v*(a-i+Ab("1e-"+((v+"").length-1))),a)}return Uu(i,a)}var jS=ho(function(i,a,f){return a=a.toLowerCase(),i+(f?Gg(a):a)});function Gg(i){return hf(Ne(i).toLowerCase())}function Xg(i){return i=Ne(i),i&&i.replace(cn,Fb).replace(mb,"")}function KS(i,a,f){i=Ne(i),a=gr(a);var g=i.length;f=f===n?g:Ei(fe(f),0,g);var v=f;return f-=a.length,f>=0&&i.slice(f,v)==a}function ZS(i){return i=Ne(i),i&&E.test(i)?i.replace(le,Vb):i}function QS(i){return i=Ne(i),i&&Nt.test(i)?i.replace(Rt,"\\$&"):i}var JS=ho(function(i,a,f){return i+(f?"-":"")+a.toLowerCase()}),tC=ho(function(i,a,f){return i+(f?" ":"")+a.toLowerCase()}),eC=Kp("toLowerCase");function nC(i,a,f){i=Ne(i),a=fe(a);var g=a?io(i):0;if(!a||g>=a)return i;var v=(a-g)/2;return Ol(bl(v),f)+i+Ol(vl(v),f)}function rC(i,a,f){i=Ne(i),a=fe(a);var g=a?io(i):0;return a&&g<a?i+Ol(a-g,f):i}function sC(i,a,f){i=Ne(i),a=fe(a);var g=a?io(i):0;return a&&g<a?Ol(a-g,f)+i:i}function iC(i,a,f){return f||a==null?a=0:a&&(a=+a),hx(Ne(i).replace(Vt,""),a||0)}function oC(i,a,f){return(f?qn(i,a,f):a===n)?a=1:a=fe(a),Fu(Ne(i),a)}function aC(){var i=arguments,a=Ne(i[0]);return i.length<3?a:a.replace(i[1],i[2])}var lC=ho(function(i,a,f){return i+(f?"_":"")+a.toLowerCase()});function cC(i,a,f){return f&&typeof f!="number"&&qn(i,a,f)&&(a=f=n),f=f===n?zt:f>>>0,f?(i=Ne(i),i&&(typeof a=="string"||a!=null&&!cf(a))&&(a=gr(a),!a&&so(i))?Qs(Wr(i),0,f):i.split(a,f)):[]}var uC=ho(function(i,a,f){return i+(f?" ":"")+hf(a)});function fC(i,a,f){return i=Ne(i),f=f==null?0:Ei(fe(f),0,i.length),a=gr(a),i.slice(f,f+a.length)==a}function hC(i,a,f){var g=w.templateSettings;f&&qn(i,a,f)&&(a=n),i=Ne(i),a=zl({},a,g,rg);var v=zl({},a.imports,g.imports,rg),_=Rn(v),O=_u(v,_),L,V,it=0,ot=a.interpolate||Ye,dt="__p += '",Pt=Cu((a.escape||Ye).source+"|"+ot.source+"|"+(ot===Z?Hr:Ye).source+"|"+(a.evaluate||Ye).source+"|$","g"),Ft="//# sourceURL="+(Fe.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++wb+"]")+`
`;i.replace(Pt,function(Yt,be,Se,yr,Gn,vr){return Se||(Se=yr),dt+=i.slice(it,vr).replace(un,Bb),be&&(L=!0,dt+=`' +
__e(`+be+`) +
'`),Gn&&(V=!0,dt+=`';
`+Gn+`;
__p += '`),Se&&(dt+=`' +
((__t = (`+Se+`)) == null ? '' : __t) +
'`),it=vr+Yt.length,Yt}),dt+=`';
`;var Xt=Fe.call(a,"variable")&&a.variable;if(!Xt)dt=`with (obj) {
`+dt+`
}
`;else if(sn.test(Xt))throw new te(c);dt=(V?dt.replace(ln,""):dt).replace(yn,"$1").replace(Me,"$1;"),dt="function("+(Xt||"obj")+`) {
`+(Xt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+dt+`return __p
}`;var de=jg(function(){return Oe(_,Ft+"return "+dt).apply(n,O)});if(de.source=dt,lf(de))throw de;return de}function dC(i){return Ne(i).toLowerCase()}function pC(i){return Ne(i).toUpperCase()}function gC(i,a,f){if(i=Ne(i),i&&(f||a===n))return sp(i);if(!i||!(a=gr(a)))return i;var g=Wr(i),v=Wr(a),_=ip(g,v),O=op(g,v)+1;return Qs(g,_,O).join("")}function mC(i,a,f){if(i=Ne(i),i&&(f||a===n))return i.slice(0,lp(i)+1);if(!i||!(a=gr(a)))return i;var g=Wr(i),v=op(g,Wr(a))+1;return Qs(g,0,v).join("")}function yC(i,a,f){if(i=Ne(i),i&&(f||a===n))return i.replace(Vt,"");if(!i||!(a=gr(a)))return i;var g=Wr(i),v=ip(g,Wr(a));return Qs(g,v).join("")}function vC(i,a){var f=_t,g=wt;if(fn(a)){var v="separator"in a?a.separator:v;f="length"in a?fe(a.length):f,g="omission"in a?gr(a.omission):g}i=Ne(i);var _=i.length;if(so(i)){var O=Wr(i);_=O.length}if(f>=_)return i;var L=f-io(g);if(L<1)return g;var V=O?Qs(O,0,L).join(""):i.slice(0,L);if(v===n)return V+g;if(O&&(L+=V.length-L),cf(v)){if(i.slice(L).search(v)){var it,ot=V;for(v.global||(v=Cu(v.source,Ne(zs.exec(v))+"g")),v.lastIndex=0;it=v.exec(ot);)var dt=it.index;V=V.slice(0,dt===n?L:dt)}}else if(i.indexOf(gr(v),L)!=L){var Pt=V.lastIndexOf(v);Pt>-1&&(V=V.slice(0,Pt))}return V+g}function bC(i){return i=Ne(i),i&&Je.test(i)?i.replace(Le,Yb):i}var xC=ho(function(i,a,f){return i+(f?" ":"")+a.toUpperCase()}),hf=Kp("toUpperCase");function Yg(i,a,f){return i=Ne(i),a=f?n:a,a===n?Wb(i)?Zb(i):Lb(i):i.match(a)||[]}var jg=pe(function(i,a){try{return dr(i,n,a)}catch(f){return lf(f)?f:new te(f)}}),wC=Ss(function(i,a){return kr(a,function(f){f=ls(f),ws(i,f,of(i[f],i))}),i});function _C(i){var a=i==null?0:i.length,f=Gt();return i=a?on(i,function(g){if(typeof g[1]!="function")throw new Mr(l);return[f(g[0]),g[1]]}):[],pe(function(g){for(var v=-1;++v<a;){var _=i[v];if(dr(_[0],this,g))return dr(_[1],this,g)}})}function SC(i){return Yx(Pr(i,p))}function df(i){return function(){return i}}function CC(i,a){return i==null||i!==i?a:i}var EC=Qp(),AC=Qp(!0);function sr(i){return i}function pf(i){return kp(typeof i=="function"?i:Pr(i,p))}function TC(i){return Rp(Pr(i,p))}function kC(i,a){return Pp(i,Pr(a,p))}var MC=pe(function(i,a){return function(f){return Zo(f,i,a)}}),RC=pe(function(i,a){return function(f){return Zo(i,f,a)}});function gf(i,a,f){var g=Rn(a),v=El(a,g);f==null&&!(fn(a)&&(v.length||!g.length))&&(f=a,a=i,i=this,v=El(a,Rn(a)));var _=!(fn(f)&&"chain"in f)||!!f.chain,O=Es(i);return kr(v,function(L){var V=a[L];i[L]=V,O&&(i.prototype[L]=function(){var it=this.__chain__;if(_||it){var ot=i(this.__wrapped__),dt=ot.__actions__=er(this.__actions__);return dt.push({func:V,args:arguments,thisArg:i}),ot.__chain__=it,ot}return V.apply(i,Gs([this.value()],arguments))})}),i}function PC(){return In._===this&&(In._=rx),this}function mf(){}function OC(i){return i=fe(i),pe(function(a){return Op(a,i)})}var IC=Gu(on),LC=Gu(Jd),NC=Gu(yu);function Kg(i){return Ju(i)?vu(ls(i)):fw(i)}function DC(i){return function(a){return i==null?n:Ai(i,a)}}var $C=tg(),UC=tg(!0);function yf(){return[]}function vf(){return!1}function FC(){return{}}function VC(){return""}function BC(){return!0}function HC(i,a){if(i=fe(i),i<1||i>at)return[];var f=zt,g=$n(i,zt);a=Gt(a),i-=zt;for(var v=wu(g,a);++f<i;)a(f);return v}function WC(i){return oe(i)?on(i,ls):mr(i)?[i]:er(mg(Ne(i)))}function zC(i){var a=++ex;return Ne(i)+a}var qC=Pl(function(i,a){return i+a},0),GC=Xu("ceil"),XC=Pl(function(i,a){return i/a},1),YC=Xu("floor");function jC(i){return i&&i.length?Cl(i,sr,Ou):n}function KC(i,a){return i&&i.length?Cl(i,Gt(a,2),Ou):n}function ZC(i){return np(i,sr)}function QC(i,a){return np(i,Gt(a,2))}function JC(i){return i&&i.length?Cl(i,sr,Du):n}function tE(i,a){return i&&i.length?Cl(i,Gt(a,2),Du):n}var eE=Pl(function(i,a){return i*a},1),nE=Xu("round"),rE=Pl(function(i,a){return i-a},0);function sE(i){return i&&i.length?xu(i,sr):0}function iE(i,a){return i&&i.length?xu(i,Gt(a,2)):0}return w.after=T2,w.ary=Tg,w.assign=pS,w.assignIn=Bg,w.assignInWith=zl,w.assignWith=gS,w.at=mS,w.before=kg,w.bind=of,w.bindAll=wC,w.bindKey=Mg,w.castArray=F2,w.chain=Cg,w.chunk=Yw,w.compact=jw,w.concat=Kw,w.cond=_C,w.conforms=SC,w.constant=df,w.countBy=s2,w.create=yS,w.curry=Rg,w.curryRight=Pg,w.debounce=Og,w.defaults=vS,w.defaultsDeep=bS,w.defer=k2,w.delay=M2,w.difference=Zw,w.differenceBy=Qw,w.differenceWith=Jw,w.drop=t_,w.dropRight=e_,w.dropRightWhile=n_,w.dropWhile=r_,w.fill=s_,w.filter=o2,w.flatMap=c2,w.flatMapDeep=u2,w.flatMapDepth=f2,w.flatten=xg,w.flattenDeep=i_,w.flattenDepth=o_,w.flip=R2,w.flow=EC,w.flowRight=AC,w.fromPairs=a_,w.functions=AS,w.functionsIn=TS,w.groupBy=h2,w.initial=c_,w.intersection=u_,w.intersectionBy=f_,w.intersectionWith=h_,w.invert=MS,w.invertBy=RS,w.invokeMap=p2,w.iteratee=pf,w.keyBy=g2,w.keys=Rn,w.keysIn=rr,w.map=Ul,w.mapKeys=OS,w.mapValues=IS,w.matches=TC,w.matchesProperty=kC,w.memoize=Vl,w.merge=LS,w.mergeWith=Hg,w.method=MC,w.methodOf=RC,w.mixin=gf,w.negate=Bl,w.nthArg=OC,w.omit=NS,w.omitBy=DS,w.once=P2,w.orderBy=m2,w.over=IC,w.overArgs=O2,w.overEvery=LC,w.overSome=NC,w.partial=af,w.partialRight=Ig,w.partition=y2,w.pick=$S,w.pickBy=Wg,w.property=Kg,w.propertyOf=DC,w.pull=m_,w.pullAll=_g,w.pullAllBy=y_,w.pullAllWith=v_,w.pullAt=b_,w.range=$C,w.rangeRight=UC,w.rearg=I2,w.reject=x2,w.remove=x_,w.rest=L2,w.reverse=rf,w.sampleSize=_2,w.set=FS,w.setWith=VS,w.shuffle=S2,w.slice=w_,w.sortBy=A2,w.sortedUniq=k_,w.sortedUniqBy=M_,w.split=cC,w.spread=N2,w.tail=R_,w.take=P_,w.takeRight=O_,w.takeRightWhile=I_,w.takeWhile=L_,w.tap=j_,w.throttle=D2,w.thru=$l,w.toArray=Ug,w.toPairs=zg,w.toPairsIn=qg,w.toPath=WC,w.toPlainObject=Vg,w.transform=BS,w.unary=$2,w.union=N_,w.unionBy=D_,w.unionWith=$_,w.uniq=U_,w.uniqBy=F_,w.uniqWith=V_,w.unset=HS,w.unzip=sf,w.unzipWith=Sg,w.update=WS,w.updateWith=zS,w.values=mo,w.valuesIn=qS,w.without=B_,w.words=Yg,w.wrap=U2,w.xor=H_,w.xorBy=W_,w.xorWith=z_,w.zip=q_,w.zipObject=G_,w.zipObjectDeep=X_,w.zipWith=Y_,w.entries=zg,w.entriesIn=qg,w.extend=Bg,w.extendWith=zl,gf(w,w),w.add=qC,w.attempt=jg,w.camelCase=jS,w.capitalize=Gg,w.ceil=GC,w.clamp=GS,w.clone=V2,w.cloneDeep=H2,w.cloneDeepWith=W2,w.cloneWith=B2,w.conformsTo=z2,w.deburr=Xg,w.defaultTo=CC,w.divide=XC,w.endsWith=KS,w.eq=qr,w.escape=ZS,w.escapeRegExp=QS,w.every=i2,w.find=a2,w.findIndex=vg,w.findKey=xS,w.findLast=l2,w.findLastIndex=bg,w.findLastKey=wS,w.floor=YC,w.forEach=Eg,w.forEachRight=Ag,w.forIn=_S,w.forInRight=SS,w.forOwn=CS,w.forOwnRight=ES,w.get=uf,w.gt=q2,w.gte=G2,w.has=kS,w.hasIn=ff,w.head=wg,w.identity=sr,w.includes=d2,w.indexOf=l_,w.inRange=XS,w.invoke=PS,w.isArguments=Mi,w.isArray=oe,w.isArrayBuffer=X2,w.isArrayLike=nr,w.isArrayLikeObject=vn,w.isBoolean=Y2,w.isBuffer=Js,w.isDate=j2,w.isElement=K2,w.isEmpty=Z2,w.isEqual=Q2,w.isEqualWith=J2,w.isError=lf,w.isFinite=tS,w.isFunction=Es,w.isInteger=Lg,w.isLength=Hl,w.isMap=Ng,w.isMatch=eS,w.isMatchWith=nS,w.isNaN=rS,w.isNative=sS,w.isNil=oS,w.isNull=iS,w.isNumber=Dg,w.isObject=fn,w.isObjectLike=dn,w.isPlainObject=ra,w.isRegExp=cf,w.isSafeInteger=aS,w.isSet=$g,w.isString=Wl,w.isSymbol=mr,w.isTypedArray=go,w.isUndefined=lS,w.isWeakMap=cS,w.isWeakSet=uS,w.join=d_,w.kebabCase=JS,w.last=Ir,w.lastIndexOf=p_,w.lowerCase=tC,w.lowerFirst=eC,w.lt=fS,w.lte=hS,w.max=jC,w.maxBy=KC,w.mean=ZC,w.meanBy=QC,w.min=JC,w.minBy=tE,w.stubArray=yf,w.stubFalse=vf,w.stubObject=FC,w.stubString=VC,w.stubTrue=BC,w.multiply=eE,w.nth=g_,w.noConflict=PC,w.noop=mf,w.now=Fl,w.pad=nC,w.padEnd=rC,w.padStart=sC,w.parseInt=iC,w.random=YS,w.reduce=v2,w.reduceRight=b2,w.repeat=oC,w.replace=aC,w.result=US,w.round=nE,w.runInContext=U,w.sample=w2,w.size=C2,w.snakeCase=lC,w.some=E2,w.sortedIndex=__,w.sortedIndexBy=S_,w.sortedIndexOf=C_,w.sortedLastIndex=E_,w.sortedLastIndexBy=A_,w.sortedLastIndexOf=T_,w.startCase=uC,w.startsWith=fC,w.subtract=rE,w.sum=sE,w.sumBy=iE,w.template=hC,w.times=HC,w.toFinite=As,w.toInteger=fe,w.toLength=Fg,w.toLower=dC,w.toNumber=Lr,w.toSafeInteger=dS,w.toString=Ne,w.toUpper=pC,w.trim=gC,w.trimEnd=mC,w.trimStart=yC,w.truncate=vC,w.unescape=bC,w.uniqueId=zC,w.upperCase=xC,w.upperFirst=hf,w.each=Eg,w.eachRight=Ag,w.first=wg,gf(w,function(){var i={};return os(w,function(a,f){Fe.call(w.prototype,f)||(i[f]=a)}),i}(),{chain:!1}),w.VERSION=r,kr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){w[i].placeholder=w}),kr(["drop","take"],function(i,a){xe.prototype[i]=function(f){f=f===n?1:Tn(fe(f),0);var g=this.__filtered__&&!a?new xe(this):this.clone();return g.__filtered__?g.__takeCount__=$n(f,g.__takeCount__):g.__views__.push({size:$n(f,zt),type:i+(g.__dir__<0?"Right":"")}),g},xe.prototype[i+"Right"]=function(f){return this.reverse()[i](f).reverse()}}),kr(["filter","map","takeWhile"],function(i,a){var f=a+1,g=f==Lt||f==Ct;xe.prototype[i]=function(v){var _=this.clone();return _.__iteratees__.push({iteratee:Gt(v,3),type:f}),_.__filtered__=_.__filtered__||g,_}}),kr(["head","last"],function(i,a){var f="take"+(a?"Right":"");xe.prototype[i]=function(){return this[f](1).value()[0]}}),kr(["initial","tail"],function(i,a){var f="drop"+(a?"":"Right");xe.prototype[i]=function(){return this.__filtered__?new xe(this):this[f](1)}}),xe.prototype.compact=function(){return this.filter(sr)},xe.prototype.find=function(i){return this.filter(i).head()},xe.prototype.findLast=function(i){return this.reverse().find(i)},xe.prototype.invokeMap=pe(function(i,a){return typeof i=="function"?new xe(this):this.map(function(f){return Zo(f,i,a)})}),xe.prototype.reject=function(i){return this.filter(Bl(Gt(i)))},xe.prototype.slice=function(i,a){i=fe(i);var f=this;return f.__filtered__&&(i>0||a<0)?new xe(f):(i<0?f=f.takeRight(-i):i&&(f=f.drop(i)),a!==n&&(a=fe(a),f=a<0?f.dropRight(-a):f.take(a-i)),f)},xe.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},xe.prototype.toArray=function(){return this.take(zt)},os(xe.prototype,function(i,a){var f=/^(?:filter|find|map|reject)|While$/.test(a),g=/^(?:head|last)$/.test(a),v=w[g?"take"+(a=="last"?"Right":""):a],_=g||/^find/.test(a);v&&(w.prototype[a]=function(){var O=this.__wrapped__,L=g?[1]:arguments,V=O instanceof xe,it=L[0],ot=V||oe(O),dt=function(be){var Se=v.apply(w,Gs([be],L));return g&&Pt?Se[0]:Se};ot&&f&&typeof it=="function"&&it.length!=1&&(V=ot=!1);var Pt=this.__chain__,Ft=!!this.__actions__.length,Xt=_&&!Pt,de=V&&!Ft;if(!_&&ot){O=de?O:new xe(this);var Yt=i.apply(O,L);return Yt.__actions__.push({func:$l,args:[dt],thisArg:n}),new Rr(Yt,Pt)}return Xt&&de?i.apply(this,L):(Yt=this.thru(dt),Xt?g?Yt.value()[0]:Yt.value():Yt)})}),kr(["pop","push","shift","sort","splice","unshift"],function(i){var a=cl[i],f=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",g=/^(?:pop|shift)$/.test(i);w.prototype[i]=function(){var v=arguments;if(g&&!this.__chain__){var _=this.value();return a.apply(oe(_)?_:[],v)}return this[f](function(O){return a.apply(oe(O)?O:[],v)})}}),os(xe.prototype,function(i,a){var f=w[a];if(f){var g=f.name+"";Fe.call(co,g)||(co[g]=[]),co[g].push({name:a,func:f})}}),co[Rl(n,M).name]=[{name:"wrapper",func:n}],xe.prototype.clone=bx,xe.prototype.reverse=xx,xe.prototype.value=wx,w.prototype.at=K_,w.prototype.chain=Z_,w.prototype.commit=Q_,w.prototype.next=J_,w.prototype.plant=e2,w.prototype.reverse=n2,w.prototype.toJSON=w.prototype.valueOf=w.prototype.value=r2,w.prototype.first=w.prototype.head,zo&&(w.prototype[zo]=t2),w},oo=Qb();wi?((wi.exports=oo)._=oo,du._=oo):In._=oo}).call(tL)}(va,va.exports)),va.exports}var nL=eL();const rL={class:"sidebar-container"},sL={class:"sidebar-content"},iL={class:"layer-selection"},oL=["value"],aL={class:"search-box"},lL=["value"],cL={class:"furniture-grid"},uL=["onDragstart"],fL=["src","alt"],hL={class:"furniture-name"},dL={__name:"LeftSidebar",setup(e){const t=Bo(),n=J3();Br();const r=kt(!0),s=kt(0),o=kt("");kt(!1);const l=(h,d)=>{h.dataTransfer.setData("furnitureId",d.id),h.dataTransfer.setData("selectedLayer",s.value.toString())},c=nL.debounce(h=>{n.fetchFurnitureList(h)},300),u=h=>{o.value=h.target.value,n.fetchFurnitureList(h.target.value)};return gs(o,h=>{c(h)}),Hn(()=>{n.fetchFurnitureList("")}),(h,d)=>(mt(),bt("div",rL,[b("button",{class:or(["sidebar-toggle",{open:r.value}]),onClick:d[0]||(d[0]=p=>r.value=!r.value)},d[3]||(d[3]=[b("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none"},[b("path",{d:"M15 18l-6-6 6-6"})],-1)]),2),b("aside",{class:or(["sidebar left",{open:r.value}])},[b("div",sL,[F(t).role==="host"?(mt(),bt("div",{key:0,onClick:d[1]||(d[1]=p=>F(t).changeEditorMode("floor")),class:"back-button"},d[4]||(d[4]=[b("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none"},[b("path",{d:"M15 18l-6-6 6-6"})],-1),Dn(" 도면 에디터로 ")]))):re("",!0),b("div",iL,[d[5]||(d[5]=b("label",{for:"layer"},"레이어:",-1)),He(b("select",{"onUpdate:modelValue":d[2]||(d[2]=p=>s.value=p),id:"layer",class:"layer-select"},[(mt(),bt(Ge,null,Zr(11,p=>b("option",{key:p-1,value:p-1}," 레이어 "+ae(p-1),9,oL)),64))],512),[[IT,s.value]])]),b("div",aL,[b("input",{type:"search",value:o.value,placeholder:"가구 검색...",onInput:u},null,40,lL)]),b("div",cL,[(mt(!0),bt(Ge,null,Zr(F(n).furnitureList,p=>(mt(),bt("div",{key:p.id,class:"furniture-item",draggable:"true",onDragstart:m=>l(m,p)},[b("img",{src:p.imageUrl,alt:p.furnitureName,class:"furniture-image",draggable:"false"},null,8,fL),b("span",hL,ae(p.furnitureName),1)],40,uL))),128))])])],2)]))}},pL=nn(dL,[["__scopeId","data-v-5dc7a446"]]),gL={class:"sidebar-right"},mL={class:"property-group"},yL={class:"property-item"},vL={class:"position-group"},bL={class:"position-item"},xL={class:"control-group"},wL={class:"button-group"},_L={class:"position-item"},SL={class:"control-group"},CL={class:"button-group"},EL={class:"property-item"},AL={class:"position-group"},TL={class:"position-item"},kL={class:"control-group"},ML={class:"button-group"},RL={class:"position-item"},PL={class:"control-group"},OL={class:"button-group"},IL={class:"property-item"},LL={class:"control-group"},NL={class:"button-group"},DL={class:"property-item"},$L={class:"control-group"},UL={class:"button-group"},FL={__name:"RightSidebar",setup(e){const t=su();return Br(),(n,r)=>(mt(),bt("aside",gL,[r[33]||(r[33]=b("button",{class:"back-button"},[b("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none"},[b("path",{d:""})])],-1)),r[34]||(r[34]=b("h3",{class:"panel-title"},"가구 속성 수정",-1)),b("div",mL,[b("div",yL,[r[27]||(r[27]=b("label",null,"위치",-1)),b("div",vL,[b("div",bL,[r[25]||(r[25]=b("span",{class:"sub-label"},"X 좌표",-1)),b("div",xL,[He(b("input",{type:"number","onUpdate:modelValue":r[0]||(r[0]=s=>F(t).selectedFurniture.xpos=s),onInput:r[1]||(r[1]=s=>F(t).updateFurniture())},null,544),[[Qe,F(t).selectedFurniture.xpos]]),b("div",wL,[b("button",{onClick:r[2]||(r[2]=s=>F(t).adjustPosition("x",-10))},"-"),b("button",{onClick:r[3]||(r[3]=s=>F(t).adjustPosition("x",10))},"+")])])]),b("div",_L,[r[26]||(r[26]=b("span",{class:"sub-label"},"Y 좌표",-1)),b("div",SL,[He(b("input",{type:"number","onUpdate:modelValue":r[4]||(r[4]=s=>F(t).selectedFurniture.ypos=s),onInput:r[5]||(r[5]=s=>F(t).updateFurniture())},null,544),[[Qe,F(t).selectedFurniture.ypos]]),b("div",CL,[b("button",{onClick:r[6]||(r[6]=s=>F(t).adjustPosition("y",-10))},"-"),b("button",{onClick:r[7]||(r[7]=s=>F(t).adjustPosition("y",10))},"+")])])])])]),b("div",EL,[r[30]||(r[30]=b("label",null,"크기",-1)),b("div",AL,[b("div",TL,[r[28]||(r[28]=b("span",{class:"sub-label"},"가로",-1)),b("div",kL,[He(b("input",{type:"number","onUpdate:modelValue":r[8]||(r[8]=s=>F(t).selectedFurniture.width=s),onInput:r[9]||(r[9]=s=>F(t).updateFurniture())},null,544),[[Qe,F(t).selectedFurniture.width]]),b("div",ML,[b("button",{onClick:r[10]||(r[10]=s=>F(t).adjustSize("width",-10))},"-"),b("button",{onClick:r[11]||(r[11]=s=>F(t).adjustSize("width",10))},"+")])])]),b("div",RL,[r[29]||(r[29]=b("span",{class:"sub-label"},"세로",-1)),b("div",PL,[He(b("input",{type:"number","onUpdate:modelValue":r[12]||(r[12]=s=>F(t).selectedFurniture.height=s),onInput:r[13]||(r[13]=s=>F(t).updateFurniture())},null,544),[[Qe,F(t).selectedFurniture.height]]),b("div",OL,[b("button",{onClick:r[14]||(r[14]=s=>F(t).adjustSize("height",-10))},"-"),b("button",{onClick:r[15]||(r[15]=s=>F(t).adjustSize("height",10))},"+")])])])])]),b("div",IL,[r[31]||(r[31]=b("label",null,"회전 각도",-1)),b("div",LL,[He(b("input",{type:"number","onUpdate:modelValue":r[16]||(r[16]=s=>F(t).selectedFurniture.rotation=s),onInput:r[17]||(r[17]=s=>F(t).updateFurniture())},null,544),[[Qe,F(t).selectedFurniture.rotation]]),b("div",NL,[b("button",{onClick:r[18]||(r[18]=s=>F(t).adjustRotation(-45))},"-"),b("button",{onClick:r[19]||(r[19]=s=>F(t).adjustRotation(45))},"+")])])]),b("div",DL,[r[32]||(r[32]=b("label",null,"레이어",-1)),b("div",$L,[He(b("input",{type:"number","onUpdate:modelValue":r[20]||(r[20]=s=>F(t).selectedFurniture.layer=s),onChange:r[21]||(r[21]=s=>F(t).changeFurnitureLayer(s.target.value))},null,544),[[Qe,F(t).selectedFurniture.layer,void 0,{number:!0}]]),b("div",UL,[b("button",{onClick:r[22]||(r[22]=s=>F(t).adjustLayer(-1))},"-"),b("button",{onClick:r[23]||(r[23]=s=>F(t).adjustLayer(1))},"+")])])])]),b("button",{onClick:r[24]||(r[24]=s=>F(t).deleteFurniture()),class:"delete-button"}," 가구 삭제 ")]))}},VL=nn(FL,[["__scopeId","data-v-45b89a68"]]),BL=es("chatStore",()=>{const e=su(),t=kt(null);return{roomId:t,fetchChatLogs:async()=>{try{return(await ms.get(`/api/rooms/${t.value}/chats`)).data}catch(c){return console.error(" 채팅 기록 불러오기 실패:",c),{chats:[]}}},initializeWebSocket:async c=>{t.value=c},subscribeToChat:async c=>{e.subscribeToRoom(c)},unsubscribeFromChat:()=>{const c=`/sub/chat/${t.value}`;Nv(c)},publishChatMessage:c=>{const u=`/pub/chat/${t.value}`;Dv(u,c)}}}),HL={key:0,class:"unread-badge"},WL=["data-resizing"],zL={key:0,class:"profile-container"},qL=["src"],GL={class:"message-content"},XL={key:0,class:"nickname"},YL={class:"message-text"},jL={class:"message-time"},KL={class:"chat-input"},ZL={__name:"Chat",setup(e){const t=su(),n=BL(),r=Br();Bo();const s=Er(),o=kt("1"),l=se(()=>s.state.nickname),c=kt(""),u=kt([]),h=kt(null),d=kt(null),p=kt(!1),m=kt(0),y=kt(!1),x=kt(!0),C=kt(0),S=kt(0),M=kt(300),$=kt(400),I=kt(300),D=kt(400),q=()=>{x.value?(x.value=!1,p.value=!0):(x.value=!0,p.value=!1),p.value&&(m.value=0,qi(()=>{W()}))},Q=St=>{St.key===" "&&(St.preventDefault(),c.value+=" ",qi(()=>{const Ct=c.value.length;d.value.setSelectionRange(Ct,Ct)}))},W=()=>{qi(()=>{h.value&&(h.value.scrollTop=h.value.scrollHeight)})},vt=async()=>{const St=await n.fetchChatLogs();Array.isArray(St.chats)&&(u.value=St.chats.map(Ct=>({nickname:Ct.nickname,content:Ct.content,time:new Date(Ct.createdAt).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),profileImageUrl:Ct.profileImageUrl||""})),W())},ut=async()=>{if(!c.value.trim())return;if(!l.value.trim()){alert(" 닉네임을 입력해주세요!");return}const St={roomId:Number(o.value),nickname:l.value,content:c.value};n.publishChatMessage(St),c.value="",W()},_t=St=>{if(!St.nickname){console.error(" nickname이 없음!",St);return}u.value.push({nickname:St.nickname,content:St.content,time:new Date().toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!1}),profileImageUrl:St.profileImageUrl||""}),p.value||m.value++,W()},wt=async()=>{await s.fetchUserInfo()},ft=St=>{St.preventDefault(),y.value=!0,C.value=St.clientX,S.value=St.clientY,M.value=I.value,$.value=D.value,document.addEventListener("mousemove",Ot,{passive:!0}),document.addEventListener("mouseup",Lt)},Ot=St=>{y.value&&requestAnimationFrame(()=>{const Ct=St.clientX-C.value,ct=St.clientY-S.value;I.value=Math.min(Math.max(M.value-Ct,250),500),D.value=Math.min(Math.max($.value-ct,300),600)})},Lt=()=>{y.value=!1,document.removeEventListener("mousemove",Ot),document.removeEventListener("mouseup",Lt)};return Hn(async()=>{await n.initializeWebSocket(r.params.roomId),await n.subscribeToChat(_t),await vt(),await wt(),t.fetchFurnitureList()}),Xa(()=>{document.removeEventListener("mousemove",Ot),document.removeEventListener("mouseup",Lt)}),(St,Ct)=>(mt(),bt(Ge,null,[x.value?(mt(),bt("div",{key:0,class:"chat-toggle",onClick:q},[Ct[1]||(Ct[1]=Qh('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="chat-icon" data-v-bcbe1661><path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 14.663 3.04094 17.0829 4.73812 18.875L2.72681 21.1705C2.44361 21.4937 2.67314 22 3.10288 22H12Z" fill="currentColor" data-v-bcbe1661></path><circle cx="7" cy="12" r="1.5" fill="white" data-v-bcbe1661></circle><circle cx="12" cy="12" r="1.5" fill="white" data-v-bcbe1661></circle><circle cx="17" cy="12" r="1.5" fill="white" data-v-bcbe1661></circle></svg>',1)),m.value>0?(mt(),bt("span",HL,ae(m.value),1)):re("",!0)])):re("",!0),He(b("div",{class:"chat-container",style:qa({width:`${I.value}px`,height:`${D.value}px`,display:p.value?"flex":"none"}),"data-resizing":y.value},[b("div",{class:"chat-header"},[Ct[2]||(Ct[2]=b("h2",null,"채팅",-1)),b("div",{class:"header-controls"},[b("button",{class:"minimize-button",onClick:q},"─")])]),b("div",{class:"resize-handle",onMousedown:wr(ft,["prevent"])},null,32),b("div",{ref_key:"chatBoxRef",ref:h,class:"chat-box"},[(mt(!0),bt(Ge,null,Zr(u.value,(ct,at)=>(mt(),bt("div",{key:at,class:or(["chat-message",{"my-message":ct.nickname===l.value}])},[ct.nickname!==l.value?(mt(),bt("div",zL,[ct.profileImageUrl?(mt(),bt("img",{key:0,src:ct.profileImageUrl,class:"profile-image"},null,8,qL)):re("",!0)])):re("",!0),b("div",GL,[ct.nickname!==l.value?(mt(),bt("div",XL,ae(ct.nickname),1)):re("",!0),b("div",YL,ae(ct.content),1)]),b("div",jL,ae(ct.time),1)],2))),128))],512),b("div",KL,[He(b("input",{ref_key:"inputRef",ref:d,"onUpdate:modelValue":Ct[0]||(Ct[0]=ct=>c.value=ct),type:"text",placeholder:"메시지 입력",class:"input-field message-input",onKeydown:[ja(ut,["enter"]),Q]},null,544),[[Qe,c.value]]),b("button",{onClick:ut,class:"send-button"},"전송")])],12,WL),[[vT,p.value]])],64))}},QL=nn(ZL,[["__scopeId","data-v-bcbe1661"]]);var ha={exports:{}},Vi={exports:{}},JL=Vi.exports,Ey;function tN(){return Ey||(Ey=1,(function(){var e,t,n,r,s,o;typeof performance<"u"&&performance!==null&&performance.now?Vi.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Vi.exports=function(){return(e()-s)/1e6},t=process.hrtime,e=function(){var l;return l=t(),l[0]*1e9+l[1]},r=e(),o=process.uptime()*1e9,s=r-o):Date.now?(Vi.exports=function(){return Date.now()-n},n=Date.now()):(Vi.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(JL)),Vi.exports}var Ay;function eN(){if(Ay)return ha.exports;Ay=1;for(var e=tN(),t=typeof window>"u"?ya:window,n=["moz","webkit"],r="AnimationFrame",s=t["request"+r],o=t["cancel"+r]||t["cancelRequest"+r],l=0;!s&&l<n.length;l++)s=t[n[l]+"Request"+r],o=t[n[l]+"Cancel"+r]||t[n[l]+"CancelRequest"+r];if(!s||!o){var c=0,u=0,h=[],d=1e3/60;s=function(p){if(h.length===0){var m=e(),y=Math.max(0,d-(m-c));c=y+m,setTimeout(function(){var x=h.slice(0);h.length=0;for(var C=0;C<x.length;C++)if(!x[C].cancelled)try{x[C].callback(c)}catch(S){setTimeout(function(){throw S},0)}},Math.round(y))}return h.push({handle:++u,callback:p,cancelled:!1}),u},o=function(p){for(var m=0;m<h.length;m++)h[m].handle===p&&(h[m].cancelled=!0)}}return ha.exports=function(p){return s.call(t,p)},ha.exports.cancel=function(){o.apply(t,arguments)},ha.exports.polyfill=function(p){p||(p=t),p.requestAnimationFrame=s,p.cancelAnimationFrame=o},ha.exports}var nN=eN();const Xf=$v(nN);var Yf,Ty;function rN(){return Ty||(Ty=1,Yf=function(e){this.ok=!1,this.alpha=1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e=e.replace(/ /g,""),e=e.toLowerCase();var t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};e=t[e]||e;for(var n=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3]),parseFloat(u[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,o=n[r].process,l=s.exec(e);if(l){var c=o(l);this.r=c[0],this.g=c[1],this.b=c[2],c.length>3&&(this.alpha=c[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),d=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),d.length==1&&(d="0"+d),"#"+u+h+d},this.getHelpXML=function(){for(var u=new Array,h=0;h<n.length;h++)for(var d=n[h].example,p=0;p<d.length;p++)u[u.length]=d[p];for(var m in t)u[u.length]=m;var y=document.createElement("ul");y.setAttribute("id","rgbcolor-examples");for(var h=0;h<u.length;h++)try{var x=document.createElement("li"),C=new RGBColor(u[h]),S=document.createElement("div");S.style.cssText="margin: 3px; border: 1px solid black; background:"+C.toHex()+"; color:"+C.toHex(),S.appendChild(document.createTextNode("test"));var M=document.createTextNode(" "+u[h]+" -> "+C.toRGB()+" -> "+C.toHex());x.appendChild(S),x.appendChild(M),y.appendChild(x)}catch{}return y}}),Yf}var sN=rN();const Oh=$v(sN);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Uv=function(e,t){return(Uv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])})(e,t)};function Fv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Uv(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function iN(e){var t="";Array.isArray(e)||(e=[e]);for(var n=0;n<e.length;n++){var r=e[n];if(r.type===gt.CLOSE_PATH)t+="z";else if(r.type===gt.HORIZ_LINE_TO)t+=(r.relative?"h":"H")+r.x;else if(r.type===gt.VERT_LINE_TO)t+=(r.relative?"v":"V")+r.y;else if(r.type===gt.MOVE_TO)t+=(r.relative?"m":"M")+r.x+" "+r.y;else if(r.type===gt.LINE_TO)t+=(r.relative?"l":"L")+r.x+" "+r.y;else if(r.type===gt.CURVE_TO)t+=(r.relative?"c":"C")+r.x1+" "+r.y1+" "+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===gt.SMOOTH_CURVE_TO)t+=(r.relative?"s":"S")+r.x2+" "+r.y2+" "+r.x+" "+r.y;else if(r.type===gt.QUAD_TO)t+=(r.relative?"q":"Q")+r.x1+" "+r.y1+" "+r.x+" "+r.y;else if(r.type===gt.SMOOTH_QUAD_TO)t+=(r.relative?"t":"T")+r.x+" "+r.y;else{if(r.type!==gt.ARC)throw new Error('Unexpected command type "'+r.type+'" at index '+n+".");t+=(r.relative?"a":"A")+r.rX+" "+r.rY+" "+r.xRot+" "+ +r.lArcFlag+" "+ +r.sweepFlag+" "+r.x+" "+r.y}}return t}function Ih(e,t){var n=e[0],r=e[1];return[n*Math.cos(t)-r*Math.sin(t),n*Math.sin(t)+r*Math.cos(t)]}function Yr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;n++)if(typeof e[n]!="number")throw new Error("assertNumbers arguments["+n+"] is not a number. "+typeof e[n]+" == typeof "+e[n]);return!0}var ai=Math.PI;function jf(e,t,n){e.lArcFlag=e.lArcFlag===0?0:1,e.sweepFlag=e.sweepFlag===0?0:1;var r=e.rX,s=e.rY,o=e.x,l=e.y;r=Math.abs(e.rX),s=Math.abs(e.rY);var c=Ih([(t-o)/2,(n-l)/2],-e.xRot/180*ai),u=c[0],h=c[1],d=Math.pow(u,2)/Math.pow(r,2)+Math.pow(h,2)/Math.pow(s,2);1<d&&(r*=Math.sqrt(d),s*=Math.sqrt(d)),e.rX=r,e.rY=s;var p=Math.pow(r,2)*Math.pow(h,2)+Math.pow(s,2)*Math.pow(u,2),m=(e.lArcFlag!==e.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(r,2)*Math.pow(s,2)-p)/p)),y=r*h/s*m,x=-s*u/r*m,C=Ih([y,x],e.xRot/180*ai);e.cX=C[0]+(t+o)/2,e.cY=C[1]+(n+l)/2,e.phi1=Math.atan2((h-x)/s,(u-y)/r),e.phi2=Math.atan2((-h-x)/s,(-u-y)/r),e.sweepFlag===0&&e.phi2>e.phi1&&(e.phi2-=2*ai),e.sweepFlag===1&&e.phi2<e.phi1&&(e.phi2+=2*ai),e.phi1*=180/ai,e.phi2*=180/ai}function ky(e,t,n){Yr(e,t,n);var r=e*e+t*t-n*n;if(0>r)return[];if(r===0)return[[e*n/(e*e+t*t),t*n/(e*e+t*t)]];var s=Math.sqrt(r);return[[(e*n+t*s)/(e*e+t*t),(t*n-e*s)/(e*e+t*t)],[(e*n-t*s)/(e*e+t*t),(t*n+e*s)/(e*e+t*t)]]}var _n,Ps=Math.PI/180;function My(e,t,n){return(1-n)*e+n*t}function Ry(e,t,n,r){return e+Math.cos(r/180*ai)*t+Math.sin(r/180*ai)*n}function Py(e,t,n,r){var s=1e-6,o=t-e,l=n-t,c=3*o+3*(r-n)-6*l,u=6*(l-o),h=3*o;return Math.abs(c)<s?[-h/u]:function(d,p,m){var y=d*d/4-p;if(y<-1e-6)return[];if(y<=m)return[-d/2];var x=Math.sqrt(y);return[-d/2-x,-d/2+x]}(u/c,h/c,s)}function Oy(e,t,n,r,s){var o=1-s;return e*(o*o*o)+t*(3*o*o*s)+n*(3*o*s*s)+r*(s*s*s)}(function(e){function t(){return s(function(c,u,h){return c.relative&&(c.x1!==void 0&&(c.x1+=u),c.y1!==void 0&&(c.y1+=h),c.x2!==void 0&&(c.x2+=u),c.y2!==void 0&&(c.y2+=h),c.x!==void 0&&(c.x+=u),c.y!==void 0&&(c.y+=h),c.relative=!1),c})}function n(){var c=NaN,u=NaN,h=NaN,d=NaN;return s(function(p,m,y){return p.type&gt.SMOOTH_CURVE_TO&&(p.type=gt.CURVE_TO,c=isNaN(c)?m:c,u=isNaN(u)?y:u,p.x1=p.relative?m-c:2*m-c,p.y1=p.relative?y-u:2*y-u),p.type&gt.CURVE_TO?(c=p.relative?m+p.x2:p.x2,u=p.relative?y+p.y2:p.y2):(c=NaN,u=NaN),p.type&gt.SMOOTH_QUAD_TO&&(p.type=gt.QUAD_TO,h=isNaN(h)?m:h,d=isNaN(d)?y:d,p.x1=p.relative?m-h:2*m-h,p.y1=p.relative?y-d:2*y-d),p.type&gt.QUAD_TO?(h=p.relative?m+p.x1:p.x1,d=p.relative?y+p.y1:p.y1):(h=NaN,d=NaN),p})}function r(){var c=NaN,u=NaN;return s(function(h,d,p){if(h.type&gt.SMOOTH_QUAD_TO&&(h.type=gt.QUAD_TO,c=isNaN(c)?d:c,u=isNaN(u)?p:u,h.x1=h.relative?d-c:2*d-c,h.y1=h.relative?p-u:2*p-u),h.type&gt.QUAD_TO){c=h.relative?d+h.x1:h.x1,u=h.relative?p+h.y1:h.y1;var m=h.x1,y=h.y1;h.type=gt.CURVE_TO,h.x1=((h.relative?0:d)+2*m)/3,h.y1=((h.relative?0:p)+2*y)/3,h.x2=(h.x+2*m)/3,h.y2=(h.y+2*y)/3}else c=NaN,u=NaN;return h})}function s(c){var u=0,h=0,d=NaN,p=NaN;return function(m){if(isNaN(d)&&!(m.type&gt.MOVE_TO))throw new Error("path must start with moveto");var y=c(m,u,h,d,p);return m.type&gt.CLOSE_PATH&&(u=d,h=p),m.x!==void 0&&(u=m.relative?u+m.x:m.x),m.y!==void 0&&(h=m.relative?h+m.y:m.y),m.type&gt.MOVE_TO&&(d=u,p=h),y}}function o(c,u,h,d,p,m){return Yr(c,u,h,d,p,m),s(function(y,x,C,S){var M=y.x1,$=y.x2,I=y.relative&&!isNaN(S),D=y.x!==void 0?y.x:I?0:x,q=y.y!==void 0?y.y:I?0:C;function Q(Kt){return Kt*Kt}y.type&gt.HORIZ_LINE_TO&&u!==0&&(y.type=gt.LINE_TO,y.y=y.relative?0:C),y.type&gt.VERT_LINE_TO&&h!==0&&(y.type=gt.LINE_TO,y.x=y.relative?0:x),y.x!==void 0&&(y.x=y.x*c+q*h+(I?0:p)),y.y!==void 0&&(y.y=D*u+y.y*d+(I?0:m)),y.x1!==void 0&&(y.x1=y.x1*c+y.y1*h+(I?0:p)),y.y1!==void 0&&(y.y1=M*u+y.y1*d+(I?0:m)),y.x2!==void 0&&(y.x2=y.x2*c+y.y2*h+(I?0:p)),y.y2!==void 0&&(y.y2=$*u+y.y2*d+(I?0:m));var W=c*d-u*h;if(y.xRot!==void 0&&(c!==1||u!==0||h!==0||d!==1))if(W===0)delete y.rX,delete y.rY,delete y.xRot,delete y.lArcFlag,delete y.sweepFlag,y.type=gt.LINE_TO;else{var vt=y.xRot*Math.PI/180,ut=Math.sin(vt),_t=Math.cos(vt),wt=1/Q(y.rX),ft=1/Q(y.rY),Ot=Q(_t)*wt+Q(ut)*ft,Lt=2*ut*_t*(wt-ft),St=Q(ut)*wt+Q(_t)*ft,Ct=Ot*d*d-Lt*u*d+St*u*u,ct=Lt*(c*d+u*h)-2*(Ot*h*d+St*c*u),at=Ot*h*h-Lt*c*h+St*c*c,Qt=(Math.atan2(ct,Ct-at)+Math.PI)%Math.PI/2,jt=Math.sin(Qt),zt=Math.cos(Qt);y.rX=Math.abs(W)/Math.sqrt(Ct*Q(zt)+ct*jt*zt+at*Q(jt)),y.rY=Math.abs(W)/Math.sqrt(Ct*Q(jt)-ct*jt*zt+at*Q(zt)),y.xRot=180*Qt/Math.PI}return y.sweepFlag!==void 0&&0>W&&(y.sweepFlag=+!y.sweepFlag),y})}function l(){return function(c){var u={};for(var h in c)u[h]=c[h];return u}}e.ROUND=function(c){function u(h){return Math.round(h*c)/c}return c===void 0&&(c=1e13),Yr(c),function(h){return h.x1!==void 0&&(h.x1=u(h.x1)),h.y1!==void 0&&(h.y1=u(h.y1)),h.x2!==void 0&&(h.x2=u(h.x2)),h.y2!==void 0&&(h.y2=u(h.y2)),h.x!==void 0&&(h.x=u(h.x)),h.y!==void 0&&(h.y=u(h.y)),h.rX!==void 0&&(h.rX=u(h.rX)),h.rY!==void 0&&(h.rY=u(h.rY)),h}},e.TO_ABS=t,e.TO_REL=function(){return s(function(c,u,h){return c.relative||(c.x1!==void 0&&(c.x1-=u),c.y1!==void 0&&(c.y1-=h),c.x2!==void 0&&(c.x2-=u),c.y2!==void 0&&(c.y2-=h),c.x!==void 0&&(c.x-=u),c.y!==void 0&&(c.y-=h),c.relative=!0),c})},e.NORMALIZE_HVZ=function(c,u,h){return c===void 0&&(c=!0),u===void 0&&(u=!0),h===void 0&&(h=!0),s(function(d,p,m,y,x){if(isNaN(y)&&!(d.type&gt.MOVE_TO))throw new Error("path must start with moveto");return u&&d.type&gt.HORIZ_LINE_TO&&(d.type=gt.LINE_TO,d.y=d.relative?0:m),h&&d.type&gt.VERT_LINE_TO&&(d.type=gt.LINE_TO,d.x=d.relative?0:p),c&&d.type&gt.CLOSE_PATH&&(d.type=gt.LINE_TO,d.x=d.relative?y-p:y,d.y=d.relative?x-m:x),d.type&gt.ARC&&(d.rX===0||d.rY===0)&&(d.type=gt.LINE_TO,delete d.rX,delete d.rY,delete d.xRot,delete d.lArcFlag,delete d.sweepFlag),d})},e.NORMALIZE_ST=n,e.QT_TO_C=r,e.INFO=s,e.SANITIZE=function(c){c===void 0&&(c=0),Yr(c);var u=NaN,h=NaN,d=NaN,p=NaN;return s(function(m,y,x,C,S){var M=Math.abs,$=!1,I=0,D=0;if(m.type&gt.SMOOTH_CURVE_TO&&(I=isNaN(u)?0:y-u,D=isNaN(h)?0:x-h),m.type&(gt.CURVE_TO|gt.SMOOTH_CURVE_TO)?(u=m.relative?y+m.x2:m.x2,h=m.relative?x+m.y2:m.y2):(u=NaN,h=NaN),m.type&gt.SMOOTH_QUAD_TO?(d=isNaN(d)?y:2*y-d,p=isNaN(p)?x:2*x-p):m.type&gt.QUAD_TO?(d=m.relative?y+m.x1:m.x1,p=m.relative?x+m.y1:m.y2):(d=NaN,p=NaN),m.type&gt.LINE_COMMANDS||m.type&gt.ARC&&(m.rX===0||m.rY===0||!m.lArcFlag)||m.type&gt.CURVE_TO||m.type&gt.SMOOTH_CURVE_TO||m.type&gt.QUAD_TO||m.type&gt.SMOOTH_QUAD_TO){var q=m.x===void 0?0:m.relative?m.x:m.x-y,Q=m.y===void 0?0:m.relative?m.y:m.y-x;I=isNaN(d)?m.x1===void 0?I:m.relative?m.x:m.x1-y:d-y,D=isNaN(p)?m.y1===void 0?D:m.relative?m.y:m.y1-x:p-x;var W=m.x2===void 0?0:m.relative?m.x:m.x2-y,vt=m.y2===void 0?0:m.relative?m.y:m.y2-x;M(q)<=c&&M(Q)<=c&&M(I)<=c&&M(D)<=c&&M(W)<=c&&M(vt)<=c&&($=!0)}return m.type&gt.CLOSE_PATH&&M(y-C)<=c&&M(x-S)<=c&&($=!0),$?[]:m})},e.MATRIX=o,e.ROTATE=function(c,u,h){u===void 0&&(u=0),h===void 0&&(h=0),Yr(c,u,h);var d=Math.sin(c),p=Math.cos(c);return o(p,d,-d,p,u-u*p+h*d,h-u*d-h*p)},e.TRANSLATE=function(c,u){return u===void 0&&(u=0),Yr(c,u),o(1,0,0,1,c,u)},e.SCALE=function(c,u){return u===void 0&&(u=c),Yr(c,u),o(c,0,0,u,0,0)},e.SKEW_X=function(c){return Yr(c),o(1,0,Math.atan(c),1,0,0)},e.SKEW_Y=function(c){return Yr(c),o(1,Math.atan(c),0,1,0,0)},e.X_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),Yr(c),o(-1,0,0,1,c,0)},e.Y_AXIS_SYMMETRY=function(c){return c===void 0&&(c=0),Yr(c),o(1,0,0,-1,0,c)},e.A_TO_C=function(){return s(function(c,u,h){return gt.ARC===c.type?function(d,p,m){var y,x,C,S;d.cX||jf(d,p,m);for(var M=Math.min(d.phi1,d.phi2),$=Math.max(d.phi1,d.phi2)-M,I=Math.ceil($/90),D=new Array(I),q=p,Q=m,W=0;W<I;W++){var vt=My(d.phi1,d.phi2,W/I),ut=My(d.phi1,d.phi2,(W+1)/I),_t=ut-vt,wt=4/3*Math.tan(_t*Ps/4),ft=[Math.cos(vt*Ps)-wt*Math.sin(vt*Ps),Math.sin(vt*Ps)+wt*Math.cos(vt*Ps)],Ot=ft[0],Lt=ft[1],St=[Math.cos(ut*Ps),Math.sin(ut*Ps)],Ct=St[0],ct=St[1],at=[Ct+wt*Math.sin(ut*Ps),ct-wt*Math.cos(ut*Ps)],Qt=at[0],jt=at[1];D[W]={relative:d.relative,type:gt.CURVE_TO};var zt=function(Kt,nt){var At=Ih([Kt*d.rX,nt*d.rY],d.xRot),$t=At[0],me=At[1];return[d.cX+$t,d.cY+me]};y=zt(Ot,Lt),D[W].x1=y[0],D[W].y1=y[1],x=zt(Qt,jt),D[W].x2=x[0],D[W].y2=x[1],C=zt(Ct,ct),D[W].x=C[0],D[W].y=C[1],d.relative&&(D[W].x1-=q,D[W].y1-=Q,D[W].x2-=q,D[W].y2-=Q,D[W].x-=q,D[W].y-=Q),q=(S=[D[W].x,D[W].y])[0],Q=S[1]}return D}(c,c.relative?0:u,c.relative?0:h):c})},e.ANNOTATE_ARCS=function(){return s(function(c,u,h){return c.relative&&(u=0,h=0),gt.ARC===c.type&&jf(c,u,h),c})},e.CLONE=l,e.CALCULATE_BOUNDS=function(){var c=function(m){var y={};for(var x in m)y[x]=m[x];return y},u=t(),h=r(),d=n(),p=s(function(m,y,x){var C=d(h(u(c(m))));function S(jt){jt>p.maxX&&(p.maxX=jt),jt<p.minX&&(p.minX=jt)}function M(jt){jt>p.maxY&&(p.maxY=jt),jt<p.minY&&(p.minY=jt)}if(C.type&gt.DRAWING_COMMANDS&&(S(y),M(x)),C.type&gt.HORIZ_LINE_TO&&S(C.x),C.type&gt.VERT_LINE_TO&&M(C.y),C.type&gt.LINE_TO&&(S(C.x),M(C.y)),C.type&gt.CURVE_TO){S(C.x),M(C.y);for(var $=0,I=Py(y,C.x1,C.x2,C.x);$<I.length;$++)0<(Qt=I[$])&&1>Qt&&S(Oy(y,C.x1,C.x2,C.x,Qt));for(var D=0,q=Py(x,C.y1,C.y2,C.y);D<q.length;D++)0<(Qt=q[D])&&1>Qt&&M(Oy(x,C.y1,C.y2,C.y,Qt))}if(C.type&gt.ARC){S(C.x),M(C.y),jf(C,y,x);for(var Q=C.xRot/180*Math.PI,W=Math.cos(Q)*C.rX,vt=Math.sin(Q)*C.rX,ut=-Math.sin(Q)*C.rY,_t=Math.cos(Q)*C.rY,wt=C.phi1<C.phi2?[C.phi1,C.phi2]:-180>C.phi2?[C.phi2+360,C.phi1+360]:[C.phi2,C.phi1],ft=wt[0],Ot=wt[1],Lt=function(jt){var zt=jt[0],Kt=jt[1],nt=180*Math.atan2(Kt,zt)/Math.PI;return nt<ft?nt+360:nt},St=0,Ct=ky(ut,-W,0).map(Lt);St<Ct.length;St++)(Qt=Ct[St])>ft&&Qt<Ot&&S(Ry(C.cX,W,ut,Qt));for(var ct=0,at=ky(_t,-vt,0).map(Lt);ct<at.length;ct++){var Qt;(Qt=at[ct])>ft&&Qt<Ot&&M(Ry(C.cY,vt,_t,Qt))}}return m});return p.minX=1/0,p.maxX=-1/0,p.minY=1/0,p.maxY=-1/0,p}})(_n||(_n={}));var Xr,Vv=function(){function e(){}return e.prototype.round=function(t){return this.transform(_n.ROUND(t))},e.prototype.toAbs=function(){return this.transform(_n.TO_ABS())},e.prototype.toRel=function(){return this.transform(_n.TO_REL())},e.prototype.normalizeHVZ=function(t,n,r){return this.transform(_n.NORMALIZE_HVZ(t,n,r))},e.prototype.normalizeST=function(){return this.transform(_n.NORMALIZE_ST())},e.prototype.qtToC=function(){return this.transform(_n.QT_TO_C())},e.prototype.aToC=function(){return this.transform(_n.A_TO_C())},e.prototype.sanitize=function(t){return this.transform(_n.SANITIZE(t))},e.prototype.translate=function(t,n){return this.transform(_n.TRANSLATE(t,n))},e.prototype.scale=function(t,n){return this.transform(_n.SCALE(t,n))},e.prototype.rotate=function(t,n,r){return this.transform(_n.ROTATE(t,n,r))},e.prototype.matrix=function(t,n,r,s,o,l){return this.transform(_n.MATRIX(t,n,r,s,o,l))},e.prototype.skewX=function(t){return this.transform(_n.SKEW_X(t))},e.prototype.skewY=function(t){return this.transform(_n.SKEW_Y(t))},e.prototype.xSymmetry=function(t){return this.transform(_n.X_AXIS_SYMMETRY(t))},e.prototype.ySymmetry=function(t){return this.transform(_n.Y_AXIS_SYMMETRY(t))},e.prototype.annotateArcs=function(){return this.transform(_n.ANNOTATE_ARCS())},e}(),oN=function(e){return e===" "||e==="	"||e==="\r"||e===`
`},Iy=function(e){return 48<=e.charCodeAt(0)&&e.charCodeAt(0)<=57},aN=function(e){function t(){var n=e.call(this)||this;return n.curNumber="",n.curCommandType=-1,n.curCommandRelative=!1,n.canParseCommandOrComma=!0,n.curNumberHasExp=!1,n.curNumberHasExpDigits=!1,n.curNumberHasDecimal=!1,n.curArgs=[],n}return Fv(t,e),t.prototype.finish=function(n){if(n===void 0&&(n=[]),this.parse(" ",n),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return n},t.prototype.parse=function(n,r){var s=this;r===void 0&&(r=[]);for(var o=function(p){r.push(p),s.curArgs.length=0,s.canParseCommandOrComma=!0},l=0;l<n.length;l++){var c=n[l],u=!(this.curCommandType!==gt.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),h=Iy(c)&&(this.curNumber==="0"&&c==="0"||u);if(!Iy(c)||h)if(c!=="e"&&c!=="E")if(c!=="-"&&c!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(c!=="."||this.curNumberHasExp||this.curNumberHasDecimal||u){if(this.curNumber&&this.curCommandType!==-1){var d=Number(this.curNumber);if(isNaN(d))throw new SyntaxError("Invalid number ending at "+l);if(this.curCommandType===gt.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>d)throw new SyntaxError('Expected positive number, got "'+d+'" at index "'+l+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+l+'"')}this.curArgs.push(d),this.curArgs.length===lN[this.curCommandType]&&(gt.HORIZ_LINE_TO===this.curCommandType?o({type:gt.HORIZ_LINE_TO,relative:this.curCommandRelative,x:d}):gt.VERT_LINE_TO===this.curCommandType?o({type:gt.VERT_LINE_TO,relative:this.curCommandRelative,y:d}):this.curCommandType===gt.MOVE_TO||this.curCommandType===gt.LINE_TO||this.curCommandType===gt.SMOOTH_QUAD_TO?(o({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),gt.MOVE_TO===this.curCommandType&&(this.curCommandType=gt.LINE_TO)):this.curCommandType===gt.CURVE_TO?o({type:gt.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===gt.SMOOTH_CURVE_TO?o({type:gt.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===gt.QUAD_TO?o({type:gt.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===gt.ARC&&o({type:gt.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!oN(c))if(c===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(c!=="+"&&c!=="-"&&c!==".")if(h)this.curNumber=c,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+l+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+c+'" at index '+l+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,c!=="z"&&c!=="Z")if(c==="h"||c==="H")this.curCommandType=gt.HORIZ_LINE_TO,this.curCommandRelative=c==="h";else if(c==="v"||c==="V")this.curCommandType=gt.VERT_LINE_TO,this.curCommandRelative=c==="v";else if(c==="m"||c==="M")this.curCommandType=gt.MOVE_TO,this.curCommandRelative=c==="m";else if(c==="l"||c==="L")this.curCommandType=gt.LINE_TO,this.curCommandRelative=c==="l";else if(c==="c"||c==="C")this.curCommandType=gt.CURVE_TO,this.curCommandRelative=c==="c";else if(c==="s"||c==="S")this.curCommandType=gt.SMOOTH_CURVE_TO,this.curCommandRelative=c==="s";else if(c==="q"||c==="Q")this.curCommandType=gt.QUAD_TO,this.curCommandRelative=c==="q";else if(c==="t"||c==="T")this.curCommandType=gt.SMOOTH_QUAD_TO,this.curCommandRelative=c==="t";else{if(c!=="a"&&c!=="A")throw new SyntaxError('Unexpected character "'+c+'" at index '+l+".");this.curCommandType=gt.ARC,this.curCommandRelative=c==="a"}else r.push({type:gt.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=c,this.curNumberHasDecimal=c==="."}else this.curNumber+=c,this.curNumberHasDecimal=!0;else this.curNumber+=c;else this.curNumber+=c,this.curNumberHasExp=!0;else this.curNumber+=c,this.curNumberHasExpDigits=this.curNumberHasExp}return r},t.prototype.transform=function(n){return Object.create(this,{parse:{value:function(r,s){s===void 0&&(s=[]);for(var o=0,l=Object.getPrototypeOf(this).parse.call(this,r);o<l.length;o++){var c=l[o],u=n(c);Array.isArray(u)?s.push.apply(s,u):s.push(u)}return s}}})},t}(Vv),gt=function(e){function t(n){var r=e.call(this)||this;return r.commands=typeof n=="string"?t.parse(n):n,r}return Fv(t,e),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var n=_n.CALCULATE_BOUNDS();return this.transform(n),n},t.prototype.transform=function(n){for(var r=[],s=0,o=this.commands;s<o.length;s++){var l=n(o[s]);Array.isArray(l)?r.push.apply(r,l):r.push(l)}return this.commands=r,this},t.encode=function(n){return iN(n)},t.parse=function(n){var r=new aN,s=[];return r.parse(n,s),r.finish(s),s},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t}(Vv),lN=((Xr={})[gt.MOVE_TO]=2,Xr[gt.LINE_TO]=2,Xr[gt.HORIZ_LINE_TO]=1,Xr[gt.VERT_LINE_TO]=1,Xr[gt.CLOSE_PATH]=0,Xr[gt.QUAD_TO]=4,Xr[gt.SMOOTH_QUAD_TO]=2,Xr[gt.CURVE_TO]=6,Xr[gt.SMOOTH_CURVE_TO]=4,Xr[gt.ARC]=7,Xr);function uc(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uc=function(t){return typeof t}:uc=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function cN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var uN=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],fN=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function hN(e,t,n,r,s){if(typeof e=="string"&&(e=document.getElementById(e)),!e||uc(e)!=="object"||!("getContext"in e))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var o=e.getContext("2d");try{return o.getImageData(t,n,r,s)}catch(l){throw new Error("unable to access image data: "+l)}}function dN(e,t,n,r,s,o){if(!(isNaN(o)||o<1)){o|=0;var l=hN(e,t,n,r,s);l=pN(l,t,n,r,s,o),e.getContext("2d").putImageData(l,t,n)}}function pN(e,t,n,r,s,o){for(var l=e.data,c=2*o+1,u=r-1,h=s-1,d=o+1,p=d*(d+1)/2,m=new Ly,y=m,x,C=1;C<c;C++)y=y.next=new Ly,C===d&&(x=y);y.next=m;for(var S=null,M=null,$=0,I=0,D=uN[o],q=fN[o],Q=0;Q<s;Q++){y=m;for(var W=l[I],vt=l[I+1],ut=l[I+2],_t=l[I+3],wt=0;wt<d;wt++)y.r=W,y.g=vt,y.b=ut,y.a=_t,y=y.next;for(var ft=0,Ot=0,Lt=0,St=0,Ct=d*W,ct=d*vt,at=d*ut,Qt=d*_t,jt=p*W,zt=p*vt,Kt=p*ut,nt=p*_t,At=1;At<d;At++){var $t=I+((u<At?u:At)<<2),me=l[$t],K=l[$t+1],pt=l[$t+2],ht=l[$t+3],Tt=d-At;jt+=(y.r=me)*Tt,zt+=(y.g=K)*Tt,Kt+=(y.b=pt)*Tt,nt+=(y.a=ht)*Tt,ft+=me,Ot+=K,Lt+=pt,St+=ht,y=y.next}S=m,M=x;for(var xt=0;xt<r;xt++){var A=nt*D>>>q;if(l[I+3]=A,A!==0){var R=255/A;l[I]=(jt*D>>>q)*R,l[I+1]=(zt*D>>>q)*R,l[I+2]=(Kt*D>>>q)*R}else l[I]=l[I+1]=l[I+2]=0;jt-=Ct,zt-=ct,Kt-=at,nt-=Qt,Ct-=S.r,ct-=S.g,at-=S.b,Qt-=S.a;var N=xt+o+1;N=$+(N<u?N:u)<<2,ft+=S.r=l[N],Ot+=S.g=l[N+1],Lt+=S.b=l[N+2],St+=S.a=l[N+3],jt+=ft,zt+=Ot,Kt+=Lt,nt+=St,S=S.next;var Y=M,tt=Y.r,T=Y.g,k=Y.b,j=Y.a;Ct+=tt,ct+=T,at+=k,Qt+=j,ft-=tt,Ot-=T,Lt-=k,St-=j,M=M.next,I+=4}$+=r}for(var B=0;B<r;B++){I=B<<2;var H=l[I],et=l[I+1],rt=l[I+2],yt=l[I+3],Mt=d*H,Ut=d*et,Bt=d*rt,qt=d*yt,Te=p*H,ke=p*et,Jt=p*rt,Zt=p*yt;y=m;for(var We=0;We<d;We++)y.r=H,y.g=et,y.b=rt,y.a=yt,y=y.next;for(var hn=r,Ie=0,_e=0,mn=0,ln=0,yn=1;yn<=o;yn++){I=hn+B<<2;var Me=d-yn;Te+=(y.r=H=l[I])*Me,ke+=(y.g=et=l[I+1])*Me,Jt+=(y.b=rt=l[I+2])*Me,Zt+=(y.a=yt=l[I+3])*Me,ln+=H,Ie+=et,_e+=rt,mn+=yt,y=y.next,yn<h&&(hn+=r)}I=B,S=m,M=x;for(var Le=0;Le<s;Le++){var le=I<<2;l[le+3]=yt=Zt*D>>>q,yt>0?(yt=255/yt,l[le]=(Te*D>>>q)*yt,l[le+1]=(ke*D>>>q)*yt,l[le+2]=(Jt*D>>>q)*yt):l[le]=l[le+1]=l[le+2]=0,Te-=Mt,ke-=Ut,Jt-=Bt,Zt-=qt,Mt-=S.r,Ut-=S.g,Bt-=S.b,qt-=S.a,le=B+((le=Le+d)<h?le:h)*r<<2,Te+=ln+=S.r=l[le],ke+=Ie+=S.g=l[le+1],Jt+=_e+=S.b=l[le+2],Zt+=mn+=S.a=l[le+3],S=S.next,Mt+=H=M.r,Ut+=et=M.g,Bt+=rt=M.b,qt+=yt=M.a,ln-=H,Ie-=et,_e-=rt,mn-=yt,M=M.next,I+=r}}return e}var Ly=function e(){cN(this,e),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};function Ho(e){return e.replace(/(?!\u3000)\s+/gm," ")}function gN(e){return e.replace(/^[\n \t]+/,"")}function mN(e){return e.replace(/[\n \t]+$/,"")}function Cr(e){const t=e.match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm);return t?t.map(parseFloat):[]}function yN(e){const t=Cr(e);return[t[0]||0,t[1]||0,t[2]||0,t[3]||0,t[4]||0,t[5]||0]}const vN=/^[A-Z-]+$/;function bN(e){return vN.test(e)?e.toLowerCase():e}function Bv(e){const t=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(e);return t&&(t[2]||t[3]||t[4])||""}function xN(e){if(!e.startsWith("rgb"))return e;let t=3;return e.replace(/\d+(\.\d+)?/g,(r,s)=>t--&&s?String(Math.round(parseFloat(r))):r)}const wN=/(\[[^\]]+\])/g,_N=/(#[^\s+>~.[:]+)/g,SN=/(\.[^\s+>~.[:]+)/g,CN=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,EN=/(:[\w-]+\([^)]*\))/gi,AN=/(:[^\s+>~.[:]+)/g,TN=/([^\s+>~.[:]+)/g;function Di(e,t){const n=t.exec(e);return n?[e.replace(t," "),n.length]:[e,0]}function kN(e){const t=[0,0,0];let n=e.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),r=0;return[n,r]=Di(n,wN),t[1]+=r,[n,r]=Di(n,_N),t[0]+=r,[n,r]=Di(n,SN),t[1]+=r,[n,r]=Di(n,CN),t[2]+=r,[n,r]=Di(n,EN),t[1]+=r,[n,r]=Di(n,AN),t[1]+=r,n=n.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[n,r]=Di(n,TN),t[2]+=r,t.join("")}const Po=1e-8;function Ny(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))}function Lh(e,t){return(e[0]*t[0]+e[1]*t[1])/(Ny(e)*Ny(t))}function Dy(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(Lh(e,t))}function $y(e){return e*e*e}function Uy(e){return 3*e*e*(1-e)}function Fy(e){return 3*e*(1-e)*(1-e)}function Vy(e){return(1-e)*(1-e)*(1-e)}function By(e){return e*e}function Hy(e){return 2*e*(1-e)}function Wy(e){return(1-e)*(1-e)}class Ht{static empty(t){return new Ht(t,"EMPTY","")}split(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ";const{document:n,name:r}=this;return Ho(this.getString()).trim().split(t).map(s=>new Ht(n,r,s))}hasValue(t){const n=this.value;return n!==null&&n!==""&&(t||n!==0)&&typeof n<"u"}isString(t){const{value:n}=this,r=typeof n=="string";return!r||!t?r:t.test(n)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;const t=this.getString();switch(!0){case t.endsWith("px"):case/^[0-9]+$/.test(t):return!0;default:return!1}}setValue(t){return this.value=t,this}getValue(t){return typeof t>"u"||this.hasValue()?this.value:t}getNumber(t){if(!this.hasValue())return typeof t>"u"?0:parseFloat(t);const{value:n}=this;let r=parseFloat(n);return this.isString(/%$/)&&(r/=100),r}getString(t){return typeof t>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(t)}getColor(t){let n=this.getString(t);return this.isNormalizedColor||(this.isNormalizedColor=!0,n=xN(n),this.value=n),n}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;const[r,s]=typeof t=="boolean"?[void 0,t]:[t],{viewPort:o}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(o.computeSize("x"),o.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(o.computeSize("x"),o.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*o.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*o.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&s):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*o.computeSize(r);default:{const l=this.getNumber();return n&&l<1?l*o.computeSize(r):l}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){const t=this.getString(),n=/#([^)'"]+)/.exec(t),r=(n==null?void 0:n[1])||t;return this.document.definitions[r]}getFillStyleDefinition(t,n){let r=this.getDefinition();if(!r)return null;if(typeof r.createGradient=="function"&&"getBoundingBox"in t)return r.createGradient(this.document.ctx,t,n);if(typeof r.createPattern=="function"){if(r.getHrefAttribute().hasValue()){const s=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition(),r&&s.hasValue()&&r.getAttribute("patternTransform",!0).setValue(s.value)}if(r)return r.createPattern(this.document.ctx,t,n)}return null}getTextBaseline(){if(!this.hasValue())return null;const t=this.getString();return Ht.textBaselineMapping[t]||null}addOpacity(t){let n=this.getColor();const r=n.length;let s=0;for(let o=0;o<r&&(n[o]===","&&s++,s!==3);o++);if(t.hasValue()&&this.isString()&&s!==3){const o=new Oh(n);o.ok&&(o.alpha=t.getNumber(),n=o.toRGBA())}return new Ht(this.document,this.name,n)}constructor(t,n,r){this.document=t,this.name=n,this.value=r,this.isNormalizedColor=!1}}Ht.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Wa{clear(){this.viewPorts=[]}setCurrent(t,n){this.viewPorts.push({width:t,height:n})}removeCurrent(){this.viewPorts.pop()}getRoot(){const[t]=this.viewPorts;return t||zy()}getCurrent(){const{viewPorts:t}=this,n=t[t.length-1];return n||zy()}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){return typeof t=="number"?t:t==="x"?this.width:t==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}constructor(){this.viewPorts=[]}}Wa.DEFAULT_VIEWPORT_WIDTH=800;Wa.DEFAULT_VIEWPORT_HEIGHT=600;function zy(){return{width:Wa.DEFAULT_VIEWPORT_WIDTH,height:Wa.DEFAULT_VIEWPORT_HEIGHT}}class an{static parse(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const[r=n,s=n]=Cr(t);return new an(r,s)}static parseScale(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const[r=n,s=r]=Cr(t);return new an(r,s)}static parsePath(t){const n=Cr(t),r=n.length,s=[];for(let o=0;o<r;o+=2)s.push(new an(n[o],n[o+1]));return s}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){const{x:n,y:r}=this,s=n*t[0]+r*t[2]+t[4],o=n*t[1]+r*t[3]+t[5];this.x=s,this.y=o}constructor(t,n){this.x=t,this.y=n}}class MN{isWorking(){return this.working}start(){if(this.working)return;const{screen:t,onClick:n,onMouseMove:r}=this,s=t.ctx.canvas;s.onclick=n,s.onmousemove=r,this.working=!0}stop(){if(!this.working)return;const t=this.screen.ctx.canvas;this.working=!1,t.onclick=null,t.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working)return;const{screen:t,events:n,eventElements:r}=this,{style:s}=t.ctx.canvas;let o;s&&(s.cursor=""),n.forEach((l,c)=>{let{run:u}=l;for(o=r[c];o;)u(o),o=o.parent}),this.events=[],this.eventElements=[]}checkPath(t,n){if(!this.working||!n)return;const{events:r,eventElements:s}=this;r.forEach((o,l)=>{let{x:c,y:u}=o;!s[l]&&n.isPointInPath&&n.isPointInPath(c,u)&&(s[l]=t)})}checkBoundingBox(t,n){if(!this.working||!n)return;const{events:r,eventElements:s}=this;r.forEach((o,l)=>{let{x:c,y:u}=o;!s[l]&&n.isPointInBox(c,u)&&(s[l]=t)})}mapXY(t,n){const{window:r,ctx:s}=this.screen,o=new an(t,n);let l=s.canvas;for(;l;)o.x-=l.offsetLeft,o.y-=l.offsetTop,l=l.offsetParent;return r!=null&&r.scrollX&&(o.x+=r.scrollX),r!=null&&r.scrollY&&(o.y+=r.scrollY),o}onClick(t){const{x:n,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:n,y:r,run(s){s.onClick&&s.onClick()}})}onMouseMove(t){const{x:n,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:n,y:r,run(s){s.onMouseMove&&s.onMouseMove()}})}constructor(t){this.screen=t,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}}const Hv=typeof window<"u"?window:null,Wv=typeof fetch<"u"?fetch.bind(void 0):void 0;class Hs{wait(t){this.waits.push(t)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;const t=this.waits.every(n=>n());return t&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=t,t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)",t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4}setViewBox(t){let{document:n,ctx:r,aspectRatio:s,width:o,desiredWidth:l,height:c,desiredHeight:u,minX:h=0,minY:d=0,refX:p,refY:m,clip:y=!1,clipX:x=0,clipY:C=0}=t;const S=Ho(s).replace(/^defer\s/,""),[M,$]=S.split(" "),I=M||"xMidYMid",D=$||"meet",q=o/l,Q=c/u,W=Math.min(q,Q),vt=Math.max(q,Q);let ut=l,_t=u;D==="meet"&&(ut*=W,_t*=W),D==="slice"&&(ut*=vt,_t*=vt);const wt=new Ht(n,"refX",p),ft=new Ht(n,"refY",m),Ot=wt.hasValue()&&ft.hasValue();if(Ot&&r.translate(-W*wt.getPixels("x"),-W*ft.getPixels("y")),y){const Lt=W*x,St=W*C;r.beginPath(),r.moveTo(Lt,St),r.lineTo(o,St),r.lineTo(o,c),r.lineTo(Lt,c),r.closePath(),r.clip()}if(!Ot){const Lt=D==="meet"&&W===Q,St=D==="slice"&&vt===Q,Ct=D==="meet"&&W===q,ct=D==="slice"&&vt===q;I.startsWith("xMid")&&(Lt||St)&&r.translate(o/2-ut/2,0),I.endsWith("YMid")&&(Ct||ct)&&r.translate(0,c/2-_t/2),I.startsWith("xMax")&&(Lt||St)&&r.translate(o-ut,0),I.endsWith("YMax")&&(Ct||ct)&&r.translate(0,c-_t)}switch(!0){case I==="none":r.scale(q,Q);break;case D==="meet":r.scale(W,W);break;case D==="slice":r.scale(vt,vt);break}r.translate(-h,-d)}start(t){let{enableRedraw:n=!1,ignoreMouse:r=!1,ignoreAnimation:s=!1,ignoreDimensions:o=!1,ignoreClear:l=!1,forceRedraw:c,scaleWidth:u,scaleHeight:h,offsetX:d,offsetY:p}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{mouse:m}=this,y=1e3/Hs.FRAMERATE;if(this.isReadyLock=!1,this.frameDuration=y,this.readyPromise=new Promise($=>{this.resolveReady=$}),this.isReady()&&this.render(t,o,l,u,h,d,p),!n)return;let x=Date.now(),C=x,S=0;const M=()=>{x=Date.now(),S=x-C,S>=y&&(C=x-S%y,this.shouldUpdate(s,c)&&(this.render(t,o,l,u,h,d,p),m.runEvents())),this.intervalId=Xf(M)};r||m.start(),this.intervalId=Xf(M)}stop(){this.intervalId&&(Xf.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(t,n){if(!t){const{frameDuration:r}=this;if(this.animations.reduce((o,l)=>l.update(r)||o,!1))return!0}return!!(typeof n=="function"&&n()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(t,n,r,s,o,l,c){const{viewPort:u,ctx:h,isFirstRender:d}=this,p=h.canvas;u.clear(),p.width&&p.height&&u.setCurrent(p.width,p.height);const m=t.getStyle("width"),y=t.getStyle("height");!n&&(d||typeof s!="number"&&typeof o!="number")&&(m.hasValue()&&(p.width=m.getPixels("x"),p.style&&(p.style.width="".concat(p.width,"px"))),y.hasValue()&&(p.height=y.getPixels("y"),p.style&&(p.style.height="".concat(p.height,"px"))));let x=p.clientWidth||p.width,C=p.clientHeight||p.height;if(n&&m.hasValue()&&y.hasValue()&&(x=m.getPixels("x"),C=y.getPixels("y")),u.setCurrent(x,C),typeof l=="number"&&t.getAttribute("x",!0).setValue(l),typeof c=="number"&&t.getAttribute("y",!0).setValue(c),typeof s=="number"||typeof o=="number"){const S=Cr(t.getAttribute("viewBox").getString());let M=0,$=0;if(typeof s=="number"){const D=t.getStyle("width");D.hasValue()?M=D.getPixels("x")/s:S[2]&&!isNaN(S[2])&&(M=S[2]/s)}if(typeof o=="number"){const D=t.getStyle("height");D.hasValue()?$=D.getPixels("y")/o:S[3]&&!isNaN(S[3])&&($=S[3]/o)}M||(M=$),$||($=M),t.getAttribute("width",!0).setValue(s),t.getAttribute("height",!0).setValue(o);const I=t.getStyle("transform",!0,!0);I.setValue("".concat(I.getString()," scale(").concat(1/M,", ").concat(1/$,")"))}r||h.clearRect(0,0,x,C),t.render(h),d&&(this.isFirstRender=!1)}constructor(t,{fetch:n=Wv,window:r=Hv}={}){if(this.ctx=t,this.viewPort=new Wa,this.mouse=new MN(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=r,!n)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");this.fetch=n}}Hs.defaultWindow=Hv;Hs.defaultFetch=Wv;Hs.FRAMERATE=30;Hs.MAX_VIRTUAL_PIXELS=3e4;const{defaultFetch:RN}=Hs,PN=typeof DOMParser<"u"?DOMParser:void 0;class Kf{async parse(t){return t.startsWith("<")?this.parseFromString(t):this.load(t)}parseFromString(t){const n=new this.DOMParser;try{return this.checkDocument(n.parseFromString(t,"image/svg+xml"))}catch{return this.checkDocument(n.parseFromString(t,"text/xml"))}}checkDocument(t){const n=t.getElementsByTagName("parsererror")[0];if(n)throw new Error(n.textContent||"Unknown parse error");return t}async load(t){const r=await(await this.fetch(t)).text();return this.parseFromString(r)}constructor({fetch:t=RN,DOMParser:n=PN}={}){if(!t)throw new Error("Can't find 'fetch' in 'globalThis', please provide it via options");if(!n)throw new Error("Can't find 'DOMParser' in 'globalThis', please provide it via options");this.fetch=t,this.DOMParser=n}}class ON{apply(t){const{x:n,y:r}=this.point;t.translate(n||0,r||0)}unapply(t){const{x:n,y:r}=this.point;t.translate(-1*n||0,-1*r||0)}applyToPoint(t){const{x:n,y:r}=this.point;t.applyTransform([1,0,0,1,n||0,r||0])}constructor(t,n){this.type="translate",this.point=an.parse(n)}}class IN{apply(t){const{cx:n,cy:r,originX:s,originY:o,angle:l}=this,c=n+s.getPixels("x"),u=r+o.getPixels("y");t.translate(c,u),t.rotate(l.getRadians()),t.translate(-c,-u)}unapply(t){const{cx:n,cy:r,originX:s,originY:o,angle:l}=this,c=n+s.getPixels("x"),u=r+o.getPixels("y");t.translate(c,u),t.rotate(-1*l.getRadians()),t.translate(-c,-u)}applyToPoint(t){const{cx:n,cy:r,angle:s}=this,o=s.getRadians();t.applyTransform([1,0,0,1,n||0,r||0]),t.applyTransform([Math.cos(o),Math.sin(o),-Math.sin(o),Math.cos(o),0,0]),t.applyTransform([1,0,0,1,-n||0,-r||0])}constructor(t,n,r){this.type="rotate";const s=Cr(n);this.angle=new Ht(t,"angle",s[0]),this.originX=r[0],this.originY=r[1],this.cx=s[1]||0,this.cy=s[2]||0}}class LN{apply(t){const{scale:{x:n,y:r},originX:s,originY:o}=this,l=s.getPixels("x"),c=o.getPixels("y");t.translate(l,c),t.scale(n,r||n),t.translate(-l,-c)}unapply(t){const{scale:{x:n,y:r},originX:s,originY:o}=this,l=s.getPixels("x"),c=o.getPixels("y");t.translate(l,c),t.scale(1/n,1/r||n),t.translate(-l,-c)}applyToPoint(t){const{x:n,y:r}=this.scale;t.applyTransform([n||0,0,0,r||0,0,0])}constructor(t,n,r){this.type="scale";const s=an.parseScale(n);(s.x===0||s.y===0)&&(s.x=Po,s.y=Po),this.scale=s,this.originX=r[0],this.originY=r[1]}}class zv{apply(t){const{originX:n,originY:r,matrix:s}=this,o=n.getPixels("x"),l=r.getPixels("y");t.translate(o,l),t.transform(s[0],s[1],s[2],s[3],s[4],s[5]),t.translate(-o,-l)}unapply(t){const{originX:n,originY:r,matrix:s}=this,o=s[0],l=s[2],c=s[4],u=s[1],h=s[3],d=s[5],p=0,m=0,y=1,x=1/(o*(h*y-d*m)-l*(u*y-d*p)+c*(u*m-h*p)),C=n.getPixels("x"),S=r.getPixels("y");t.translate(C,S),t.transform(x*(h*y-d*m),x*(d*p-u*y),x*(c*m-l*y),x*(o*y-c*p),x*(l*d-c*h),x*(c*u-o*d)),t.translate(-C,-S)}applyToPoint(t){t.applyTransform(this.matrix)}constructor(t,n,r){this.type="matrix",this.matrix=yN(n),this.originX=r[0],this.originY=r[1]}}class qv extends zv{constructor(t,n,r){super(t,n,r),this.type="skew",this.angle=new Ht(t,"angle",n)}}class NN extends qv{constructor(t,n,r){super(t,n,r),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class DN extends qv{constructor(t,n,r){super(t,n,r),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function $N(e){return Ho(e).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function UN(e){const[t="",n=""]=e.split("(");return[t.trim(),n.trim().replace(")","")]}class Ji{static fromElement(t,n){const r=n.getStyle("transform",!1,!0);if(r.hasValue()){const[s,o=s]=n.getStyle("transform-origin",!1,!0).split();if(s&&o){const l=[s,o];return new Ji(t,r.getString(),l)}}return null}apply(t){this.transforms.forEach(n=>n.apply(t))}unapply(t){this.transforms.forEach(n=>n.unapply(t))}applyToPoint(t){this.transforms.forEach(n=>n.applyToPoint(t))}constructor(t,n,r){this.document=t,this.transforms=[],$N(n).forEach(o=>{if(o==="none")return;const[l,c]=UN(o),u=Ji.transformTypes[l];u&&this.transforms.push(new u(this.document,c,r))})}}Ji.transformTypes={translate:ON,rotate:IN,scale:LN,matrix:zv,skewX:NN,skewY:DN};let gn=class Nh{getAttribute(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.attributes[t];if(!r&&n){const s=new Ht(this.document,t,"");return this.attributes[t]=s,s}return r||Ht.empty(this.document)}getHrefAttribute(){let t;for(const n in this.attributes)if(n==="href"||n.endsWith(":href")){t=this.attributes[n];break}return t||Ht.empty(this.document)}getStyle(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.styles[t];if(s)return s;const o=this.getAttribute(t);if(o.hasValue())return this.styles[t]=o,o;if(!r){const{parent:l}=this;if(l){const c=l.getStyle(t);if(c.hasValue())return c}}if(n){const l=new Ht(this.document,t,"");return this.styles[t]=l,l}return Ht.empty(this.document)}render(t){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(t.save(),this.getStyle("mask").hasValue()){const n=this.getStyle("mask").getDefinition();n&&(this.applyEffects(t),n.apply(t,this))}else if(this.getStyle("filter").getValue("none")!=="none"){const n=this.getStyle("filter").getDefinition();n&&(this.applyEffects(t),n.apply(t,this))}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}}setContext(t){}applyEffects(t){const n=Ji.fromElement(this.document,this);n&&n.apply(t);const r=this.getStyle("clip-path",!1,!0);if(r.hasValue()){const s=r.getDefinition();s&&s.apply(t)}}clearContext(t){}renderChildren(t){this.children.forEach(n=>{n.render(t)})}addChild(t){const n=t instanceof Nh?t:this.document.createElement(t);n.parent=this,Nh.ignoreChildTypes.includes(n.type)||this.children.push(n)}matchesSelector(t){var n;const{node:r}=this;if(typeof r.matches=="function")return r.matches(t);const s=(n=r.getAttribute)===null||n===void 0?void 0:n.call(r,"class");return!s||s===""?!1:s.split(" ").some(o=>".".concat(o)===t)}addStylesFromStyleDefinition(){const{styles:t,stylesSpecificity:n}=this.document;let r;for(const s in t)if(!s.startsWith("@")&&this.matchesSelector(s)){const o=t[s],l=n[s];if(o)for(const c in o){let u=this.stylesSpecificity[c];typeof u>"u"&&(u="000"),l&&l>=u&&(r=o[c],r&&(this.styles[c]=r),this.stylesSpecificity[c]=l)}}}removeStyles(t,n){return n.reduce((s,o)=>{const l=t.getStyle(o);if(!l.hasValue())return s;const c=l.getString();return l.setValue(""),[...s,[o,c]]},[])}restoreStyles(t,n){n.forEach(r=>{let[s,o]=r;t.getStyle(s,!0).setValue(o)})}isFirstChild(){var t;return((t=this.parent)===null||t===void 0?void 0:t.children.indexOf(this))===0}constructor(t,n,r=!1){if(this.document=t,this.node=n,this.captureTextNodes=r,this.type="",this.attributes={},this.styles={},this.stylesSpecificity={},this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!n||n.nodeType!==1)return;Array.from(n.attributes).forEach(l=>{const c=bN(l.nodeName);this.attributes[c]=new Ht(t,c,l.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()&&this.getAttribute("style").getString().split(";").map(c=>c.trim()).forEach(c=>{if(!c)return;const[u,h]=c.split(":").map(d=>d.trim());u&&(this.styles[u]=new Ht(t,u,h))});const{definitions:s}=t,o=this.getAttribute("id");o.hasValue()&&(s[o.getString()]||(s[o.getString()]=this)),Array.from(n.childNodes).forEach(l=>{if(l.nodeType===1)this.addChild(l);else if(r&&(l.nodeType===3||l.nodeType===4)){const c=t.createTextNode(l);c.getText().length>0&&this.addChild(c)}})}};gn.ignoreChildTypes=["title"];class FN extends gn{constructor(t,n,r){super(t,n,r)}}function VN(e){const t=e.trim();return/^('|")/.test(t)?t:'"'.concat(t,'"')}function BN(e){return typeof process>"u"?e:e.trim().split(",").map(VN).join(",")}function HN(e){if(!e)return"";const t=e.trim().toLowerCase();switch(t){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return t;default:return/^oblique\s+(-|)\d+deg$/.test(t)?t:""}}function WN(e){if(!e)return"";const t=e.trim().toLowerCase();switch(t){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return t;default:return/^[\d.]+$/.test(t)?t:""}}class Qn{static parse(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r="",s="",o="",l="",c="";const u=Ho(t).trim().split(" "),h={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return u.forEach(d=>{switch(!0){case(!h.fontStyle&&Qn.styles.includes(d)):d!=="inherit"&&(r=d),h.fontStyle=!0;break;case(!h.fontVariant&&Qn.variants.includes(d)):d!=="inherit"&&(s=d),h.fontStyle=!0,h.fontVariant=!0;break;case(!h.fontWeight&&Qn.weights.includes(d)):d!=="inherit"&&(o=d),h.fontStyle=!0,h.fontVariant=!0,h.fontWeight=!0;break;case!h.fontSize:d!=="inherit"&&(l=d.split("/")[0]||""),h.fontStyle=!0,h.fontVariant=!0,h.fontWeight=!0,h.fontSize=!0;break;default:d!=="inherit"&&(c+=d)}}),new Qn(r,s,o,l,c,n)}toString(){return[HN(this.fontStyle),this.fontVariant,WN(this.fontWeight),this.fontSize,BN(this.fontFamily)].join(" ").trim()}constructor(t,n,r,s,o,l){const c=l?typeof l=="string"?Qn.parse(l):l:{};this.fontFamily=o||c.fontFamily,this.fontSize=s||c.fontSize,this.fontStyle=t||c.fontStyle,this.fontWeight=r||c.fontWeight,this.fontVariant=n||c.fontVariant}}Qn.styles="normal|italic|oblique|inherit";Qn.variants="normal|small-caps|inherit";Qn.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class is{get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,n){typeof t<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof n<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=n,this.y2=n),n<this.y1&&(this.y1=n),n>this.y2&&(this.y2=n))}addX(t){this.addPoint(t,0)}addY(t){this.addPoint(0,t)}addBoundingBox(t){if(!t)return;const{x1:n,y1:r,x2:s,y2:o}=t;this.addPoint(n,r),this.addPoint(s,o)}sumCubic(t,n,r,s,o){return Math.pow(1-t,3)*n+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*s+Math.pow(t,3)*o}bezierCurveAdd(t,n,r,s,o){const l=6*n-12*r+6*s,c=-3*n+9*r-9*s+3*o,u=3*r-3*n;if(c===0){if(l===0)return;const m=-u/l;0<m&&m<1&&(t?this.addX(this.sumCubic(m,n,r,s,o)):this.addY(this.sumCubic(m,n,r,s,o)));return}const h=Math.pow(l,2)-4*u*c;if(h<0)return;const d=(-l+Math.sqrt(h))/(2*c);0<d&&d<1&&(t?this.addX(this.sumCubic(d,n,r,s,o)):this.addY(this.sumCubic(d,n,r,s,o)));const p=(-l-Math.sqrt(h))/(2*c);0<p&&p<1&&(t?this.addX(this.sumCubic(p,n,r,s,o)):this.addY(this.sumCubic(p,n,r,s,o)))}addBezierCurve(t,n,r,s,o,l,c,u){this.addPoint(t,n),this.addPoint(c,u),this.bezierCurveAdd(!0,t,r,o,c),this.bezierCurveAdd(!1,n,s,l,u)}addQuadraticCurve(t,n,r,s,o,l){const c=t+.6666666666666666*(r-t),u=n+2/3*(s-n),h=c+1/3*(o-t),d=u+1/3*(l-n);this.addBezierCurve(t,n,c,h,u,d,o,l)}isPointInBox(t,n){const{x1:r,y1:s,x2:o,y2:l}=this;return r<=t&&t<=o&&s<=n&&n<=l}constructor(t=Number.NaN,n=Number.NaN,r=Number.NaN,s=Number.NaN){this.x1=t,this.y1=n,this.x2=r,this.y2=s,this.addPoint(t,n),this.addPoint(r,s)}}class eo extends gn{calculateOpacity(){let t=1,n=this;for(;n;){const r=n.getStyle("opacity",!1,!0);r.hasValue(!0)&&(t*=r.getNumber()),n=n.parent}return t}setContext(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n){const r=this.getStyle("fill"),s=this.getStyle("fill-opacity"),o=this.getStyle("stroke"),l=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){const y=r.getFillStyleDefinition(this,s);y&&(t.fillStyle=y)}else if(r.hasValue()){r.getString()==="currentColor"&&r.setValue(this.getStyle("color").getColor());const y=r.getColor();y!=="inherit"&&(t.fillStyle=y==="none"?"rgba(0,0,0,0)":y)}if(s.hasValue()){const y=new Ht(this.document,"fill",t.fillStyle).addOpacity(s).getColor();t.fillStyle=y}if(o.isUrlDefinition()){const y=o.getFillStyleDefinition(this,l);y&&(t.strokeStyle=y)}else if(o.hasValue()){o.getString()==="currentColor"&&o.setValue(this.getStyle("color").getColor());const y=o.getString();y!=="inherit"&&(t.strokeStyle=y==="none"?"rgba(0,0,0,0)":y)}if(l.hasValue()){const y=new Ht(this.document,"stroke",t.strokeStyle).addOpacity(l).getString();t.strokeStyle=y}const c=this.getStyle("stroke-width");if(c.hasValue()){const y=c.getPixels();t.lineWidth=y||Po}const u=this.getStyle("stroke-linecap"),h=this.getStyle("stroke-linejoin"),d=this.getStyle("stroke-miterlimit"),p=this.getStyle("stroke-dasharray"),m=this.getStyle("stroke-dashoffset");if(u.hasValue()&&(t.lineCap=u.getString()),h.hasValue()&&(t.lineJoin=h.getString()),d.hasValue()&&(t.miterLimit=d.getNumber()),p.hasValue()&&p.getString()!=="none"){const y=Cr(p.getString());typeof t.setLineDash<"u"?t.setLineDash(y):typeof t.webkitLineDash<"u"?t.webkitLineDash=y:typeof t.mozDash<"u"&&!(y.length===1&&y[0]===0)&&(t.mozDash=y);const x=m.getPixels();typeof t.lineDashOffset<"u"?t.lineDashOffset=x:typeof t.webkitLineDashOffset<"u"?t.webkitLineDashOffset=x:typeof t.mozDashOffset<"u"&&(t.mozDashOffset=x)}}if(this.modifiedEmSizeStack=!1,typeof t.font<"u"){const r=this.getStyle("font"),s=this.getStyle("font-style"),o=this.getStyle("font-variant"),l=this.getStyle("font-weight"),c=this.getStyle("font-size"),u=this.getStyle("font-family"),h=new Qn(s.getString(),o.getString(),l.getString(),c.hasValue()?"".concat(c.getPixels(!0),"px"):"",u.getString(),Qn.parse(r.getString(),t.font));s.setValue(h.fontStyle),o.setValue(h.fontVariant),l.setValue(h.fontWeight),c.setValue(h.fontSize),u.setValue(h.fontFamily),t.font=h.toString(),c.isPixels()&&(this.document.emSize=c.getPixels(),this.modifiedEmSizeStack=!0)}n||(this.applyEffects(t),t.globalAlpha=this.calculateOpacity())}clearContext(t){super.clearContext(t),this.modifiedEmSizeStack&&this.document.popEmSize()}constructor(...t){super(...t),this.modifiedEmSizeStack=!1}}class mi extends eo{setContext(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(t,n);const r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();r&&(t.textBaseline=r)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if(this.type!=="text")return this.getTElementBoundingBox(t);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t);let n=null;return this.children.forEach((r,s)=>{const o=this.getChildBoundingBox(t,this,this,s);n?n.addBoundingBox(o):n=o}),n}getFontSize(){const{document:t,parent:n}=this,r=Qn.parse(t.ctx.font).fontSize;return n.getStyle("font-size").getNumber(r)}getTElementBoundingBox(t){const n=this.getFontSize();return new is(this.x,this.y-n,this.x+this.measureText(t),this.y)}getGlyph(t,n,r){const s=n[r];let o;if(t.isArabic){var l;const c=n.length,u=n[r-1],h=n[r+1];let d="isolated";(r===0||u===" ")&&r<c-1&&h!==" "&&(d="terminal"),r>0&&u!==" "&&r<c-1&&h!==" "&&(d="medial"),r>0&&u!==" "&&(r===c-1||h===" ")&&(d="initial"),o=((l=t.arabicGlyphs[s])===null||l===void 0?void 0:l[d])||t.glyphs[s]}else o=t.glyphs[s];return o||(o=t.missingGlyph),o}getText(){return""}getTextFromNode(t){const n=t||this.node,r=Array.from(n.parentNode.childNodes),s=r.indexOf(n),o=r.length-1;let l=Ho(n.textContent||"");return s===0&&(l=gN(l)),s===o&&(l=mN(l)),l}renderChildren(t){if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(t),this.children.forEach((r,s)=>{this.renderChild(t,this,this,s)});const{mouse:n}=this.document.screen;n.isWorking()&&n.checkBoundingBox(this,this.getBoundingBox(t))}renderTElementChildren(t){const{document:n,parent:r}=this,s=this.getText(),o=r.getStyle("font-family").getDefinition();if(o){const{unitsPerEm:u}=o.fontFace,h=Qn.parse(n.ctx.font),d=r.getStyle("font-size").getNumber(h.fontSize),p=r.getStyle("font-style").getString(h.fontStyle),m=d/u,y=o.isRTL?s.split("").reverse().join(""):s,x=Cr(r.getAttribute("dx").getString()),C=y.length;for(let S=0;S<C;S++){const M=this.getGlyph(o,y,S);t.translate(this.x,this.y),t.scale(m,-m);const $=t.lineWidth;t.lineWidth=t.lineWidth*u/d,p==="italic"&&t.transform(1,0,.4,1,0,0),M.render(t),p==="italic"&&t.transform(1,0,-.4,1,0,0),t.lineWidth=$,t.scale(1/m,-1/m),t.translate(-this.x,-this.y),this.x+=d*(M.horizAdvX||o.horizAdvX)/u,typeof x[S]<"u"&&!isNaN(x[S])&&(this.x+=x[S])}return}const{x:l,y:c}=this;t.fillStyle&&t.fillText(s,l,c),t.strokeStyle&&t.strokeText(s,l,c)}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length)return;const t=this.leafTexts[this.textChunkStart],n=t.getStyle("text-anchor").getString("start"),r=!1;let s=0;n==="start"||n==="end"&&r?s=t.x-this.minX:n==="end"||n==="start"&&r?s=t.x-this.maxX:s=t.x-(this.minX+this.maxX)/2;for(let o=this.textChunkStart;o<this.leafTexts.length;o++)this.leafTexts[o].x+=s;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(t){this.children.forEach((n,r)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,r)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,n,r,s){const o=r.children[s];o.children.length>0?o.children.forEach((l,c)=>{n.adjustChildCoordinatesRecursiveCore(t,n,o,c)}):this.adjustChildCoordinates(t,n,r,s)}adjustChildCoordinates(t,n,r,s){const o=r.children[s];if(typeof o.measureText!="function")return o;t.save(),o.setContext(t,!0);const l=o.getAttribute("x"),c=o.getAttribute("y"),u=o.getAttribute("dx"),h=o.getAttribute("dy"),d=o.getStyle("font-family").getDefinition(),p=!!(d!=null&&d.isRTL);s===0&&(l.hasValue()||l.setValue(o.getInheritedAttribute("x")),c.hasValue()||c.setValue(o.getInheritedAttribute("y")),u.hasValue()||u.setValue(o.getInheritedAttribute("dx")),h.hasValue()||h.setValue(o.getInheritedAttribute("dy")));const m=o.measureText(t);return p&&(n.x-=m),l.hasValue()?(n.applyAnchoring(),o.x=l.getPixels("x"),u.hasValue()&&(o.x+=u.getPixels("x"))):(u.hasValue()&&(n.x+=u.getPixels("x")),o.x=n.x),n.x=o.x,p||(n.x+=m),c.hasValue()?(o.y=c.getPixels("y"),h.hasValue()&&(o.y+=h.getPixels("y"))):(h.hasValue()&&(n.y+=h.getPixels("y")),o.y=n.y),n.y=o.y,n.leafTexts.push(o),n.minX=Math.min(n.minX,o.x,o.x+m),n.maxX=Math.max(n.maxX,o.x,o.x+m),o.clearContext(t),t.restore(),o}getChildBoundingBox(t,n,r,s){const o=r.children[s];if(typeof o.getBoundingBox!="function")return null;const l=o.getBoundingBox(t);return l&&o.children.forEach((c,u)=>{const h=n.getChildBoundingBox(t,n,o,u);l.addBoundingBox(h)}),l}renderChild(t,n,r,s){const o=r.children[s];o.render(t),o.children.forEach((l,c)=>{n.renderChild(t,n,o,c)})}measureText(t){const{measureCache:n}=this;if(~n)return n;const r=this.getText(),s=this.measureTargetText(t,r);return this.measureCache=s,s}measureTargetText(t,n){if(!n.length)return 0;const{parent:r}=this,s=r.getStyle("font-family").getDefinition();if(s){const l=this.getFontSize(),c=s.isRTL?n.split("").reverse().join(""):n,u=Cr(r.getAttribute("dx").getString()),h=c.length;let d=0;for(let p=0;p<h;p++){const m=this.getGlyph(s,c,p);d+=(m.horizAdvX||s.horizAdvX)*l/s.fontFace.unitsPerEm,typeof u[p]<"u"&&!isNaN(u[p])&&(d+=u[p])}return d}if(!t.measureText)return n.length*10;t.save(),this.setContext(t,!0);const{width:o}=t.measureText(n);return this.clearContext(t),t.restore(),o}getInheritedAttribute(t){let n=this;for(;n instanceof mi&&n.isFirstChild()&&n.parent;){const r=n.parent.getAttribute(t);if(r.hasValue(!0))return r.getString("0");n=n.parent}return null}constructor(t,n,r){super(t,n,new.target===mi?!0:r),this.type="text",this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.measureCache=-1}}class iu extends mi{getText(){return this.text}constructor(t,n,r){super(t,n,new.target===iu?!0:r),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}}class zN extends iu{constructor(...t){super(...t),this.type="textNode"}}class ce extends gt{reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new an(0,0),this.control=new an(0,0),this.current=new an(0,0),this.points=[],this.angles=[]}isEnd(){const{i:t,commands:n}=this;return t>=n.length-1}next(){const t=this.commands[++this.i];return this.previousCommand=this.command,this.command=t,t}getPoint(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y";const r=new an(this.command[t],this.command[n]);return this.makeAbsolute(r)}getAsControlPoint(t,n){const r=this.getPoint(t,n);return this.control=r,r}getAsCurrentPoint(t,n){const r=this.getPoint(t,n);return this.current=r,r}getReflectedControlPoint(){const t=this.previousCommand.type;if(t!==gt.CURVE_TO&&t!==gt.SMOOTH_CURVE_TO&&t!==gt.QUAD_TO&&t!==gt.SMOOTH_QUAD_TO)return this.current;const{current:{x:n,y:r},control:{x:s,y:o}}=this;return new an(2*n-s,2*r-o)}makeAbsolute(t){if(this.command.relative){const{x:n,y:r}=this.current;t.x+=n,t.y+=r}return t}addMarker(t,n,r){const{points:s,angles:o}=this;r&&o.length>0&&!o[o.length-1]&&(o[o.length-1]=s[s.length-1].angleTo(r)),this.addMarkerAngle(t,n?n.angleTo(t):null)}addMarkerAngle(t,n){this.points.push(t),this.angles.push(n)}getMarkerPoints(){return this.points}getMarkerAngles(){const{angles:t}=this,n=t.length;for(let r=0;r<n;r++)if(!t[r]){for(let s=r+1;s<n;s++)if(t[s]){t[r]=t[s];break}}return t}constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=new an(0,0),this.start=new an(0,0),this.current=new an(0,0),this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}}class Be extends eo{path(t){const{pathParser:n}=this,r=new is;for(n.reset(),t&&t.beginPath();!n.isEnd();)switch(n.next().type){case ce.MOVE_TO:this.pathM(t,r);break;case ce.LINE_TO:this.pathL(t,r);break;case ce.HORIZ_LINE_TO:this.pathH(t,r);break;case ce.VERT_LINE_TO:this.pathV(t,r);break;case ce.CURVE_TO:this.pathC(t,r);break;case ce.SMOOTH_CURVE_TO:this.pathS(t,r);break;case ce.QUAD_TO:this.pathQ(t,r);break;case ce.SMOOTH_QUAD_TO:this.pathT(t,r);break;case ce.ARC:this.pathA(t,r);break;case ce.CLOSE_PATH:this.pathZ(t,r);break}return r}getBoundingBox(t){return this.path()}getMarkers(){const{pathParser:t}=this,n=t.getMarkerPoints(),r=t.getMarkerAngles();return n.map((o,l)=>[o,r[l]])}renderChildren(t){this.path(t),this.document.screen.mouse.checkPath(this,t);const n=this.getStyle("fill-rule");t.fillStyle!==""&&(n.getString("inherit")!=="inherit"?t.fill(n.getString()):t.fill()),t.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(t.save(),t.setTransform(1,0,0,1,0,0),t.stroke(),t.restore()):t.stroke());const r=this.getMarkers();if(r){const s=r.length-1,o=this.getStyle("marker-start"),l=this.getStyle("marker-mid"),c=this.getStyle("marker-end");if(o.isUrlDefinition()){const u=o.getDefinition(),[h,d]=r[0];u.render(t,h,d)}if(l.isUrlDefinition()){const u=l.getDefinition();for(let h=1;h<s;h++){const[d,p]=r[h];u.render(t,d,p)}}if(c.isUrlDefinition()){const u=c.getDefinition(),[h,d]=r[s];u.render(t,h,d)}}}static pathM(t){const n=t.getAsCurrentPoint();return t.start=t.current,{point:n}}pathM(t,n){const{pathParser:r}=this,{point:s}=Be.pathM(r),{x:o,y:l}=s;r.addMarker(s),n.addPoint(o,l),t&&t.moveTo(o,l)}static pathL(t){const{current:n}=t,r=t.getAsCurrentPoint();return{current:n,point:r}}pathL(t,n){const{pathParser:r}=this,{current:s,point:o}=Be.pathL(r),{x:l,y:c}=o;r.addMarker(o,s),n.addPoint(l,c),t&&t.lineTo(l,c)}static pathH(t){const{current:n,command:r}=t,s=new an((r.relative?n.x:0)+r.x,n.y);return t.current=s,{current:n,point:s}}pathH(t,n){const{pathParser:r}=this,{current:s,point:o}=Be.pathH(r),{x:l,y:c}=o;r.addMarker(o,s),n.addPoint(l,c),t&&t.lineTo(l,c)}static pathV(t){const{current:n,command:r}=t,s=new an(n.x,(r.relative?n.y:0)+r.y);return t.current=s,{current:n,point:s}}pathV(t,n){const{pathParser:r}=this,{current:s,point:o}=Be.pathV(r),{x:l,y:c}=o;r.addMarker(o,s),n.addPoint(l,c),t&&t.lineTo(l,c)}static pathC(t){const{current:n}=t,r=t.getPoint("x1","y1"),s=t.getAsControlPoint("x2","y2"),o=t.getAsCurrentPoint();return{current:n,point:r,controlPoint:s,currentPoint:o}}pathC(t,n){const{pathParser:r}=this,{current:s,point:o,controlPoint:l,currentPoint:c}=Be.pathC(r);r.addMarker(c,l,o),n.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,c.x,c.y),t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,c.x,c.y)}static pathS(t){const{current:n}=t,r=t.getReflectedControlPoint(),s=t.getAsControlPoint("x2","y2"),o=t.getAsCurrentPoint();return{current:n,point:r,controlPoint:s,currentPoint:o}}pathS(t,n){const{pathParser:r}=this,{current:s,point:o,controlPoint:l,currentPoint:c}=Be.pathS(r);r.addMarker(c,l,o),n.addBezierCurve(s.x,s.y,o.x,o.y,l.x,l.y,c.x,c.y),t&&t.bezierCurveTo(o.x,o.y,l.x,l.y,c.x,c.y)}static pathQ(t){const{current:n}=t,r=t.getAsControlPoint("x1","y1"),s=t.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:s}}pathQ(t,n){const{pathParser:r}=this,{current:s,controlPoint:o,currentPoint:l}=Be.pathQ(r);r.addMarker(l,o,o),n.addQuadraticCurve(s.x,s.y,o.x,o.y,l.x,l.y),t&&t.quadraticCurveTo(o.x,o.y,l.x,l.y)}static pathT(t){const{current:n}=t,r=t.getReflectedControlPoint();t.control=r;const s=t.getAsCurrentPoint();return{current:n,controlPoint:r,currentPoint:s}}pathT(t,n){const{pathParser:r}=this,{current:s,controlPoint:o,currentPoint:l}=Be.pathT(r);r.addMarker(l,o,o),n.addQuadraticCurve(s.x,s.y,o.x,o.y,l.x,l.y),t&&t.quadraticCurveTo(o.x,o.y,l.x,l.y)}static pathA(t){const{current:n,command:r}=t;let{rX:s,rY:o,xRot:l,lArcFlag:c,sweepFlag:u}=r;const h=l*(Math.PI/180),d=t.getAsCurrentPoint(),p=new an(Math.cos(h)*(n.x-d.x)/2+Math.sin(h)*(n.y-d.y)/2,-Math.sin(h)*(n.x-d.x)/2+Math.cos(h)*(n.y-d.y)/2),m=Math.pow(p.x,2)/Math.pow(s,2)+Math.pow(p.y,2)/Math.pow(o,2);m>1&&(s*=Math.sqrt(m),o*=Math.sqrt(m));let y=(c===u?-1:1)*Math.sqrt((Math.pow(s,2)*Math.pow(o,2)-Math.pow(s,2)*Math.pow(p.y,2)-Math.pow(o,2)*Math.pow(p.x,2))/(Math.pow(s,2)*Math.pow(p.y,2)+Math.pow(o,2)*Math.pow(p.x,2)));isNaN(y)&&(y=0);const x=new an(y*s*p.y/o,y*-o*p.x/s),C=new an((n.x+d.x)/2+Math.cos(h)*x.x-Math.sin(h)*x.y,(n.y+d.y)/2+Math.sin(h)*x.x+Math.cos(h)*x.y),S=Dy([1,0],[(p.x-x.x)/s,(p.y-x.y)/o]),M=[(p.x-x.x)/s,(p.y-x.y)/o],$=[(-p.x-x.x)/s,(-p.y-x.y)/o];let I=Dy(M,$);return Lh(M,$)<=-1&&(I=Math.PI),Lh(M,$)>=1&&(I=0),{currentPoint:d,rX:s,rY:o,sweepFlag:u,xAxisRotation:h,centp:C,a1:S,ad:I}}pathA(t,n){const{pathParser:r}=this,{currentPoint:s,rX:o,rY:l,sweepFlag:c,xAxisRotation:u,centp:h,a1:d,ad:p}=Be.pathA(r),m=1-c?1:-1,y=d+m*(p/2),x=new an(h.x+o*Math.cos(y),h.y+l*Math.sin(y));if(r.addMarkerAngle(x,y-m*Math.PI/2),r.addMarkerAngle(s,y-m*Math.PI),n.addPoint(s.x,s.y),t&&!isNaN(d)&&!isNaN(p)){const C=o>l?o:l,S=o>l?1:o/l,M=o>l?l/o:1;t.translate(h.x,h.y),t.rotate(u),t.scale(S,M),t.arc(0,0,C,d,d+p,!!(1-c)),t.scale(1/S,1/M),t.rotate(-u),t.translate(-h.x,-h.y)}}static pathZ(t){t.current=t.start}pathZ(t,n){Be.pathZ(this.pathParser),t&&n.x1!==n.x2&&n.y1!==n.y2&&t.closePath()}constructor(t,n,r){super(t,n,r),this.type="path",this.pathParser=new ce(this.getAttribute("d").getString())}}let sl=class extends eo{setContext(t){var n;const{document:r}=this,{screen:s,window:o}=r,l=t.canvas;if(s.setDefaults(t),"style"in l&&typeof t.font<"u"&&o&&typeof o.getComputedStyle<"u"){t.font=o.getComputedStyle(l).getPropertyValue("font");const $=new Ht(r,"fontSize",Qn.parse(t.font).fontSize);$.hasValue()&&(r.rootEmSize=$.getPixels("y"),r.emSize=r.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);let{width:c,height:u}=s.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");const h=this.getAttribute("refX"),d=this.getAttribute("refY"),p=this.getAttribute("viewBox"),m=p.hasValue()?Cr(p.getString()):null,y=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible";let x=0,C=0,S=0,M=0;m&&(x=m[0],C=m[1]),this.root||(c=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y"),this.type==="marker"&&(S=x,M=C,x=0,C=0)),s.viewPort.setCurrent(c,u),this.node&&(!this.parent||((n=this.node.parentNode)===null||n===void 0?void 0:n.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(t),t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),m&&(c=m[2],u=m[3]),r.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:s.viewPort.width,desiredWidth:c,height:s.viewPort.height,desiredHeight:u,minX:x,minY:C,refX:h.getValue(),refY:d.getValue(),clip:y,clipX:S,clipY:M}),m&&(s.viewPort.removeCurrent(),s.viewPort.setCurrent(c,u))}clearContext(t){super.clearContext(t),this.document.screen.viewPort.removeCurrent()}resize(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const s=this.getAttribute("width",!0),o=this.getAttribute("height",!0),l=this.getAttribute("viewBox"),c=this.getAttribute("style"),u=s.getNumber(0),h=o.getNumber(0);if(r)if(typeof r=="string")this.getAttribute("preserveAspectRatio",!0).setValue(r);else{const d=this.getAttribute("preserveAspectRatio");d.hasValue()&&d.setValue(d.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(s.setValue(t),o.setValue(n),l.hasValue()||l.setValue("0 0 ".concat(u||t," ").concat(h||n)),c.hasValue()){const d=this.getStyle("width"),p=this.getStyle("height");d.hasValue()&&d.setValue("".concat(t,"px")),p.hasValue()&&p.setValue("".concat(n,"px"))}}constructor(...t){super(...t),this.type="svg",this.root=!1}};class Gv extends Be{path(t){const n=this.getAttribute("x").getPixels("x"),r=this.getAttribute("y").getPixels("y"),s=this.getStyle("width",!1,!0).getPixels("x"),o=this.getStyle("height",!1,!0).getPixels("y"),l=this.getAttribute("rx"),c=this.getAttribute("ry");let u=l.getPixels("x"),h=c.getPixels("y");if(l.hasValue()&&!c.hasValue()&&(h=u),c.hasValue()&&!l.hasValue()&&(u=h),u=Math.min(u,s/2),h=Math.min(h,o/2),t){const d=4*((Math.sqrt(2)-1)/3);t.beginPath(),o>0&&s>0&&(t.moveTo(n+u,r),t.lineTo(n+s-u,r),t.bezierCurveTo(n+s-u+d*u,r,n+s,r+h-d*h,n+s,r+h),t.lineTo(n+s,r+o-h),t.bezierCurveTo(n+s,r+o-h+d*h,n+s-u+d*u,r+o,n+s-u,r+o),t.lineTo(n+u,r+o),t.bezierCurveTo(n+u-d*u,r+o,n,r+o-h+d*h,n,r+o-h),t.lineTo(n,r+h),t.bezierCurveTo(n,r+h-d*h,n+u-d*u,r,n+u,r),t.closePath())}return new is(n,r,n+s,r+o)}getMarkers(){return null}constructor(...t){super(...t),this.type="rect"}}class qN extends Be{path(t){const n=this.getAttribute("cx").getPixels("x"),r=this.getAttribute("cy").getPixels("y"),s=this.getAttribute("r").getPixels();return t&&s>0&&(t.beginPath(),t.arc(n,r,s,0,Math.PI*2,!1),t.closePath()),new is(n-s,r-s,n+s,r+s)}getMarkers(){return null}constructor(...t){super(...t),this.type="circle"}}class GN extends Be{path(t){const n=4*((Math.sqrt(2)-1)/3),r=this.getAttribute("rx").getPixels("x"),s=this.getAttribute("ry").getPixels("y"),o=this.getAttribute("cx").getPixels("x"),l=this.getAttribute("cy").getPixels("y");return t&&r>0&&s>0&&(t.beginPath(),t.moveTo(o+r,l),t.bezierCurveTo(o+r,l+n*s,o+n*r,l+s,o,l+s),t.bezierCurveTo(o-n*r,l+s,o-r,l+n*s,o-r,l),t.bezierCurveTo(o-r,l-n*s,o-n*r,l-s,o,l-s),t.bezierCurveTo(o+n*r,l-s,o+r,l-n*s,o+r,l),t.closePath()),new is(o-r,l-s,o+r,l+s)}getMarkers(){return null}constructor(...t){super(...t),this.type="ellipse"}}class XN extends Be{getPoints(){return[new an(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new an(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){const[{x:n,y:r},{x:s,y:o}]=this.getPoints();return t&&(t.beginPath(),t.moveTo(n,r),t.lineTo(s,o)),new is(n,r,s,o)}getMarkers(){const[t,n]=this.getPoints(),r=t.angleTo(n);return[[t,r],[n,r]]}constructor(...t){super(...t),this.type="line"}}class Xv extends Be{path(t){const{points:n}=this,[{x:r,y:s}]=n,o=new is(r,s);return t&&(t.beginPath(),t.moveTo(r,s)),n.forEach(l=>{let{x:c,y:u}=l;o.addPoint(c,u),t&&t.lineTo(c,u)}),o}getMarkers(){const{points:t}=this,n=t.length-1,r=[];return t.forEach((s,o)=>{o!==n&&r.push([s,s.angleTo(t[o+1])])}),r.length>0&&r.push([t[t.length-1],r[r.length-1][1]]),r}constructor(t,n,r){super(t,n,r),this.type="polyline",this.points=[],this.points=an.parsePath(this.getAttribute("points").getString())}}class YN extends Xv{path(t){const n=super.path(t),[{x:r,y:s}]=this.points;return t&&(t.lineTo(r,s),t.closePath()),n}constructor(...t){super(...t),this.type="polygon"}}class jN extends gn{createPattern(t,n,r){const s=this.getStyle("width").getPixels("x",!0),o=this.getStyle("height").getPixels("y",!0),l=new sl(this.document,null);l.attributes.viewBox=new Ht(this.document,"viewBox",this.getAttribute("viewBox").getValue()),l.attributes.width=new Ht(this.document,"width","".concat(s,"px")),l.attributes.height=new Ht(this.document,"height","".concat(o,"px")),l.attributes.transform=new Ht(this.document,"transform",this.getAttribute("patternTransform").getValue()),l.children=this.children;const c=this.document.createCanvas(s,o),u=c.getContext("2d"),h=this.getAttribute("x"),d=this.getAttribute("y");h.hasValue()&&d.hasValue()&&u.translate(h.getPixels("x",!0),d.getPixels("y",!0)),r.hasValue()?this.styles["fill-opacity"]=r:Reflect.deleteProperty(this.styles,"fill-opacity");for(let m=-1;m<=1;m++)for(let y=-1;y<=1;y++)u.save(),l.attributes.x=new Ht(this.document,"x",m*c.width),l.attributes.y=new Ht(this.document,"y",y*c.height),l.render(u),u.restore();return t.createPattern(c,"repeat")}constructor(...t){super(...t),this.type="pattern"}}class KN extends gn{render(t,n,r){if(!n)return;const{x:s,y:o}=n,l=this.getAttribute("orient").getString("auto"),c=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(s,o),l==="auto"&&t.rotate(r),c==="strokeWidth"&&t.scale(t.lineWidth,t.lineWidth),t.save();const u=new sl(this.document);u.type=this.type,u.attributes.viewBox=new Ht(this.document,"viewBox",this.getAttribute("viewBox").getValue()),u.attributes.refX=new Ht(this.document,"refX",this.getAttribute("refX").getValue()),u.attributes.refY=new Ht(this.document,"refY",this.getAttribute("refY").getValue()),u.attributes.width=new Ht(this.document,"width",this.getAttribute("markerWidth").getValue()),u.attributes.height=new Ht(this.document,"height",this.getAttribute("markerHeight").getValue()),u.attributes.overflow=new Ht(this.document,"overflow",this.getAttribute("overflow").getValue()),u.attributes.fill=new Ht(this.document,"fill",this.getAttribute("fill").getColor("black")),u.attributes.stroke=new Ht(this.document,"stroke",this.getAttribute("stroke").getValue("none")),u.children=this.children,u.render(t),t.restore(),c==="strokeWidth"&&t.scale(1/t.lineWidth,1/t.lineWidth),l==="auto"&&t.rotate(-r),t.translate(-s,-o)}constructor(...t){super(...t),this.type="marker"}}class ZN extends gn{render(){}constructor(...t){super(...t),this.type="defs"}}class _d extends eo{getBoundingBox(t){const n=new is;return this.children.forEach(r=>{n.addBoundingBox(r.getBoundingBox(t))}),n}constructor(...t){super(...t),this.type="g"}}class Yv extends gn{getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,n,r){let s=this;this.getHrefAttribute().hasValue()&&(s=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(s));const{stops:o}=s,l=this.getGradient(t,n);if(!l)return this.addParentOpacity(r,o[o.length-1].color);if(o.forEach(c=>{l.addColorStop(c.offset,this.addParentOpacity(r,c.color))}),this.getAttribute("gradientTransform").hasValue()){const{document:c}=this,{MAX_VIRTUAL_PIXELS:u}=Hs,{viewPort:h}=c.screen,d=h.getRoot(),p=new Gv(c);p.attributes.x=new Ht(c,"x",-u/3),p.attributes.y=new Ht(c,"y",-u/3),p.attributes.width=new Ht(c,"width",u),p.attributes.height=new Ht(c,"height",u);const m=new _d(c);m.attributes.transform=new Ht(c,"transform",this.getAttribute("gradientTransform").getValue()),m.children=[p];const y=new sl(c);y.attributes.x=new Ht(c,"x",0),y.attributes.y=new Ht(c,"y",0),y.attributes.width=new Ht(c,"width",d.width),y.attributes.height=new Ht(c,"height",d.height),y.children=[m];const x=c.createCanvas(d.width,d.height),C=x.getContext("2d");return C.fillStyle=l,y.render(C),C.createPattern(x,"no-repeat")}return l}inheritStopContainer(t){this.attributesToInherit.forEach(n=>{!this.getAttribute(n).hasValue()&&t.getAttribute(n).hasValue()&&this.getAttribute(n,!0).setValue(t.getAttribute(n).getValue())})}addParentOpacity(t,n){return t.hasValue()?new Ht(this.document,"color",n).addOpacity(t).getColor():n}constructor(t,n,r){super(t,n,r),this.attributesToInherit=["gradientUnits"],this.stops=[];const{stops:s,children:o}=this;o.forEach(l=>{l.type==="stop"&&s.push(l)})}}class QN extends Yv{getGradient(t,n){const r=this.getGradientUnits()==="objectBoundingBox",s=r?n.getBoundingBox(t):null;if(r&&!s)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));const o=r?s.x+s.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),l=r?s.y+s.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),c=r?s.x+s.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),u=r?s.y+s.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return o===c&&l===u?null:t.createLinearGradient(o,l,c,u)}constructor(t,n,r){super(t,n,r),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}}class JN extends Yv{getGradient(t,n){const r=this.getGradientUnits()==="objectBoundingBox",s=n.getBoundingBox(t);if(r&&!s)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");const o=r?s.x+s.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),l=r?s.y+s.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");let c=o,u=l;this.getAttribute("fx").hasValue()&&(c=r?s.x+s.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(u=r?s.y+s.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));const h=r?(s.width+s.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),d=this.getAttribute("fr").getPixels();return t.createRadialGradient(c,u,d,o,l,h)}constructor(t,n,r){super(t,n,r),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}}class t4 extends gn{constructor(t,n,r){super(t,n,r),this.type="stop";const s=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),o=this.getStyle("stop-opacity");let l=this.getStyle("stop-color",!0);l.getString()===""&&l.setValue("#000"),o.hasValue()&&(l=l.addOpacity(o)),this.offset=s,this.color=l.getColor()}}class Sd extends gn{getProperty(){const t=this.getAttribute("attributeType").getString(),n=this.getAttribute("attributeName").getString();return t==="CSS"?this.parent.getStyle(n,!0):this.parent.getAttribute(n,!0)}calcValue(){const{initialUnits:t}=this,{progress:n,from:r,to:s}=this.getProgress();let o=r.getNumber()+(s.getNumber()-r.getNumber())*n;return t==="%"&&(o*=100),"".concat(o).concat(t)}update(t){const{parent:n}=this,r=this.getProperty();if(this.initialValue||(this.initialValue=r.getString(),this.initialUnits=r.getUnits()),this.duration>this.maxDuration){const o=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(o==="freeze"&&!this.frozen)this.frozen=!0,n&&r&&(n.animationFrozen=!0,n.animationFrozenValue=r.getString());else if(o==="remove"&&!this.removed)return this.removed=!0,n&&r&&r.setValue(n.animationFrozen?n.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=t;let s=!1;if(this.begin<this.duration){let o=this.calcValue();const l=this.getAttribute("type");if(l.hasValue()){const c=l.getString();o="".concat(c,"(").concat(o,")")}r.setValue(o),s=!0}return s}getProgress(){const{document:t,values:n}=this;let r=(this.duration-this.begin)/(this.maxDuration-this.begin),s,o;if(n.hasValue()){const l=r*(n.getValue().length-1),c=Math.floor(l),u=Math.ceil(l);let h;h=n.getValue()[c],s=new Ht(t,"from",h?parseFloat(h):0),h=n.getValue()[u],o=new Ht(t,"to",h?parseFloat(h):0),r=(l-c)/(u-c)}else s=this.from,o=this.to;return{progress:r,from:s,to:o}}constructor(t,n,r){super(t,n,r),this.type="animate",this.duration=0,this.initialUnits="",this.removed=!1,this.frozen=!1,t.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Ht(t,"values",null);const s=this.getAttribute("values");s.hasValue()&&this.values.setValue(s.getString().split(";"))}}class e4 extends Sd{calcValue(){const{progress:t,from:n,to:r}=this.getProgress(),s=new Oh(n.getColor()),o=new Oh(r.getColor());if(s.ok&&o.ok){const l=s.r+(o.r-s.r)*t,c=s.g+(o.g-s.g)*t,u=s.b+(o.b-s.b)*t;return"rgb(".concat(Math.floor(l),", ").concat(Math.floor(c),", ").concat(Math.floor(u),")")}return this.getAttribute("from").getColor()}constructor(...t){super(...t),this.type="animateColor"}}class n4 extends Sd{calcValue(){const{progress:t,from:n,to:r}=this.getProgress(),s=Cr(n.getString()),o=Cr(r.getString());return s.map((c,u)=>{const h=o[u];return c+(h-c)*t}).join(" ")}constructor(...t){super(...t),this.type="animateTransform"}}class jv extends gn{constructor(t,n,r){super(t,n,r),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class Cd extends Be{constructor(t,n,r){super(t,n,r),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Kv extends Cd{constructor(...t){super(...t),this.type="missing-glyph",this.horizAdvX=0}}class r4 extends gn{render(){}constructor(t,n,r){super(t,n,r),this.type="font",this.isArabic=!1,this.glyphs={},this.arabicGlyphs={},this.isRTL=!1,this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();const{definitions:s}=t,{children:o}=this;for(const l of o)if(l instanceof jv){this.fontFace=l;const c=l.getStyle("font-family");c.hasValue()&&(s[c.getString()]=this)}else if(l instanceof Kv)this.missingGlyph=l;else if(l instanceof Cd)if(l.arabicForm){this.isRTL=!0,this.isArabic=!0;const c=this.arabicGlyphs[l.unicode];typeof c>"u"?this.arabicGlyphs[l.unicode]={[l.arabicForm]:l}:c[l.arabicForm]=l}else this.glyphs[l.unicode]=l}}class s4 extends mi{getText(){const t=this.getHrefAttribute().getDefinition();if(t){const n=t.children[0];if(n)return n.getText()}return""}constructor(...t){super(...t),this.type="tref"}}class i4 extends mi{getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);const{document:n,x:r,y:s}=this,{mouse:o}=n.screen,l=new Ht(n,"fontSize",Qn.parse(n.ctx.font).fontSize);o.isWorking()&&o.checkBoundingBox(this,new is(r,s-l.getPixels("y"),r+this.measureText(t),s))}else if(this.children.length>0){const n=new _d(this.document);n.children=this.children,n.parent=this,n.render(t)}}onClick(){const{window:t}=this.document;t&&t.open(this.getHrefAttribute().getString())}onMouseMove(){const t=this.document.ctx;t.canvas.style.cursor="pointer"}constructor(t,n,r){super(t,n,r),this.type="a";const{childNodes:s}=n,o=s[0],l=s.length>0&&Array.from(s).every(c=>c.nodeType===3);this.hasText=l,this.text=l?this.getTextFromNode(o):""}}class o4 extends mi{getText(){return this.text}path(t){const{dataArray:n}=this;t&&t.beginPath(),n.forEach(r=>{let{type:s,points:o}=r;switch(s){case ce.LINE_TO:t&&t.lineTo(o[0],o[1]);break;case ce.MOVE_TO:t&&t.moveTo(o[0],o[1]);break;case ce.CURVE_TO:t&&t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case ce.QUAD_TO:t&&t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case ce.ARC:{const[l,c,u,h,d,p,m,y]=o,x=u>h?u:h,C=u>h?1:u/h,S=u>h?h/u:1;t&&(t.translate(l,c),t.rotate(m),t.scale(C,S),t.arc(0,0,x,d,d+p,!!(1-y)),t.scale(1/C,1/S),t.rotate(-m),t.translate(-l,-c));break}case ce.CLOSE_PATH:t&&t.closePath();break}})}renderChildren(t){this.setTextData(t),t.save();const n=this.parent.getStyle("text-decoration").getString(),r=this.getFontSize(),{glyphInfo:s}=this,o=t.fillStyle;n==="underline"&&t.beginPath(),s.forEach((l,c)=>{const{p0:u,p1:h,rotation:d,text:p}=l;t.save(),t.translate(u.x,u.y),t.rotate(d),t.fillStyle&&t.fillText(p,0,0),t.strokeStyle&&t.strokeText(p,0,0),t.restore(),n==="underline"&&(c===0&&t.moveTo(u.x,u.y+r/8),t.lineTo(h.x,h.y+r/5))}),n==="underline"&&(t.lineWidth=r/20,t.strokeStyle=o,t.stroke(),t.closePath()),t.restore()}getLetterSpacingAt(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,n,r,s,o,l,c,u,h){let d=l,p=this.measureText(t,u);u===" "&&n==="justify"&&r<s&&(p+=(s-r)/o),h>-1&&(d+=this.getLetterSpacingAt(h));const m=this.textHeight/20,y=this.getEquidistantPointOnPath(d,m,0),x=this.getEquidistantPointOnPath(d+p,m,0),C={p0:y,p1:x},S=y&&x?Math.atan2(x.y-y.y,x.x-y.x):0;if(c){const M=Math.cos(Math.PI/2+S)*c,$=Math.cos(-S)*c;C.p0={...y,x:y.x+M,y:y.y+$},C.p1={...x,x:x.x+M,y:x.y+$}}return d+=p,{offset:d,segment:C,rotation:S}}measureText(t,n){const{measuresCache:r}=this,s=n||this.getText();if(r.has(s))return r.get(s);const o=this.measureTargetText(t,s);return r.set(s,o),o}setTextData(t){if(this.glyphInfo)return;const n=this.getText(),r=n.split(""),s=n.split(" ").length-1,o=this.parent.getAttribute("dx").split().map(I=>I.getPixels("x")),l=this.parent.getAttribute("dy").getPixels("y"),c=this.parent.getStyle("text-anchor").getString("start"),u=this.getStyle("letter-spacing"),h=this.parent.getStyle("letter-spacing");let d=0;!u.hasValue()||u.getValue()==="inherit"?d=h.getPixels():u.hasValue()&&u.getValue()!=="initial"&&u.getValue()!=="unset"&&(d=u.getPixels());const p=[],m=n.length;this.letterSpacingCache=p;for(let I=0;I<m;I++)p.push(typeof o[I]<"u"?o[I]:d);const y=p.reduce((I,D,q)=>q===0?0:I+D||0,0),x=this.measureText(t),C=Math.max(x+y,0);this.textWidth=x,this.textHeight=this.getFontSize(),this.glyphInfo=[];const S=this.getPathLength(),M=this.getStyle("startOffset").getNumber(0)*S;let $=0;(c==="middle"||c==="center")&&($=-C/2),(c==="end"||c==="right")&&($=-C),$+=M,r.forEach((I,D)=>{const{offset:q,segment:Q,rotation:W}=this.findSegmentToFitChar(t,c,C,S,s,$,l,I,D);$=q,!(!Q.p0||!Q.p1)&&this.glyphInfo.push({text:r[D],p0:Q.p0,p1:Q.p1,rotation:W})})}parsePathData(t){if(this.pathLength=-1,!t)return[];const n=[],{pathParser:r}=t;for(r.reset();!r.isEnd();){const{current:s}=r,o=s?s.x:0,l=s?s.y:0,c=r.next();let u=c.type,h=[];switch(c.type){case ce.MOVE_TO:this.pathM(r,h);break;case ce.LINE_TO:u=this.pathL(r,h);break;case ce.HORIZ_LINE_TO:u=this.pathH(r,h);break;case ce.VERT_LINE_TO:u=this.pathV(r,h);break;case ce.CURVE_TO:this.pathC(r,h);break;case ce.SMOOTH_CURVE_TO:u=this.pathS(r,h);break;case ce.QUAD_TO:this.pathQ(r,h);break;case ce.SMOOTH_QUAD_TO:u=this.pathT(r,h);break;case ce.ARC:h=this.pathA(r);break;case ce.CLOSE_PATH:Be.pathZ(r);break}c.type!==ce.CLOSE_PATH?n.push({type:u,points:h,start:{x:o,y:l},pathLength:this.calcLength(o,l,u,h)}):n.push({type:ce.CLOSE_PATH,points:[],pathLength:0})}return n}pathM(t,n){const{x:r,y:s}=Be.pathM(t).point;n.push(r,s)}pathL(t,n){const{x:r,y:s}=Be.pathL(t).point;return n.push(r,s),ce.LINE_TO}pathH(t,n){const{x:r,y:s}=Be.pathH(t).point;return n.push(r,s),ce.LINE_TO}pathV(t,n){const{x:r,y:s}=Be.pathV(t).point;return n.push(r,s),ce.LINE_TO}pathC(t,n){const{point:r,controlPoint:s,currentPoint:o}=Be.pathC(t);n.push(r.x,r.y,s.x,s.y,o.x,o.y)}pathS(t,n){const{point:r,controlPoint:s,currentPoint:o}=Be.pathS(t);return n.push(r.x,r.y,s.x,s.y,o.x,o.y),ce.CURVE_TO}pathQ(t,n){const{controlPoint:r,currentPoint:s}=Be.pathQ(t);n.push(r.x,r.y,s.x,s.y)}pathT(t,n){const{controlPoint:r,currentPoint:s}=Be.pathT(t);return n.push(r.x,r.y,s.x,s.y),ce.QUAD_TO}pathA(t){let{rX:n,rY:r,sweepFlag:s,xAxisRotation:o,centp:l,a1:c,ad:u}=Be.pathA(t);return s===0&&u>0&&(u-=2*Math.PI),s===1&&u<0&&(u+=2*Math.PI),[l.x,l.y,n,r,c,u,o,s]}calcLength(t,n,r,s){let o=0,l=null,c=null,u=0;switch(r){case ce.LINE_TO:return this.getLineLength(t,n,s[0],s[1]);case ce.CURVE_TO:for(o=0,l=this.getPointOnCubicBezier(0,t,n,s[0],s[1],s[2],s[3],s[4],s[5]),u=.01;u<=1;u+=.01)c=this.getPointOnCubicBezier(u,t,n,s[0],s[1],s[2],s[3],s[4],s[5]),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return o;case ce.QUAD_TO:for(o=0,l=this.getPointOnQuadraticBezier(0,t,n,s[0],s[1],s[2],s[3]),u=.01;u<=1;u+=.01)c=this.getPointOnQuadraticBezier(u,t,n,s[0],s[1],s[2],s[3]),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return o;case ce.ARC:{o=0;const h=s[4],d=s[5],p=s[4]+d;let m=Math.PI/180;if(Math.abs(h-p)<m&&(m=Math.abs(h-p)),l=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],h,0),d<0)for(u=h-m;u>p;u-=m)c=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],u,0),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;else for(u=h+m;u<p;u+=m)c=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],u,0),o+=this.getLineLength(l.x,l.y,c.x,c.y),l=c;return c=this.getPointOnEllipticalArc(s[0],s[1],s[2],s[3],p,0),o+=this.getLineLength(l.x,l.y,c.x,c.y),o}}return 0}getPointOnLine(t,n,r,s,o){let l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:n,c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:r;const u=(o-r)/(s-n+Po);let h=Math.sqrt(t*t/(1+u*u));s<n&&(h*=-1);let d=u*h,p=null;if(s===n)p={x:l,y:c+d};else if((c-r)/(l-n+Po)===u)p={x:l+h,y:c+d};else{let m=0,y=0;const x=this.getLineLength(n,r,s,o);if(x<Po)return null;let C=(l-n)*(s-n)+(c-r)*(o-r);C/=x*x,m=n+C*(s-n),y=r+C*(o-r);const S=this.getLineLength(l,c,m,y),M=Math.sqrt(t*t-S*S);h=Math.sqrt(M*M/(1+u*u)),s<n&&(h*=-1),d=u*h,p={x:m+h,y:y+d}}return p}getPointOnPath(t){const n=this.getPathLength();let r=0,s=null;if(t<-5e-5||t-5e-5>n)return null;const{dataArray:o}=this;for(const l of o){if(l&&(l.pathLength<5e-5||r+l.pathLength+5e-5<t)){r+=l.pathLength;continue}const c=t-r;let u=0;switch(l.type){case ce.LINE_TO:s=this.getPointOnLine(c,l.start.x,l.start.y,l.points[0],l.points[1],l.start.x,l.start.y);break;case ce.ARC:{const h=l.points[4],d=l.points[5],p=l.points[4]+d;if(u=h+c/l.pathLength*d,d<0&&u<p||d>=0&&u>p)break;s=this.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],u,l.points[6]);break}case ce.CURVE_TO:u=c/l.pathLength,u>1&&(u=1),s=this.getPointOnCubicBezier(u,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);break;case ce.QUAD_TO:u=c/l.pathLength,u>1&&(u=1),s=this.getPointOnQuadraticBezier(u,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3]);break}if(s)return s;break}return null}getLineLength(t,n,r,s){return Math.sqrt((r-t)*(r-t)+(s-n)*(s-n))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((t,n)=>n.pathLength>0?t+n.pathLength:t,0)),this.pathLength}getPointOnCubicBezier(t,n,r,s,o,l,c,u,h){const d=u*$y(t)+l*Uy(t)+s*Fy(t)+n*Vy(t),p=h*$y(t)+c*Uy(t)+o*Fy(t)+r*Vy(t);return{x:d,y:p}}getPointOnQuadraticBezier(t,n,r,s,o,l,c){const u=l*By(t)+s*Hy(t)+n*Wy(t),h=c*By(t)+o*Hy(t)+r*Wy(t);return{x:u,y:h}}getPointOnEllipticalArc(t,n,r,s,o,l){const c=Math.cos(l),u=Math.sin(l),h={x:r*Math.cos(o),y:s*Math.sin(o)};return{x:t+(h.x*c-h.y*u),y:n+(h.x*u+h.y*c)}}buildEquidistantCache(t,n){const r=this.getPathLength(),s=n||.25,o=t||r/100;if(!this.equidistantCache||this.equidistantCache.step!==o||this.equidistantCache.precision!==s){this.equidistantCache={step:o,precision:s,points:[]};let l=0;for(let c=0;c<=r;c+=s){const u=this.getPointOnPath(c),h=this.getPointOnPath(c+s);!u||!h||(l+=this.getLineLength(u.x,u.y,h.x,h.y),l>=o&&(this.equidistantCache.points.push({x:u.x,y:u.y,distance:c}),l-=o))}}}getEquidistantPointOnPath(t,n,r){if(this.buildEquidistantCache(n,r),t<0||t-this.getPathLength()>5e-5)return null;const s=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[s]||null}constructor(t,n,r){super(t,n,r),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);const s=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(s)}}const a4=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class l4 extends eo{async loadImage(t){try{const n=await this.document.createImage(t);this.image=n}catch(n){console.error('Error while loading image "'.concat(t,'":'),n)}this.loaded=!0}async loadSvg(t){const n=a4.exec(t);if(n){const r=n[5];r&&(n[4]==="base64"?this.image=atob(r):this.image=decodeURIComponent(r))}else try{const s=await(await this.document.fetch(t)).text();this.image=s}catch(r){console.error('Error while loading image "'.concat(t,'":'),r)}this.loaded=!0}renderChildren(t){const{document:n,image:r,loaded:s}=this,o=this.getAttribute("x").getPixels("x"),l=this.getAttribute("y").getPixels("y"),c=this.getStyle("width").getPixels("x"),u=this.getStyle("height").getPixels("y");if(!(!s||!r||!c||!u)){if(t.save(),t.translate(o,l),typeof r=="string"){const h=n.canvg.forkString(t,r,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:c,scaleHeight:u}),{documentElement:d}=h.document;d&&(d.parent=this),h.render()}else n.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:c,desiredWidth:r.width,height:u,desiredHeight:r.height}),this.loaded&&(!("complete"in r)||r.complete)&&t.drawImage(r,0,0);t.restore()}}getBoundingBox(){const t=this.getAttribute("x").getPixels("x"),n=this.getAttribute("y").getPixels("y"),r=this.getStyle("width").getPixels("x"),s=this.getStyle("height").getPixels("y");return new is(t,n,t+r,n+s)}constructor(t,n,r){super(t,n,r),this.type="image",this.loaded=!1;const s=this.getHrefAttribute().getString();if(!s)return;const o=s.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(s);t.images.push(this),o?this.loadSvg(s):this.loadImage(s)}}class c4 extends eo{render(t){}constructor(...t){super(...t),this.type="symbol"}}class u4{async load(t,n){try{const{document:r}=this,o=(await r.canvg.parser.load(n)).getElementsByTagName("font");Array.from(o).forEach(l=>{const c=r.createElement(l);r.definitions[t]=c})}catch(r){console.error('Error while loading font "'.concat(n,'":'),r)}this.loaded=!0}constructor(t){this.document=t,this.loaded=!1,t.fonts.push(this)}}class Zv extends gn{constructor(t,n,r){super(t,n,r),this.type="style",Ho(Array.from(n.childNodes).map(l=>l.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")).split("}").forEach(l=>{const c=l.trim();if(!c)return;const u=c.split("{"),h=u[0].split(","),d=u[1].split(";");h.forEach(p=>{const m=p.trim();if(!m)return;const y=t.styles[m]||{};if(d.forEach(x=>{const C=x.indexOf(":"),S=x.substr(0,C).trim(),M=x.substr(C+1,x.length-C).trim();S&&M&&(y[S]=new Ht(t,S,M))}),t.styles[m]=y,t.stylesSpecificity[m]=kN(m),m==="@font-face"){const x=y["font-family"].getString().replace(/"|'/g,"");y.src.getString().split(",").forEach(S=>{if(S.indexOf('format("svg")')>0){const M=Bv(S);M&&new u4(t).load(x,M)}})}})})}}Zv.parseExternalUrl=Bv;class f4 extends eo{setContext(t){super.setContext(t);const n=this.getAttribute("x"),r=this.getAttribute("y");n.hasValue()&&t.translate(n.getPixels("x"),0),r.hasValue()&&t.translate(0,r.getPixels("y"))}path(t){const{element:n}=this;n&&n.path(t)}renderChildren(t){const{document:n,element:r}=this;if(r){let s=r;if(r.type==="symbol"&&(s=new sl(n),s.attributes.viewBox=new Ht(n,"viewBox",r.getAttribute("viewBox").getString()),s.attributes.preserveAspectRatio=new Ht(n,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString()),s.attributes.overflow=new Ht(n,"overflow",r.getAttribute("overflow").getString()),s.children=r.children,r.styles.opacity=new Ht(n,"opacity",this.calculateOpacity())),s.type==="svg"){const l=this.getStyle("width",!1,!0),c=this.getStyle("height",!1,!0);l.hasValue()&&(s.attributes.width=new Ht(n,"width",l.getString())),c.hasValue()&&(s.attributes.height=new Ht(n,"height",c.getString()))}const o=s.parent;s.parent=this,s.render(t),s.parent=o}}getBoundingBox(t){const{element:n}=this;return n?n.getBoundingBox(t):null}elementTransform(){const{document:t,element:n}=this;return n?Ji.fromElement(t,n):null}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}constructor(...t){super(...t),this.type="use"}}function Ql(e,t,n,r,s,o){return e[n*r*4+t*4+o]}function Jl(e,t,n,r,s,o,l){e[n*r*4+t*4+o]=l}function wn(e,t,n){return e[t]*n}function Os(e,t,n,r){return t+Math.cos(e)*n+Math.sin(e)*r}class Qv extends gn{apply(t,n,r,s,o){const{includeOpacity:l,matrix:c}=this,u=t.getImageData(0,0,s,o);for(let h=0;h<o;h++)for(let d=0;d<s;d++){const p=Ql(u.data,d,h,s,o,0),m=Ql(u.data,d,h,s,o,1),y=Ql(u.data,d,h,s,o,2),x=Ql(u.data,d,h,s,o,3);let C=wn(c,0,p)+wn(c,1,m)+wn(c,2,y)+wn(c,3,x)+wn(c,4,1),S=wn(c,5,p)+wn(c,6,m)+wn(c,7,y)+wn(c,8,x)+wn(c,9,1),M=wn(c,10,p)+wn(c,11,m)+wn(c,12,y)+wn(c,13,x)+wn(c,14,1),$=wn(c,15,p)+wn(c,16,m)+wn(c,17,y)+wn(c,18,x)+wn(c,19,1);l&&(C=0,S=0,M=0,$*=x/255),Jl(u.data,d,h,s,o,0,C),Jl(u.data,d,h,s,o,1,S),Jl(u.data,d,h,s,o,2,M),Jl(u.data,d,h,s,o,3,$)}t.clearRect(0,0,s,o),t.putImageData(u,0,0)}constructor(t,n,r){super(t,n,r),this.type="feColorMatrix";let s=Cr(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{const o=s[0];s=[.213+.787*o,.715-.715*o,.072-.072*o,0,0,.213-.213*o,.715+.285*o,.072-.072*o,0,0,.213-.213*o,.715-.715*o,.072+.928*o,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{const o=s[0]*Math.PI/180;s=[Os(o,.213,.787,-.213),Os(o,.715,-.715,-.715),Os(o,.072,-.072,.928),0,0,Os(o,.213,-.213,.143),Os(o,.715,.285,.14),Os(o,.072,-.072,-.283),0,0,Os(o,.213,-.213,-.787),Os(o,.715,-.715,.715),Os(o,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=s,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}}class ou extends gn{apply(t,n){const{document:r}=this;let s=this.getAttribute("x").getPixels("x"),o=this.getAttribute("y").getPixels("y"),l=this.getStyle("width").getPixels("x"),c=this.getStyle("height").getPixels("y");if(!l&&!c){const y=new is;this.children.forEach(x=>{y.addBoundingBox(x.getBoundingBox(t))}),s=Math.floor(y.x1),o=Math.floor(y.y1),l=Math.floor(y.width),c=Math.floor(y.height)}const u=this.removeStyles(n,ou.ignoreStyles),h=r.createCanvas(s+l,o+c),d=h.getContext("2d");r.screen.setDefaults(d),this.renderChildren(d),new Qv(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(d,0,0,s+l,o+c);const p=r.createCanvas(s+l,o+c),m=p.getContext("2d");r.screen.setDefaults(m),n.render(m),m.globalCompositeOperation="destination-in",m.fillStyle=d.createPattern(h,"no-repeat"),m.fillRect(0,0,s+l,o+c),t.fillStyle=m.createPattern(p,"no-repeat"),t.fillRect(0,0,s+l,o+c),this.restoreStyles(n,u)}render(t){}constructor(...t){super(...t),this.type="mask"}}ou.ignoreStyles=["mask","transform","clip-path"];const qy=()=>{};class h4 extends gn{apply(t){const{document:n}=this,r=Reflect.getPrototypeOf(t),{beginPath:s,closePath:o}=t;r&&(r.beginPath=qy,r.closePath=qy),Reflect.apply(s,t,[]),this.children.forEach(l=>{if(!("path"in l))return;let c="elementTransform"in l?l.elementTransform():null;c||(c=Ji.fromElement(n,l)),c&&c.apply(t),l.path(t),r&&(r.closePath=o),c&&c.unapply(t)}),Reflect.apply(o,t,[]),t.clip(),r&&(r.beginPath=s,r.closePath=o)}render(t){}constructor(...t){super(...t),this.type="clipPath"}}class au extends gn{apply(t,n){const{document:r,children:s}=this,o="getBoundingBox"in n?n.getBoundingBox(t):null;if(!o)return;let l=0,c=0;s.forEach(M=>{const $=M.extraFilterDistance||0;l=Math.max(l,$),c=Math.max(c,$)});const u=Math.floor(o.width),h=Math.floor(o.height),d=u+2*l,p=h+2*c;if(d<1||p<1)return;const m=Math.floor(o.x),y=Math.floor(o.y),x=this.removeStyles(n,au.ignoreStyles),C=r.createCanvas(d,p),S=C.getContext("2d");r.screen.setDefaults(S),S.translate(-m+l,-y+c),n.render(S),s.forEach(M=>{typeof M.apply=="function"&&M.apply(S,0,0,d,p)}),t.drawImage(C,0,0,d,p,m-l,y-c,d,p),this.restoreStyles(n,x)}render(t){}constructor(...t){super(...t),this.type="filter"}}au.ignoreStyles=["filter","transform","clip-path"];class d4 extends gn{apply(t,n,r,s,o){}constructor(t,n,r){super(t,n,r),this.type="feDropShadow",this.addStylesFromStyleDefinition()}}class p4 extends gn{apply(t,n,r,s,o){}constructor(...t){super(...t),this.type="feMorphology"}}class g4 extends gn{apply(t,n,r,s,o){}constructor(...t){super(...t),this.type="feComposite"}}class m4 extends gn{apply(t,n,r,s,o){const{document:l,blurRadius:c}=this,u=l.window?l.window.document.body:null,h=t.canvas;h.id=l.getUniqueId(),u&&(h.style.display="none",u.appendChild(h)),dN(h,n,r,s,o,c),u&&u.removeChild(h)}constructor(t,n,r){super(t,n,r),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}}class y4 extends gn{constructor(...t){super(...t),this.type="title"}}class v4 extends gn{constructor(...t){super(...t),this.type="desc"}}const b4={svg:sl,rect:Gv,circle:qN,ellipse:GN,line:XN,polyline:Xv,polygon:YN,path:Be,pattern:jN,marker:KN,defs:ZN,linearGradient:QN,radialGradient:JN,stop:t4,animate:Sd,animateColor:e4,animateTransform:n4,font:r4,"font-face":jv,"missing-glyph":Kv,glyph:Cd,text:mi,tspan:iu,tref:s4,a:i4,textPath:o4,image:l4,g:_d,symbol:c4,style:Zv,use:f4,mask:ou,clipPath:h4,filter:au,feDropShadow:d4,feMorphology:p4,feComposite:g4,feColorMatrix:Qv,feGaussianBlur:m4,title:y4,desc:v4};function x4(e,t){const n=document.createElement("canvas");return n.width=e,n.height=t,n}async function w4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=document.createElement("img");return t&&(n.crossOrigin="Anonymous"),new Promise((r,s)=>{n.onload=()=>{r(n)},n.onerror=(o,l,c,u,h)=>{s(h)},n.src=e})}const Zf=12;class hi{bindCreateImage(t,n){return typeof n=="boolean"?(r,s)=>t(r,typeof s=="boolean"?s:n):t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){const{emSizeStack:t}=this;return t[t.length-1]||Zf}set emSize(t){const{emSizeStack:n}=this;n.push(t)}popEmSize(){const{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){const n=this.createElement(t.documentElement);return n.root=!0,n.addStylesFromStyleDefinition(),this.documentElement=n,n}createElement(t){const n=t.nodeName.replace(/^[^:]+:/,""),r=hi.elementTypes[n];return r?new r(this,t):new FN(this,t)}createTextNode(t){return new zN(this,t)}setViewBox(t){this.screen.setViewBox({document:this,...t})}constructor(t,{rootEmSize:n=Zf,emSize:r=Zf,createCanvas:s=hi.createCanvas,createImage:o=hi.createImage,anonymousCrossOrigin:l}={}){this.canvg=t,this.definitions={},this.styles={},this.stylesSpecificity={},this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=t.screen,this.rootEmSize=n,this.emSize=r,this.createCanvas=s,this.createImage=this.bindCreateImage(o,l),this.screen.wait(()=>this.isImagesLoaded()),this.screen.wait(()=>this.isFontsLoaded())}}hi.createCanvas=x4;hi.createImage=w4;hi.elementTypes=b4;class Ao{static async from(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=await new Kf(r).parse(n);return new Ao(t,o,r)}static fromString(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=new Kf(r).parseFromString(n);return new Ao(t,o,r)}fork(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ao.from(t,n,{...this.options,...r})}forkString(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ao.fromString(t,n,{...this.options,...r})}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}async render(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.start({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0,...t}),await this.ready(),this.stop()}start(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{documentElement:n,screen:r,options:s}=this;r.start(n,{enableRedraw:!0,...s,...t})}stop(){this.screen.stop()}resize(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(t,n,r)}constructor(t,n,r={}){this.parser=new Kf(r),this.screen=new Hs(t,r),this.options=r;const s=new hi(this,r),o=s.createDocumentElement(n);this.document=s,this.documentElement=o}}const _4=async(e,t,n)=>{if(!e||!e.value)return;const r=e.value.querySelector("svg");if(!r)return;const{width:s,height:o}=r.getBoundingClientRect(),l=await S4(s,o),c=await C4(r,s,o);if(!c){console.error("14. SVG 이미지를 캡처할 수 없습니다.");return}const u=await A4(l,c,s,o);await k4(u,t,n)},S4=async(e,t)=>{const n=document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,r.fillStyle="#f0f0f0",r.fillRect(0,0,e,t),n.toDataURL("image/png")},C4=async(e,t,n)=>{if(!e)return null;const r=e.querySelectorAll("image");for(const c of r){c.getAttribute("href");const u=await E4();c.setAttribute("href",u)}const s=document.createElement("canvas"),o=s.getContext("2d");return s.width=t,s.height=n,await(await Ao.from(o,e.outerHTML)).render(),s.toDataURL("image/png")},E4=async e=>{try{return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/wcAAgAB/ej/fh8AAAAASUVORK5CYII="}catch{return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/wcAAgAB/ej/fh8AAAAASUVORK5CYII="}},A4=async(e,t,n,r)=>{const s=document.createElement("canvas"),o=s.getContext("2d");s.width=n,s.height=r;const l=await Gy(e);o.drawImage(l,0,0,n,r);const c=await Gy(t);return o.drawImage(c,0,0,n,r),s.toDataURL("image/png")},Gy=e=>new Promise((t,n)=>{const r=new Image;r.crossOrigin="anonymous",r.onload=()=>{t(r)},r.onerror=s=>{n(s)},r.src=e}),T4=e=>{const[t,n]=e.split(","),r=t.match(/:(.*?);/)[1],s=atob(n),o=s.length,l=new Uint8Array(o);for(let c=0;c<o;c++)l[c]=s.charCodeAt(c);return new Blob([l],{type:r})},k4=async(e,t,n)=>{const r=new FormData,s=T4(e);r.append("image",s,"comb_img.png"),r.append("roomId",t);try{const o=await ms.post(`${n}/api/rooms/capture`,r,{headers:{"Content-Type":"multipart/form-data"}})}catch(o){console.error("23. 이미지 업로드 실패:",o)}},tc=void 0;function M4(){const e=Er(),t=Br(),n=kt(t.params.roomId),r=kt([]),s=kt(""),o=kt([]),l=kt([]),c="@assets/gagunokugaLogo.png",u=se(()=>e.state.nickname),h=se(()=>r.value.some(S=>S.nickname===u.value&&S.isHost)),d=async()=>{try{const S=e.state.token,M=await Dt.get(`${tc}/api/rooms/${n.value}/users`,{headers:{Authorization:`Bearer ${S}`}});r.value=M.data.users}catch(S){console.error("사용자 목록 불러오기 실패:",S)}};return{users:r,searchQuery:s,searchResults:o,searchUsers:async()=>{if(!s.value.trim()){o.value=[];return}try{const S=e.state.token,M=await Dt.get(`${tc}/api/users/list`,{params:{keyword:s.value},headers:{Authorization:`Bearer ${S}`}});o.value=M.data.users}catch(S){console.error("사용자 검색 실패:",S)}},selectedUsers:l,selectUser:S=>{l.value.some(M=>M.nickname===S.nickname)||l.value.push(S)},removeSelectedUser:S=>{l.value=l.value.filter(M=>M.nickname!==S.nickname)},inviteUsers:async()=>{try{const S=e.state.token;await Promise.all(l.value.map(M=>Dt.post(`${tc}/api/rooms/${n.value}/users`,{nickname:M.nickname},{headers:{Authorization:`Bearer ${S}`}}))),l.value=[],d()}catch(S){console.error("사용자 초대 실패:",S)}},fetchUsers:d,kickUser:async S=>{try{const M=e.state.token;await Dt.delete(`${tc}/api/rooms/${n.value}/users`,{data:{nickname:S},headers:{Authorization:`Bearer ${M}`}}),d()}catch(M){console.error("사용자 강퇴 실패:",M)}},defaultProfileImage:c,isHost:h}}const R4={class:"modal-content"},P4={class:"modal-body"},O4={class:"user-status"},I4={class:"search-container"},L4=["disabled"],N4={key:0,class:"search-results"},D4=["onClick"],$4=["src"],U4={key:0,class:"selected-users"},F4=["onClick"],V4={key:1,class:"error-message"},B4={class:"modal-footer"},H4=["disabled"],W4={class:"user-list-container"},z4={class:"user-list-scroll"},q4={key:0},G4=["src"],X4={class:"user-info"},Y4={class:"nickname"},j4={key:0},K4=["onClick"],Z4={key:1},Xy=10,Q4={__name:"UserShareModal",props:["isOpen"],emits:["close"],setup(e,{emit:t}){const n=t,{users:r,defaultProfileImage:s,isHost:o,kickUser:l,fetchUsers:c,searchQuery:u,searchResults:h,searchUsers:d,selectedUsers:p,selectUser:m,removeSelectedUser:y,inviteUsers:x}=M4(),C=()=>n("close"),S=se(()=>r.value.length),M=se(()=>Xy-S.value),$=kt(""),I=()=>{if(M.value<=0){$.value="현재 초대 가능한 인원이 없습니다.";return}if(p.value.length>M.value){$.value=`현재 초대 가능한 인원은 ${M.value}명입니다.`;return}$.value="",x(),u.value=""},D=q=>{if(r.value.some(Q=>Q.nickname===q.nickname)){$.value="이미 초대된 사용자입니다.";return}if(p.value.length>=M.value){$.value=`현재 초대 가능한 인원은 ${M.value}명입니다.`;return}m(q),$.value=""};return c(),(q,Q)=>e.isOpen?(mt(),bt("div",{key:0,class:"modal-overlay",onClick:wr(C,["self"])},[b("div",R4,[b("div",{class:"modal-header"},[Q[2]||(Q[2]=b("h2",null,"사용자 초대",-1)),b("button",{onClick:C},"×")]),b("div",P4,[b("div",O4,[b("p",null,"현재 사용자: "+ae(S.value)+"명 / 최대 "+ae(Xy)+"명",1),b("p",null,"남은 초대 가능 인원: "+ae(M.value)+"명",1)]),b("div",I4,[He(b("input",{"onUpdate:modelValue":Q[0]||(Q[0]=W=>pn(u)?u.value=W:null),onInput:Q[1]||(Q[1]=(...W)=>F(d)&&F(d)(...W)),placeholder:"닉네임 검색",class:"search-input",disabled:!F(o)},null,40,L4),[[Qe,F(u)]]),F(o)&&F(u).trim()&&F(h).length>0?(mt(),bt("ul",N4,[(mt(!0),bt(Ge,null,Zr(F(h),W=>(mt(),bt("li",{key:W.nickname,onClick:vt=>D(W),class:"search-item"},[b("img",{src:W.profileImageUrl||F(s),class:"profile-img",alt:"프로필 이미지"},null,8,$4),b("span",null,ae(W.nickname),1)],8,D4))),128))])):re("",!0)]),F(p).length>0?(mt(),bt("div",U4,[Q[3]||(Q[3]=b("h3",null,"선택된 사용자",-1)),b("ul",null,[(mt(!0),bt(Ge,null,Zr(F(p),W=>(mt(),bt("li",{key:W.nickname,class:"selected-user"},[b("span",null,ae(W.nickname),1),b("button",{onClick:vt=>F(y)(W),class:"remove-btn"},"×",8,F4)]))),128))])])):re("",!0),$.value?(mt(),bt("p",V4,ae($.value),1)):re("",!0),b("div",B4,[b("button",{onClick:I,class:"invite-btn",disabled:!F(o)||F(p).length===0}," 초대 ",8,H4)]),b("div",W4,[Q[4]||(Q[4]=b("h3",null,"프로젝트 내 사용자",-1)),b("div",z4,[F(r).length>0?(mt(),bt("ul",q4,[(mt(!0),bt(Ge,null,Zr(F(r),W=>(mt(),bt("li",{key:W.nickname,class:"user-item"},[b("img",{src:W.profileImageUrl||F(s),alt:"프로필 이미지",class:"profile-img"},null,8,G4),b("div",X4,[b("span",Y4,[Dn(ae(W.nickname)+" ",1),W.isHost?(mt(),bt("span",j4,"(방장)")):re("",!0)])]),F(o)&&!W.isHost?(mt(),bt("button",{key:0,onClick:vt=>F(l)(W.nickname),class:"kick-btn"}," 내보내기 ",8,K4)):re("",!0)]))),128))])):(mt(),bt("p",Z4,"초대된 사용자가 없습니다."))])])])])])):re("",!0)}},J4=nn(Q4,[["__scopeId","data-v-4a98b4c7"]]),tD={__name:"UserShareTrigger",setup(e){const t=kt(!1);return(n,r)=>(mt(),bt(Ge,null,[b("div",{class:"chat-toggle",onClick:r[0]||(r[0]=s=>t.value=!t.value)},r[2]||(r[2]=[Qh('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="chat-icon" data-v-a0ec0a8e><path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" fill="currentColor" data-v-a0ec0a8e></path><path d="M12 13C8.13401 13 5 15.134 5 18V19C5 19.5523 5.44772 20 6 20H18C18.5523 20 19 19.5523 19 19V18C19 15.134 15.866 13 12 13Z" fill="currentColor" data-v-a0ec0a8e></path><circle cx="19" cy="5" r="3" fill="#E53E3E" data-v-a0ec0a8e></circle><path d="M19 3.5V6.5M17.5 5H20.5" stroke="white" stroke-width="1.5" stroke-linecap="round" data-v-a0ec0a8e></path></svg>',1)])),Ce(J4,{isOpen:t.value,title:"사용자 초대",onClose:r[1]||(r[1]=s=>t.value=!1)},null,8,["isOpen"])],64))}},eD=nn(tD,[["__scopeId","data-v-a0ec0a8e"]]),nD={class:"editor"},rD={__name:"FurnitureEditor",setup(e){const t=su(),n=kt(null),r=Br();rs();const s=void 0;Bo();const o=c=>{c.preventDefault(),t.dropFurniture(c)};Hn(async()=>{await t.initializeWebSocket(r.params.roomId),await t.initializeCanvas(n.value),await t.fetchWalls(),window.addEventListener("keydown",t.handleKeyDown)}),jh(()=>{t.unsubscribeFromRoom()});const l=async()=>{await _4(n,r.params.roomId,s)};return(c,u)=>{const h=to("router-link");return mt(),bt("div",nD,[Ce(pL),b("div",{class:"canvas",ref_key:"canvas",ref:n,onMousedown:u[0]||(u[0]=d=>F(t).executeToolEvent("onMouseDown",d)),onMousemove:u[1]||(u[1]=d=>F(t).executeToolEvent("onMouseMove",d)),onMouseup:u[2]||(u[2]=d=>F(t).executeToolEvent("onMouseUp",d)),onClick:u[3]||(u[3]=d=>F(t).executeToolEvent("onClick",d)),onDrop:o,onDragover:u[4]||(u[4]=d=>d.preventDefault())},null,544),Ce(VL),Ce(QL),Ce(h,{to:"/room",class:"capture",onClick:l},{default:jr(()=>u[5]||(u[5]=[Dn(" 마이 홈으로 "),b("svg",{viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor","stroke-width":"2",fill:"none"},[b("path",{d:"M9 6l6 6-6 6",transform:"translate(3, 6)"})],-1)])),_:1}),Ce(eD)])}}},Jv=nn(rD,[["__scopeId","data-v-62448813"]]),sD={__name:"NoRoomAccess",setup(e){const t=rs(),n=()=>{t.push("/")};return(r,s)=>(mt(),bt(Ge,null,[Ce(K1),b("div",{class:"no-room-container"},[s[0]||(s[0]=b("div",{class:"message"},[Dn(" 존재하지 않거나 초대받지 않은 방입니다. "),b("p",null,"다시 시도하거나 홈으로 돌아가세요.")],-1)),b("div",{class:"button-container"},[b("button",{onClick:n,class:"home-button"},"홈으로 돌아가기")])])],64))}},iD=nn(sD,[["__scopeId","data-v-45585b27"]]),oD={__name:"Editor",setup(e){const t=Br(),n=Er(),r=Bo();return Hn(async()=>{await n.fetchUserInfo(),await r.initEditor(t.params.roomId),await r.getRole(n.state.nickname),r.changeEditorMode()}),(s,o)=>(mt(),bt(Ge,null,[F(r).editorMode==="floor"?(mt(),Fs(Lv,{key:0})):re("",!0),F(r).editorMode==="furniture"?(mt(),Fs(Jv,{key:1})):re("",!0),F(r).editorMode==="none"?(mt(),Fs(iD,{key:2})):re("",!0)],64))}},aD={__name:"OAuthSuccess",setup(e){const t=Er(),n=Br(),r=rs(),s=kt(!0);return Hn(async()=>{try{const o=n.query.accessToken,l=n.query.refreshToken;o&&l?(await t.handleLoginSuccess({accessToken:o,refreshToken:l}),r.push("/")):(console.error("No tokens received"),r.push("/login"))}catch(o){console.error("Login process failed:",o),r.push("/login")}finally{s.value=!1}}),()=>{}}},lD=void 0,cD={data(){return{password:"",error:""}},methods:{async checkPassword(){try{await Dt.post(`${lD}/api/users/pwd`,{password:this.password}),this.$router.push("/mypage")}catch{this.error="비밀번호가 틀렸습니다."}}}},uD={class:"container"},fD={class:"box"},hD={class:"input-wrapper"},dD={key:0,class:"error"};function pD(e,t,n,r,s,o){return mt(),bt("div",uD,[b("div",fD,[t[4]||(t[4]=Qh('<div class="icon-wrapper" data-v-4765dda1><div class="icon-circle" data-v-4765dda1><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-4765dda1><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" data-v-4765dda1></path><circle cx="12" cy="7" r="4" data-v-4765dda1></circle></svg></div></div><h2 data-v-4765dda1>마이페이지</h2><p class="subtitle" data-v-4765dda1>개인정보 보호를 위해 비밀번호를 한번 더 입력해주세요</p>',3)),b("div",hD,[t[3]||(t[3]=b("svg",{class:"input-icon",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[b("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),b("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})],-1)),He(b("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.password=l),type:"password",placeholder:"비밀번호를 입력하세요",class:"input-box",onKeyup:t[1]||(t[1]=ja((...l)=>o.checkPassword&&o.checkPassword(...l),["enter"]))},null,544),[[Qe,s.password]])]),b("button",{onClick:t[2]||(t[2]=(...l)=>o.checkPassword&&o.checkPassword(...l)),class:"btn"},"확인"),s.error?(mt(),bt("p",dD,ae(s.error),1)):re("",!0),t[5]||(t[5]=b("a",{href:"#",class:"forgot-password"},"비밀번호를 잊으셨나요?",-1))])])}const gD=nn(cD,[["render",pD],["__scopeId","data-v-4765dda1"]]),ec=void 0,ba=es("userStore",()=>{const e=tr({user:null,isLoading:!1,error:null}),t=async()=>{e.isLoading=!0;try{const o=await Dt.get(`${ec}/api/users`);return e.user=o.data,o.data}catch(o){e.error="사용자 정보 로딩 실패",console.error(o)}finally{e.isLoading=!1}};return{state:e,getUserInfo:t,checkNicknameAvailability:async o=>{try{return!(await Dt.get(`${ec}/api/users/nickname`,{params:{nickname:o}})).data.existing}catch{throw new Error("닉네임 중복 확인 실패")}},updateUserInfo:async o=>{e.isLoading=!0;try{if(Object.keys(o).length===0)throw new Error("수정할 내용이 없습니다.");await Dt.put(`${ec}/api/users`,o),await t()}catch(l){e.error="사용자 정보 수정 실패",console.error(l)}finally{e.isLoading=!1}},updateProfileImage:async o=>{e.isLoading=!0;try{const l=new FormData;l.append("profileImage",o);const c=await Dt.put(`${ec}/api/users/profile-image`,l,{headers:{...getHeaders(),"Content-Type":"multipart/form-data"}});return await t(),c.data}catch(l){throw e.error="프로필 이미지 수정 실패",console.error(l),l}finally{e.isLoading=!1}}}}),mD={class:"my-page"},yD={class:"content-wrapper"},vD={class:"profile-changer"},bD={class:"user-info"},xD=["src"],wD={class:"blue-btn",style:{cursor:"pointer"}},_D={class:"mypage-info"},SD={__name:"Mypage",setup(e){const t=Er();ba();const n=se(()=>t.state.profileImage||"@/assets/gagunokugaLogo.png");rs();const r=void 0,s=async o=>{const l=o.target.files[0];if(!l)return;if(!l.type.startsWith("image/")){alert("이미지 파일만 업로드 가능합니다.");return}const c=5*1024*1024;if(l.size>c){alert("파일 크기는 5MB 이하여야 합니다.");return}const u=new FormData;u.append("profileImage",l);try{await Dt.put(`${r}/api/users/profile-image`,u,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${t.state.token}`}}),await t.fetchUserInfo(),alert("프로필 이미지가 성공적으로 수정되었습니다.")}catch(h){console.error("프로필 이미지 수정 오류",h),alert("프로필 이미지 수정에 실패했습니다.")}o.target.value=""};return(o,l)=>{const c=to("router-view");return mt(),bt("div",mD,[b("div",yD,[b("div",vD,[b("div",bD,[b("img",{src:n.value,alt:"Profile Image",class:"profile-image"},null,8,xD)]),b("label",wD,[b("input",{type:"file",onChange:s,accept:"image/*",style:{display:"none"}},null,32),l[0]||(l[0]=b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"btn-icon"},[b("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),b("circle",{cx:"12",cy:"13",r:"4"})],-1)),l[1]||(l[1]=Dn(" 프로필 수정 "))])]),b("div",_D,[Ce(c)])])])}}},CD=nn(SD,[["__scopeId","data-v-37bcbfd1"]]),da=void 0,Ed=es("articleStore",()=>{const e=kt([]),t=async()=>{try{const c=await Dt.get(`${da}/api/articles`);return e.value=c.data,e.value}catch(c){console.error(c)}},n=kt({});return{articleList:e,getArticleList:t,getArticle:async c=>{try{const u=await Dt.get(`${da}/api/articles/${c}`);return n.value=u.data,n.value}catch(u){console.error(u)}},article:n,createArticle:async c=>{try{const u=await Dt.post(`${da}/api/articles`,c,{headers:{"Content-Type":"multipart/form-data"}});return Oo.replace(`/article/${u.data.id}`),n.value=u.data,n.value}catch(u){console.error(u)}},updateArticle:async(c,u)=>{try{const h=await Dt.put(`${da}/api/articles/${c}`,u,{headers:{"Content-Type":"multipart/form-data"}});return alert("게시글이 수정되었습니다."),Oo.replace(`/article/${h.data.id}`),n.value=h.data,n.value}catch(h){console.error(h)}},deleteArticle:async c=>{try{await Dt.delete(`${da}/api/articles/${c}`),alert("게시글이 삭제되었습니다."),Oo.replace("/")}catch(u){console.error(u)}}}}),ED={class:"container"},AD={class:"grid-container"},TD={class:"image-container"},kD=["src"],MD={class:"card-content"},RD={class:"card-title"},PD={class:"author-info"},OD=["src"],ID={class:"author-name"},LD={__name:"ArticleList",setup(e){const t=Ed();Hn(()=>{t.getArticleList()});const n=()=>{localStorage.getItem("accessToken")?Oo.push("/article/create"):Oo.push("/login")};return(r,s)=>{const o=to("router-link");return mt(),bt("div",ED,[b("div",{class:"create-button",onClick:n},"✒️"),b("div",AD,[(mt(!0),bt(Ge,null,Zr(F(t).articleList.articles,l=>(mt(),bt("div",{key:l.id,class:"card"},[Ce(o,{to:"/article/"+l.id,class:"card-link"},{default:jr(()=>{var c;return[b("div",TD,[b("img",{src:(c=l.articleImages[0])==null?void 0:c.imageUrl,alt:"article_thumbnail",class:"thumbnail"},null,8,kD)]),b("div",MD,[b("h3",RD,ae(l.title),1),b("div",PD,[b("img",{src:l.profileImageUrl,alt:"profile_image",class:"profile-image"},null,8,OD),b("span",ID,ae(l.nickname),1)])])]}),_:2},1032,["to"])]))),128))])])}}},ND=nn(LD,[["__scopeId","data-v-10a1f54c"]]),Qf=void 0,DD=es("commentStore",()=>{const e=kt([]);return{comments:e,fetchComments:async s=>{try{const o=await Dt.get(`${Qf}/api/articles/${s}/comments`);e.value=[...o.data.comments]}catch(o){console.error("❌ 댓글을 불러오는 중 오류 발생:",o)}},createComment:async(s,o)=>{try{const l=localStorage.getItem("accessToken"),c=await Dt.post(`${Qf}/api/articles/${s}/comments`,{content:o},{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});e.value.push({id:c.data.id,content:c.data.content,createdAt:c.data.createdAt,nickname:c.data.nickname,profileImageUrl:c.data.profileImageUrl})}catch(l){throw console.error(" 댓글 작성 중 오류 발생:",l),l}},deleteComment:async(s,o)=>{try{const l=localStorage.getItem("accessToken");await Dt.delete(`${Qf}/api/articles/${s}/comments/${o}`,{headers:{Authorization:`Bearer ${l}`}}),e.value=e.value.filter(c=>c.id!==o)}catch(l){console.error(" 댓글 삭제 중 오류 발생:",l)}}}}),$D={class:"comment-container"},UD={key:0,class:"comment-form"},FD=["disabled"],VD={key:1},BD={class:"comment-header"},HD=["src"],WD={class:"comment-author"},zD={class:"comment-content"},qD={class:"comment-meta"},GD={class:"comment-date"},XD=["onClick"],YD={key:2},jD={__name:"Comment",props:["articleId"],setup(e){const t=e,n=DD(),r=Er(),s=kt(""),o=se(()=>n.comments??[]);Hn(()=>{r.fetchUserInfo(),n.fetchComments(t.articleId)});const l=se(()=>({nickname:r.state.nickname})),c=se(()=>!!r.state.token),u=async()=>{if(s.value.trim())try{await n.createComment(t.articleId,s.value),s.value=""}catch{alert("댓글 작성에 실패했습니다.")}},h=async p=>{if(confirm("정말 삭제하시겠습니까?"))try{await n.deleteComment(t.articleId,p)}catch(m){console.error("❌ 댓글 삭제 실패:",m),alert("댓글 삭제에 실패했습니다.")}},d=p=>{if(!p)return"날짜 없음";const m=new Date,y=new Date(p),x=m-y,C=Math.floor(x/1e3/60),S=Math.floor(C/60),M=Math.floor(S/24);return C<1?"방금 전":C<60?`${C}분 전`:S<24?`${S}시간 전`:`${M}일 전`};return(p,m)=>{var y,x;return mt(),bt("div",$D,[b("h3",null,"댓글 "+ae(((y=o.value)==null?void 0:y.length)||0)+"개",1),c.value?(mt(),bt("div",UD,[He(b("input",{"onUpdate:modelValue":m[0]||(m[0]=C=>s.value=C),placeholder:"댓글을 입력해주세요:)",onKeyup:ja(u,["enter"])},null,544),[[Qe,s.value]]),b("button",{disabled:!s.value.trim(),class:or({active:s.value.trim()}),onClick:u}," 입력 ",10,FD)])):re("",!0),((x=o.value)==null?void 0:x.length)>0?(mt(),bt("div",VD,[(mt(!0),bt(Ge,null,Zr(o.value,C=>(mt(),bt("div",{key:C.id,class:"comment"},[b("div",BD,[b("img",{src:C.profileImageUrl,class:"comment-profile-image",alt:"프로필 이미지"},null,8,HD),b("span",WD,ae(C.nickname),1)]),b("p",zD,ae(C.content),1),b("div",qD,[b("span",GD,ae(d(C.createdAt)),1),C.nickname===l.value.nickname?(mt(),bt("button",{key:0,onClick:S=>h(C.id),class:"delete-button"},"삭제",8,XD)):re("",!0)])]))),128))])):(mt(),bt("div",YD,m[1]||(m[1]=[b("p",null,"아직 댓글이 없습니다.",-1)])))])}}},KD=nn(jD,[["__scopeId","data-v-e40b117f"]]),ZD={class:"article-detail-container"},QD={class:"article-header"},JD={key:0,class:"article-options"},t5={key:0,class:"menu-dropdown"},e5={class:"article-title"},n5={class:"author-section"},r5={class:"author-info"},s5=["src"],i5={class:"author-details"},o5={class:"author-name"},a5={class:"image-gallery"},l5=["src"],c5={class:"article-content"},u5={class:"article-meta"},f5={__name:"ArticleDetail",setup(e){const t=Br(),n=rs(),r=Ed(),s=Er(),o=kt(!1),l=se(()=>s.state.nickname),c=se(()=>r.article.nickname===l.value),u=se(()=>{if(!r.article.createdAt)return"";const m=new Date(r.article.createdAt);return`${m.getFullYear()}.${(m.getMonth()+1).toString().padStart(2,"0")}.${m.getDate().toString().padStart(2,"0")}`}),h=()=>{o.value=!o.value},d=()=>{n.push(`/article/${t.params.articleId}/edit`)},p=async()=>{confirm("정말 삭제하시겠습니까?")&&await r.deleteArticle(t.params.articleId)};return Hn(()=>{r.getArticle(t.params.articleId)}),(m,y)=>(mt(),bt("div",ZD,[b("div",QD,[c.value?(mt(),bt("div",JD,[b("div",{onClick:h,class:"menu-button"},y[0]||(y[0]=[b("svg",{viewBox:"0 0 15 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[b("circle",{cx:"12",cy:"6",r:"5",fill:"currentColor"}),b("circle",{cx:"12",cy:"20",r:"5",fill:"currentColor"}),b("circle",{cx:"12",cy:"34",r:"5",fill:"currentColor"})],-1)])),o.value?(mt(),bt("div",t5,[b("button",{onClick:d,class:"menu-item"},"수정하기"),b("button",{onClick:p,class:"menu-item delete-button"},"삭제하기")])):re("",!0)])):re("",!0),b("h1",e5,ae(F(r).article.title),1)]),b("div",n5,[b("div",r5,[b("img",{src:F(r).article.profileImageUrl,class:"author-image",alt:"profile_image"},null,8,s5),b("div",i5,[b("span",o5,ae(F(r).article.nickname),1)])])]),b("div",a5,[(mt(!0),bt(Ge,null,Zr(F(r).article.articleImages,(x,C)=>(mt(),bt("img",{key:C,src:x.imageUrl,class:"article-image",alt:"Article image"},null,8,l5))),128))]),b("div",c5,ae(F(r).article.content),1),b("div",u5,[b("span",null,ae(u.value),1)]),Ce(KD,{articleId:F(t).params.articleId},null,8,["articleId"])]))}},h5=nn(f5,[["__scopeId","data-v-04344b3f"]]),d5={class:"container"},p5={class:"input-box"},g5={class:"char-count"},m5={key:0,class:"error-text"},y5={key:0},v5={key:1,class:"image-preview"},b5=["src","onClick"],x5=["onClick"],w5={class:"input-box"},_5={class:"char-count"},S5={class:"button-group"},C5=["disabled"],E5={__name:"ArticleCreate",setup(e){const t=Ed(),n=Er(),r=Br(),s=se(()=>!!r.params.articleId),o=kt(""),l=kt(""),c=kt(null),u=kt([]),h=kt(!1),d=kt([]),p=kt(null),m=()=>{c.value.click()};gs(o,I=>{h.value=I.trim()===""});const y=se(()=>{if(!p.value)return!1;const I=o.value.trim()!==p.value.title.trim(),D=l.value.trim()!==p.value.content.trim(),q=u.value.length!==p.value.images.length||u.value.some((Q,W)=>{var vt;return Q.url!==((vt=p.value.images[W])==null?void 0:vt.url)})||d.value.length>0;return I||D||q}),x=se(()=>o.value.trim().length>0&&u.value.length>0&&(!s.value||y.value));Hn(async()=>{s.value&&(await t.getArticle(r.params.articleId),o.value=t.article.title,l.value=t.article.content,u.value=t.article.articleImages.map(I=>({file:null,url:I.imageUrl})),p.value={title:t.article.title,content:t.article.content,images:[...u.value]})});const C=I=>{const D=Array.from(I.target.files);if(u.value.length+D.length>5){alert("최대 5장까지 업로드할 수 있습니다.");return}D.forEach(q=>{const Q=new FileReader;Q.onload=W=>{u.value.push({file:q,url:W.target.result})},Q.readAsDataURL(q)})},S=I=>{I.preventDefault();const D=Array.from(I.dataTransfer.files);if(u.value.length+D.length>5){alert("최대 5장까지 업로드할 수 있습니다.");return}D.forEach(q=>{const Q=new FileReader;Q.onload=W=>{u.value.push({file:q,url:W.target.result})},Q.readAsDataURL(q)})},M=I=>{const D=u.value[I];if(s.value&&D.file===null){const q=t.article.articleImages.find(Q=>Q.imageUrl===D.url);q&&d.value.push(q.id)}u.value.splice(I,1)},$=async()=>{const I=new FormData;l.value.trim()===""&&(l.value="");const D={title:o.value,content:l.value,nickname:n.state.nickname};I.append("articleData",new Blob([JSON.stringify(D)],{type:"application/json"})),u.value.forEach(q=>{q.file&&I.append("images",q.file)}),s.value?(I.append("deleteList",new Blob([JSON.stringify(d.value)],{type:"application/json"})),await t.updateArticle(r.params.articleId,I)):await t.createArticle(I)};return(I,D)=>(mt(),bt("div",d5,[b("div",p5,[He(b("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=q=>o.value=q),maxlength:"100",placeholder:"제목을 입력해주세요."},null,512),[[Qe,o.value]]),b("p",g5,ae(o.value.length)+" / 100",1),h.value?(mt(),bt("p",m5,"필수 입력 항목입니다.")):re("",!0)]),b("div",{class:"upload-box",onClick:m,onDragover:D[1]||(D[1]=wr(()=>{},["prevent"])),onDrop:S},[b("input",{type:"file",class:"hidden",ref_key:"fileInput",ref:c,onChange:C,multiple:"",accept:"image/*"},null,544),u.value.length===0?(mt(),bt("p",y5,D[3]||(D[3]=[b("strong",null,[Dn("드래그 앤 드롭이나 추가하기 버튼으로 "),b("br"),Dn("사진을 업로드해주세요.")],-1),b("br",null,null,-1),b("br",null,null,-1),b("span",{class:"small-text",style:{color:"red"}},"필수 입력 항목입니다.",-1),b("br",null,null,-1),b("span",{class:"small-text"},"*최대 5장 업로드 가능*",-1),b("br",null,null,-1),b("br",null,null,-1)]))):re("",!0),u.value.length>0?(mt(),bt("div",v5,[(mt(!0),bt(Ge,null,Zr(u.value,(q,Q)=>(mt(),bt("div",{class:"preview-item",key:Q},[b("img",{src:q.url,alt:"업로드된 이미지",onClick:wr(W=>M(Q),["stop"])},null,8,b5),b("button",{class:"remove-btn",onClick:wr(W=>M(Q),["stop"])},"×",8,x5)]))),128))])):re("",!0),D[4]||(D[4]=b("button",{class:"upload-btn"},"사진 추가하기",-1))],32),b("div",w5,[He(b("textarea",{"onUpdate:modelValue":D[2]||(D[2]=q=>l.value=q),maxlength:"300",placeholder:"내용을 입력해주세요."},null,512),[[Qe,l.value]]),b("p",_5,ae(l.value.length)+" / 300",1)]),b("div",S5,[b("button",{class:"publish-btn",onClick:$,disabled:!x.value},ae(s.value?"수정완료":"작성완료"),9,C5)])]))}},Yy=nn(E5,[["__scopeId","data-v-6892d710"]]),A5={class:"info-container"},T5={class:"profile-info"},k5={class:"nickname"},M5={class:"email"},R5={__name:"MypageInfo",setup(e){const t=Er(),n=rs(),r=void 0,s=se(()=>t.state.nickname),o=se(()=>t.state.email),l=()=>{n.push("/mypage/update")},c=async()=>{if(confirm("정말 탈퇴하시겠습니까? "))try{await Dt.delete(`${r}/api/users`,{headers:{Authorization:`Bearer ${t.state.token}`}}),alert("탈퇴되었습니다."),t.logout(),await n.push("/login")}catch(h){console.error("계정 삭제 오류",h)}};return(u,h)=>(mt(),bt("div",A5,[b("div",T5,[b("h2",k5,ae(s.value),1),b("p",M5,ae(o.value),1)]),b("div",{class:"action-buttons"},[b("button",{onClick:l,class:"blue-btn"},h[0]||(h[0]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"btn-icon"},[b("path",{d:"M12 20h9"}),b("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})],-1),Dn(" 정보 수정 ")])),b("button",{onClick:c,class:"red-btn"},h[1]||(h[1]=[b("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"btn-icon"},[b("path",{d:"M3 6h18"}),b("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})],-1),Dn(" 탈퇴 ")]))])]))}},P5=nn(R5,[["__scopeId","data-v-b2c566ce"]]),O5={data(){return{newPassword:"",confirmPassword:"",isNicknameAvailable:null,nicknameError:"",originalNickname:""}},computed:{user(){return ba().state.user},isNicknameChanged(){return this.originalNickname!==this.user.nickname}},async created(){const e=ba();try{await e.getUserInfo(),this.originalNickname=e.state.user.nickname}catch(t){console.error(t.message)}},watch:{"user.nickname"(e){e.length>16&&(this.user.nickname=e.slice(0,16))}},methods:{async checkNickname(){const e=ba();try{await e.checkNicknameAvailability(this.user.nickname)?(this.isNicknameAvailable=!0,this.nicknameError="사용 가능한 닉네임입니다."):(this.isNicknameAvailable=!1,this.nicknameError="이미 사용 중인 닉네임입니다.")}catch(t){console.error(t.message),this.isNicknameAvailable=!1,this.nicknameError="닉네임 확인에 실패했습니다. 다시 시도해 주세요."}},async updateUser(){if(this.isNicknameChanged&&this.isNicknameAvailable!==!0){alert("변경된 닉네임을 먼저 확인해 주세요.");return}if(this.newPassword&&this.newPassword!==this.confirmPassword){alert("비밀번호가 일치하지 않습니다.");return}const e={};this.isNicknameChanged&&(e.nickname=this.user.nickname),this.newPassword&&(e.password=this.newPassword);try{const t=ba(),n=Er();await t.updateUserInfo(e),await n.fetchUserInfo(),alert("수정되었습니다."),this.$router.push("/mypage/info")}catch(t){console.error(t.message),alert("수정에 실패했습니다.")}},cancelEdit(){this.$router.push("/mypage/info")}}},I5={class:"update-container"},L5={key:0,class:"form-box"},N5={key:0,class:"error-message"},D5={class:"check-nickname"},$5={key:0,class:"error-message"},U5={class:"btn-box"};function F5(e,t,n,r,s,o){return mt(),bt("div",I5,[o.user?(mt(),bt("div",L5,[t[7]||(t[7]=b("label",null,"이메일",-1)),He(b("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>o.user.email=l),disabled:"",class:"input-box disabled"},null,512),[[Qe,o.user.email]]),t[8]||(t[8]=b("label",null,"닉네임",-1)),He(b("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>o.user.nickname=l),class:"input-box"},null,512),[[Qe,o.user.nickname]]),o.user.nickname.length>=16?(mt(),bt("p",N5," 닉네임은 최대 16자까지 입력 가능합니다. ")):re("",!0),b("div",D5,[b("button",{onClick:t[2]||(t[2]=(...l)=>o.checkNickname&&o.checkNickname(...l)),class:"blue-btn"},"닉네임 중복 확인"),s.nicknameError?(mt(),bt("p",$5,ae(s.nicknameError),1)):re("",!0)]),t[9]||(t[9]=b("label",null,"새 비밀번호",-1)),He(b("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>s.newPassword=l),type:"password",class:"input-box"},null,512),[[Qe,s.newPassword]]),t[10]||(t[10]=b("label",null,"비밀번호 확인",-1)),He(b("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>s.confirmPassword=l),type:"password",class:"input-box"},null,512),[[Qe,s.confirmPassword]]),b("div",U5,[b("button",{onClick:t[5]||(t[5]=(...l)=>o.updateUser&&o.updateUser(...l)),class:"blue-btn"},"수정"),b("button",{onClick:t[6]||(t[6]=(...l)=>o.cancelEdit&&o.cancelEdit(...l)),class:"red-btn"},"취소")])])):re("",!0)])}const V5=nn(O5,[["render",F5],["__scopeId","data-v-ad28f488"]]),Oo=TR({history:nR(),routes:[{path:"/",redirect:"/floor-editor/1"},{path:"/article",name:"ArticleList",component:ND,meta:{showHeader:!0}},{path:"/article/:articleId",name:"ArticleDetail",component:h5,meta:{showHeader:!0}},{path:"/article/create",name:"ArticleCreate",component:Yy},{path:"/article/:articleId/edit",name:"ArticleUpdate",component:Yy},{path:"/login",name:"Login",component:tP,meta:{showHeader:!0}},{path:"/room",name:"Room",component:UP,meta:{showHeader:!0}},{path:"/floor-editor/:roomId",name:"FloorEditor",component:Lv,meta:{showHeader:!1}},{path:"/furniture-editor/:roomId",name:"FurnitureEditor",component:Jv,meta:{showHeader:!1}},{path:"/editor/:roomId",name:"Editor",component:oD,meta:{showHeader:!1}},{path:"/signup",name:"SignUp",component:bP,meta:{showHeader:!0}},{path:"/oauth/success",name:"OAuthSuccess",component:aD,meta:{showHeader:!1}},{path:"/pwdcheck",name:"PasswordCheck",component:gD,meta:{showHeader:!0}},{path:"/mypage",name:"MyPage",component:CD,redirect:"/mypage/info",children:[{path:"info",name:"MypageInfo",component:P5},{path:"update",name:"MypageUpdate",component:V5,meta:{showHeader:!0}}],meta:{showHeader:!0}}]});window.addEventListener("load",()=>{const e=window.location.href;if(e.includes("/oauth/callback")){const t=new URL(e);window.location.href=`/oauth/success${t.search}`}});const Ad=FT(HR),B5=HT();Ad.use(B5);Ad.use(Oo);Ad.mount("#app");
